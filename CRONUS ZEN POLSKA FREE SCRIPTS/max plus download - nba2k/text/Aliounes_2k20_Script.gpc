// GPC Online Library
// ALIOUNE'S_nba_2k20_jumpshot_script.gpc

/* 

										******HOW IT WORKS******	
							        	VIBRTION HAVE TO BE ON!
								
											2 Shot Options:
											
	-JUMPSHOT WITH SQUARE: Just press and hold THE SQUARE (PS4) / X (XBOX) button. 
		the script releases it for you when it should

*/

unmap PS4_L1;

int rx_offset = 21; // this is the offset you want to change if you're getting
					// misdirectioned shot feedback. if you're getting slightly
					// , increase this value. if you're getting slightly
					// rights, decrease this value. try to do it increments of
					// 1 or 2.


int delay = 21; // this is the delay you want to change to suit your internet
				// decrease for slighty lates, increase for slightly earlies...
				// you can change it here or use the above mentioned controls
				// to change it ingame. i have mine set to 21, yours may very 
				// well have to be different.



main {

///////////////////////////////////////////////////////
				/* For the delay */
///////////////////////////////////////////////////////


	// decrease delay if you're getting lates
	if(get_val(PS4_L1) && event_press(PS4_LEFT)) {
		delay--;
		combo_run(noti);
	}
	
	// increase delay if you're getting earlies
	if(get_val(PS4_L1) && event_press(PS4_RIGHT)) {
		delay++;
		combo_run(noti);
	}
	
	//reset delay
	if(get_val(PS4_L1) && event_press(PS4_UP)) {
		delay = 21;
		combo_run(reset_noti);
	}

///////////////////////////////////////////////////////
				/* For the offset */
///////////////////////////////////////////////////////
	
	// decrease offset if you're getting 
	if(get_val(PS4_L2) && event_press(PS4_LEFT)) {
		rx_offset--;
		combo_run(noti);
	}
	
	// increase offset if you're getting 
	if(get_val(PS4_L2) && event_press(PS4_RIGHT)) {
		rx_offset++;
		combo_run(noti);
	}
	
	//reset offset
	if(get_val(PS4_L2) && event_press(PS4_UP)) {
		rx_offset = 38;
		combo_run(reset_noti);
	}
	
///////////////////////////////////////////////////////
			/* Pro Sitck & Square Shot */
///////////////////////////////////////////////////////

    if(get_val(PS4_R3)) {
        set_val(PS4_RY, 100);
        set_val(PS4_RX, rx_offset);
    }
    
    if(get_rumble(RUMBLE_A) || get_rumble(RUMBLE_B)) {
    	combo_run(wait_time); // add the timing boost / release square
    }
 	
///////////////////////////////////////////////////////
					/* Layup */
///////////////////////////////////////////////////////

 	if(event_press(PS4_L1)) combo_run(layup);
 	
    
}

combo noti{
	set_rumble(RUMBLE_A, 100);
	set_rumble(RUMBLE_B, 100);
	wait(225);
	set_rumble(RUMBLE_A, 0);
	set_rumble(RUMBLE_B, 0):
}

combo reset_noti{
	set_rumble(RUMBLE_A, 100);
	set_rumble(RUMBLE_B, 100);
	wait(225);
	set_rumble(RUMBLE_A, 0);
	set_rumble(RUMBLE_B, 0):
	wait(300);
	set_rumble(RUMBLE_A, 100);
	set_rumble(RUMBLE_B, 100);
	wait(225);
	reset_rumble();	
}

combo wait_time{
	wait(delay);
	set_val(PS4_L2, 100);
	set_val(PS4_SQUARE, 0):
	wait(100);
	set_val(PS4_L2, 0);
	wait(200):
}


combo layup {
	set_val(PS4_RY, 100);
	wait(200);
	set_val(PS4_RY, 100);
	set_val(PS4_RX, rx_offset);
	wait(900);
}
