//	Forza Horizon 5 - Farm Skill Point (as of 12/02/21)
	
//NEW SCRIPT WORKING INF SCRIPT BY SOFT IF COLD
	    
//	    Follow the setup here:  https://youtu.be/uGOgxBw5-IE
	    
//	    Use this share code: 743 324 179
	   
	    
//	    At the START RACE EVENT menu screen, start the script (RB/R1 + Dpad DOWN)
//	    At the START/END RACE EVENT menu screen, to stop  the script (RB/R1 + Dpad DOWN)

int XPFARM = FALSE;
// Text
    const string TITLE = "30S XPFARM"; // 11 char max
     const string XPON = "ENABLED"; // 11 char max
      const string XPOFF = "DISABLED"; // 11 char max
// Buttons
define RightBumber  = XB1_RB;
define LeftBumper = XB1_LB;

//text font size etc
function center_x(f_chars,f_font) {           
//  center_x(number of chars,font size);     
//        return X for Centering String Horizontally                                                
    return (OLED_WIDTH / 2) - ((f_chars * f_font) / 2); 
}  
function bottom_x(f_chars,f_font) {           
//  center_x(number of chars,font size);     
//        return X for Centering String Horizontally                        
    return (OLED_WIDTH / 9) - ((f_chars * f_font) / 1); 
}    
function left_x(f_chars,f_font) {           
//  center_x(number of chars,font size);     
//        return X for Centering String Horizontally                                             
    return (OLED_WIDTH / 12) - ((f_chars * f_font) / 2); 
} 
// main script 
main {
//makes screen blank
cls_oled(000000);	
//writes title on screen
    	     printf(center_x(sizeof(TITLE) - 1, OLED_FONT_MEDIUM_WIDTH),13,OLED_FONT_MEDIUM,OLED_WHITE,TITLE[0]);
    	     //Loop Controler
            if (get_ival(XB1_LB) && event_press(XB1_RIGHT)) {
              combo_run(XPFARM);
    }
    //Start Script
        if (get_ival(XB1_RB) && event_press(XB1_DOWN)) {
        
        XPFARM = !XPFARM;
    }
    
    
    if (XPFARM) {
         
         combo_run(XPFARM);
         //writes enabled text on screen
             	     printf(center_x(sizeof(XPON) - 1, OLED_FONT_MEDIUM_WIDTH), 45,OLED_FONT_MEDIUM,OLED_WHITE,XPON[0])
    } else {
             
         combo_stop(XPFARM);
    printf(center_x(sizeof(XPOFF) - 1, OLED_FONT_MEDIUM_WIDTH), 45,OLED_FONT_MEDIUM,OLED_WHITE,XPOFF[0])
    }
}
// combo/marco 
combo XPFARM {
	set_val(XB1_A, 100);
	wait(150);
	set_val(XB1_A, 0);
	wait(2500);
	set_val(XB1_RT, 100);
	wait(30000);
	set_val(XB1_RT, 100);
	wait(5000);
	set_val(XB1_RT, 0);
	wait(15000);
	set_val(XB1_X, 100);
	wait(100);////see how this goes might need to be changed	
	set_val(XB1_X, 0);
	wait(500);
	set_val(XB1_A, 100);
	wait(100);
	set_val(XB1_A, 0);
	wait(15000);
    set_val(XB1_LB, 100);
    set_val(XB1_RIGHT, 100);
	wait(1);
    set_val(XB1_LB, 0);
    set_val(XB1_RIGHT, 0);
}