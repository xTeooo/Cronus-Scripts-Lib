/* 

██╗  ██╗███████╗██╗     ██╗ ██████╗ ███████╗    ██╗   ██╗ ██╗
██║  ██║██╔════╝██║     ██║██╔═══██╗██╔════╝    ██║   ██║███║
███████║█████╗  ██║     ██║██║   ██║███████╗    ██║   ██║╚██║
██╔══██║██╔══╝  ██║     ██║██║   ██║╚════██║    ╚██╗ ██╔╝ ██║
██║  ██║███████╗███████╗██║╚██████╔╝███████║     ╚████╔╝  ██║
╚═╝  ╚═╝╚══════╝╚══════╝╚═╝ ╚═════╝ ╚══════╝      ╚═══╝   ╚═╝
                                                             
░█▀▄░█░█░░░█▀█░█▀█░█░█░█▀▀░█░█░█▀▀░█▀█░▀█▀░█▀▀
░█▀▄░░█░░░░█▀█░█▀▀░█▀▄░█░░░█▀█░█▀▀░█▀█░░█░░▀▀█
░▀▀░░░▀░░░░▀░▀░▀░░░▀░▀░▀▀▀░▀░▀░▀▀▀░▀░▀░░▀░░▀▀▀                                                             
                                                                                                                                                                                       
============================================================================================================================================
 Instructions Are Below
============================================================================================================================================
/*------------------------------- INSTRUCTIONS PLEASE READ ------------------------------------------
=====================================================================================================
Enter Mod Menu   							= HOLD ADS & OPTIONS  
-----------------------------------------------------------------------------------------------------
Exit Menu                                   = CIRCLE/B 
-----------------------------------------------------------------------------------------------------
Enter Edit Menu To Change Values            = CROSS/A 
-----------------------------------------------------------------------------------------------------
Exit Edit Menu To Mod Menu                  = CIRCLE/B
-----------------------------------------------------------------------------------------------------
Enable/Disable Drive Mode                   = HOLD FIRE & Double Tap Right / Press Square TO Disable
-----------------------------------------------------------------------------------------------------
Change Profiles In The Menu                 = TRIANGLE/Y
-----------------------------------------------------------------------------------------------------
Change Values In Edit Menu                  = HOLD ADS & LEFT OR RIGHT OR UP OR DOWN
-----------------------------------------------------------------------------------------------------
Turn Mods On/Off                            = PRESS UP / DOWN TO CYCLE TOGGLE OPTIONS IF APPLICABLE
-----------------------------------------------------------------------------------------------------
Navigate The Main Menu                      = PRESS UP / DOWN 
-----------------------------------------------------------------------------------------------------
Navigate Mod Menu & Edit Menu               = PRESS LEFT / RIGHT 
-----------------------------------------------------------------------------------------------------
Choosing Buttons For Profiles/QuickToggles  = HOLD ADS & PRESS LEFT OR RIGHT 
-----------------------------------------------------------------------------------------------------
Enter/Exit Recoil Menu                      = HOLD ADS & PRESS SHARE/MENU  
-----------------------------------------------------------------------------------------------------
Adjust Values In Recoil Menu                = HOLD ADS & PRESS LEFT/RIGHT/UP/DOWN 
(If you don't press any buttons for 10 seconds - menu will close itself ) 
-----------------------------------------------------------------------------------------------------
====================================================================================================*/		
/*
/* NO NEED TO DO ANY THING ELSE NOW EXCEPT GO AND PLAY */
const int8 PolarArray[] = { -100,-100,-100,-100,-100,-100,-100,-100,-100,-99,-99,-99,-98,-98,-98,-97,-97,-96,-96,-95,-94,-94,-93,-93,-92,-91,-90,-90,-89,-88,-87,-86,-85,-84,-83,-82,-81,-80,-79,-78,-77,-76,-75,-74,-72,-71,-70,-69,-67,-66,-65,-63,-62,-61,-59,-58,-56,-55,-53,-52,-50,-49,-47,-46,-44,-43,-41,-40,-38,-36,-35,-33,-31,-30,-28,-26,-25,-23,-21,-20,-18,-16,-14,-13,-11,-9,-7,-6,-4,-2,0,2,4,6,7,9,11,13,14,16,18,20,21,23,25,26,28,30,31,33,35,36,38,40,41,43,44,46,47,49,51,52,54,55,56,58,59,61,62,63,65,66,67,69,70,70,72,73,74,75,77,78,79,80,81,82,83,84,85,86,87,88,89,89,90,91,92,92,93,94,94,95,95,96,97,97,97,98,98,99,99,99,99,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,99,99,99,99,98,98,97,97,97,96,95,95,94,94,93,92,92,91,90,89,89,88,87,86,85,84,83,82,81,80,79,78,77,75,74,73,72,71,70,69,67,66,65,63,62,61,59,58,56,55,53,52,50,49,47,46,44,43,41,40,38,36,35,33,31,30,28,26,25,23,21,20,18,16,14,13,11,9,7,6,4,2,0,-1,-3,-5,-7,-8,-10,-12,-13,-15,-17,-19,-20,-22,-24,-25,-27,-29,-30,-32,-34,-35,-37,-39,-40,-42,-43,-45,-46,-48,-50,-51,-53,-54,-55,-57,-58,-60,-61,-62,-64,-65,-66,-68,-69,-70,-71,-73,-74,-75,-76,-77,-78,-79,-80,-81,-82,-83,-84,-85,-86,-87,-88,-89,-89,-90,-91,-92,-92,-93,-93,-94,-95,-95,-96,-96,-97,-97,-97,-98,-98,-99,-99,-99,-99,-100,-100,-100,-100,-100};
const int8 LinearArray[] = { 100,-100,-99,-98,-97,-96,-95,-94,-93,-91,-90,-89,-88,-87,-86,-85,-84,-82,-81,-80,-79,-78,-77,-76,-75,-73,-72,-71,-70,-69,-68,-67,-66,-64,-63,-62,-61,-60,-59,-58,-57,-55,-54,-53,-52,-51,-50,-49,-48,-46,-45,-44,-43,-42,-41,-40,-39,-37,-36,-35,-34,-33,-32,-31,-30,-28,-27,-26,-25,-24,-23,-22,-21,-19,-18,-17,-16,-15,-14,-13,-12,-10,-9,-8,-7,-6,-5,-4,-3,-11,2,3,4,5,6,7,8,10,11,12,13,14,15,16,17,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,37,38,39,40,41,42,43,44,46,47,48,49,50,51,52,53,55,56,57,58,59,60,61,62,64,65,66,67,68,69,70,71,73,74,75,76,77,78,79,80,82,83,84,85,86,87,88,89,91,92,93,94,95,96,97,98,100,100,100,99,98,97,96,95,94,93,91,90,89,88,87,86,85,84,82,81,80,79,78,77,76,75,73,72,71,70,69,68,67,66,64,63,62,61,60,59,58,57,55,54,53,52,51,50,49,48,46,45,44,43,42,41,40,39,37,36,35,34,33,32,31,30,28,27,26,25,24,23,22,21,19,18,17,16,15,14,13,12,10,9,8,7,6,5,4,3,1,-1,-1,-2,-3,-4,-5,-6,-7,-8,-10,-11,-12,-13,-14,-15,-16,-17,-19,-20,-21,-22,-23,-24,-25,-26,-28,-29,-30,-31,-32,-33,-34,-35,-37,-38,-39,-40,-41,-42,-43,-44,-46,-47,-48,-49,-50,-51,-52,-53,-55,-56,-57,-58,-59,-60,-61,-62,-64,-65,-66,-67,-68,-69,-70,-71,-73,-74,-75,-76,-77,-78,-79,-80,-82,-83,-84,-85,-86,-87,-88,-89,-91,-92,-93,-94,-95,-96,-97,-98,-100};   
const string Toggle  []              = {"Off","On"};
const string misc[]                  = {"Helios 1.0","Saved","V1.00",""}; 
const string stringsMenuInfo[]       = {"1 to 3 / 3 to 1","1 to 2 / 3 to 4","A/CROSS To Edit","QuickToggles","Drive Mode","Activated","Deactivated","Choose Buttons","Long Range",""};
const string slideOpt[]              = {"Off","Modern Warfare","Cold War",""}; 
const string VMSpeed[]               = {"0","-2","-4","-6"};
const string aimType[]               = {"Polar","Linear",""}; 
const string aimShapePolar[]         = {"Circle","T.Oval","W.Oval","Kitt","V.Flare","Tartan","Jupiter","Asterisk","Rose","Atomic",""}; 
const string aimShapeLinear[]        = {"Diamond","D.T.Oval","D.W.Oval","Kitt","V.Flare","Tartan","D.Jupiter","Asterisk","Rose","Atomic",""};
const string handGunFireType[]       = {"Fire Only","Ads & Bumper",""};
const string antiRecoilOptions[]     = {"Off","Polar Rumble","Rumble",""};
const string progressiveAR[]         = {"Off","Standard","Rumble","Hybrid","Polar",""};
const string profileId[]             = {"Profile 1","Profile 2","Profile 3","Profile 4",""}; 
const string MainMenuId[]            = {"Antirecoil","Aim Assist","Fire Mods","HGun Settings","Misc Mods","Controller Config","Profiles","Quick Toggles","Mod Activation",""};
const string arActivation[]          = {"Ads & Fire","Fire Only","Ads+Fire & Fire"}; 
const string aimAssistType[]         = {"Ads Or Fire","Ads & Fire","Fire Only","Ads&Fire Or Fire"}; 
const string BtnLayouts[]            = {"Default", "Tactical", "Lefty", "N0M4D/Charlie", "N0M4D/Charlie Tac", "N0M4D/Charlie Left", "Bumper Jumper", "Bumper Jumper Tac", "1-Hand Gunslinger", "Stick & Move", 
"Brawler", "Beast","Bumper Ping","Bumper Ping Tac", "Default Flipped","Tactical Flipped", "B.Jumper Flipped", "B.JumprTac Flipped", "Stick&Move Flipped","Beasty Swapped","B.Ping Flipped","B.Ping.Tac.Flipped"}
const string controllerStick[]       = {"Default","Southpaw","Legacy","Legacy Southpaw"};
const string pressButtons[]          = { "Select","Triangle/Y","Cross/A","Circle/B","Square/X","Dpad Down","Dpad UP","Dpad Left","Dpad Right","Share/View","Options/Menu","Touch/Sync","Accx/Share","Accy","PS Btn","Xbox Btn","Xbx PR1","Xbx PR2","Xbx PL1","Xbx PL2"};
const string quickToggleSelection[]     = {"Select QT 1","HoldBreath QT","QuickScope QT","Fast Melee QT","Crouch Shot QT","Jump Shot QT","Insta Drop QT","Auto Aim QT",""}; 
const string quickToggleSelectionTwo[]  = {"Select QT 2","HoldBreath QT","QuickScope QT","Fast Melee QT","Crouch Shot QT","Jump Shot QT","Insta Drop QT","Auto Aim QT",""}; 
const string quickToggleActivation[] = {"Default","Ads & Fire","Fire Only","Ads & Fire+Crouch","Release Ads","On Ads",""};
const string autoDualHGun[]          = {"Off","Semi","Auto",""}; 
const uint8  editQT[]   = {0,0,1,0,1,0,0,0,0};
const uint8  toggleQT[] = {0,0,1,0,1,1,1,0,0};
const uint8 mainMenuInfo[][]         = { 
	{ 0 , 1 },
	{ 2 , 3 },
	{ 4 , 5 },
	{ 6 , 7 }, 
	{ 8 ,10 },  
	{11 ,14 }, 
	{15 ,18 },
	{19 ,25 },
	{26 ,31 } 
};
const string modNames[] = {
	"Basic AR","Advanced AR",
	"Helios AA","Sticky AA",
	"StrafeShot","Enemy Ping",
	"HGun Mode","Dual HGun Mode",
	"Cancel Slide","Bunny Hop","VM Speed",
	"Button Layout","Stick Layout","Block Rumble","Hair Triggers",
	"Profile Btn","ReSync Btn","Profile Pairing","2 Btn Method",
	"Choose QT 1","Choose QT 2","","","HGun Mode","Dual HGun Mode","StrafeShot",
	"Basic AR","Advanced AR","Helios AA","Sticky AA",
""};   
const string valNames[] = {
	"Vert Strength","Horiz Strength",
	"Start Vertical","Mid Vertical","End Vertical","Vertical Time","Start Horizontal","End Horizontal","Horizontal Time",
	"AA Type","Shape","Radius","Speed","Long Range Mode","Tracking","Tracking Size","Tracking Speed",
	"Strength","Time",
	"Strength","Time",
	"Ping Delay",
	"RPS","Vertical",
	"RPS",
	"Slide Delay",
	"DelayTime","CrouchSpeed",
""}; 
enum { 
	basicAR,
	advancedAR,
	strafeShotToggle = 4,
	hGunMode = 6,
	dualHandGunMode,
	slideCancel,
	virtualSpeed = 10,
	controllerLayout,
	sticksLayout,
	profileButton = 15,
	resyncProfileButton,
	quickToggleOptionOne = 19,
	quickToggleOptionTwo,
	displayQuickToggleOne,
	displayQuickToggleTwo,
	basicARFireType = 26,
	advancedARFireType,
	HeliosAAFireType,
	stickyAAFireType,
	quickToggleFireTypeOne,
	quickToggleFireTypeTwo
} 
const uint8 modMenuInfo[][] = { 
{       0      ,      1      ,     1     ,    5    ,     2     ,     1 }, 
{       2      ,      8      ,     1     ,    5    ,     4     ,     1 }, 
{       9      ,     16      ,     1     ,    0    ,     1     ,     0 }, 
{      17      ,     18      ,     1     ,    0    ,     1     ,     0 }, 
{      19      ,     20      ,     1     ,    0    ,     1     ,     0 }, 
{      21      ,     21      ,     1     ,    0    ,     1     ,     0 }, 
{      22      ,     23      ,     1     ,    0    ,     1     ,     0 }, 
{      24      ,     24      ,     1     ,    0    ,     2     ,     0 }, 
{      25      ,     25      ,     1     ,    0    ,     2     ,     0 }, 
{       0      ,      0      ,     0     ,    0    ,     1     ,     0 }, 
{       0      ,      0      ,     0     ,    0    ,     3     ,     0 }, 
{       0      ,      0      ,     0     ,    0    ,    21     ,     0 }, 
{       0      ,      0      ,     0     ,    0    ,     3     ,     0 }, 
{       0      ,      0      ,     0     ,    0    ,     1     ,     0 }, 
{       0      ,      0      ,     0     ,    0    ,     1     ,     0 }, 
{       0      ,      0      ,     0     ,    0    ,    19     ,     0 },
{       0      ,      0      ,     0     ,    0    ,    14     ,     0 }, 
{       0      ,      0      ,     0     ,    1    ,     0     ,     1 }, 
{       0      ,      0      ,     0     ,    2    ,     0     ,     1 },
{      26      ,     27      ,     0     ,    3    ,     7     ,     1 }, 
{      26      ,     27      ,     0     ,    3    ,     7     ,     1 }, 
{       0      ,      0      ,     0     ,    4    ,     7     ,     1 }, 
{       0      ,      0      ,     0     ,    4    ,     7     ,     1 }, 
{       0      ,      0      ,     0     ,    4    ,     0     ,     1 }, 
{       0      ,      0      ,     0     ,    4    ,     0     ,     1 }, 
{       0      ,      0      ,     0     ,    4    ,     0     ,     1 }, 
{       0      ,      0      ,     0     ,    0    ,     2     ,     0 }, 
{       0      ,      0      ,     0     ,    0    ,     2     ,     0 }, 
{       0      ,      0      ,     0     ,    0    ,     3     ,     0 }, 
{       0      ,      0      ,     0     ,    0    ,     3     ,     0 }, 
{       0      ,      0      ,     0     ,    0    ,     5     ,     0 }, 
{       0      ,      0      ,     0     ,    0    ,     5     ,     0 }  
} 
const int16 editMenuInfo[][] = { 
{    -99   ,     99  ,       1      ,     10     ,     1      ,     1   },
{    -99   ,     99  ,       1      ,     10     ,     1      ,     1   },
{    -99   ,     99  ,       1      ,     10     ,     1      ,     1   },
{    -99   ,     99  ,       1      ,     10     ,     1      ,     1   },
{    -99   ,     99  ,       1      ,     10     ,     1      ,     1   },
{      0   ,     99  ,       1      ,     10     ,     1      ,     1   },
{    -99   ,     99  ,       1      ,     10     ,     1      ,     1   },
{    -99   ,     99  ,       1      ,     10     ,     1      ,     1   },
{      0   ,     99  ,       1      ,     10     ,     1      ,     1   },
{      0   ,      1  ,       1      ,      1     ,     0      ,     0   },
{      0   ,      9  ,       1      ,      1     ,     0      ,     0   },
{      1   ,     99  ,       1      ,     10     ,     0      ,     0   },
{      1   ,     99  ,       1      ,     10     ,     0      ,     0   },
{      0   ,      0  ,       0      ,      0     ,     2      ,     1   },
{      0   ,      1  ,       1      ,      1     ,     0      ,     0   },
{      1   ,     10  ,       1      ,      1     ,     0      ,     0   },
{      1   ,     10  ,       1      ,      1     ,     0      ,     0   },
{      1   ,     99  ,       1      ,     10     ,     0      ,     0   },
{      1   ,     99  ,       1      ,     10     ,     0      ,     0   },
{      1   ,    100  ,       1      ,     10     ,     0      ,     0   },
{      1   ,    990  ,      10      ,    100     ,     0      ,     0   },
{ 	   1   ,   5000  ,      10      ,    100     ,     0      ,     0   },
{ 	   1   ,     25  ,       1      ,     10     ,     0      ,     0   },
{    -99   ,     99  ,       1      ,     10     ,     0      ,     0   },
{ 	   1   ,     25  ,       1      ,     10     ,     0      ,     0   },
{ 	   1   ,    200  ,       1      ,     10     ,     0      ,     0   },
{ 	   1   ,    900  ,      10      ,    100     ,     0      ,     0   },
{ 	   1   ,    100  ,       1      ,     10     ,     0      ,     0   } 
} 
int mainMenu,modMenu,editMenu; 
int mainNameIdx,modNameIdx,valNameIdx,modIndex,valNameIndex;
int screenSaver,blankScreen;
int displayTitle = TRUE;
int updateDisplay,profileIdx;
int selectedProfileIdx;
int antiRecoilBasic[4];
int antiRecoilAdvanced[4];
int aimAssist;
int stickyAimAssist;
int strafeShot;
int enemyPing;
int handGunMode;
int dualHGunMode; 
int cancelSlide;
int bunnyHop;
int blockRumble; 
int hairTriggers; 
int vmSpeed; 
int standardARFireType;
int progressiveARFireType;
int HeliosFireType;
int stickyFireType;
int buttonLayouts;
int stickLayouts;
int singleProfileBtnIdx;
int resyncProfileBtnIdx; 
int quickToggleIdx[2]; 
int quickToggleActivationType[2]; 
int Vertical[4];
int Horizontal[4];
int VerticalStart[4];
int VerticalMid[4];
int VerticalEnd[4];
int VerticalTime[4];
int HorizontalStart[4];
int HorizontalEnd[4];
int HorizontalTime[4];
int AimAssistSize[4];
int AimAssistTime[4];
int StrafeActiveTime;
int StrafeSize; 
int HeliosType;
int HeliosShapes;
int speedAngle;
int radiusSize;
int HeliosTracking;
int trackingSize;
int trackingSpeed;
int PingDelay; 
int rateOfFire;
int handGunVert;
int handGunVertical;
int dualRateOfFire;
int SlideDelay;
int quickScopeDelay; 
int crouchSpeed; 
int fireType;
int angle,aimAssistRadius,cosAngle,sinAngle,polarAngle;
int Positionv2,Positionv3;
int angleDirection;
int smartRumble,antirecoilStrength;
int HoldTime,RestTime;
int FireRF;
int trackingAngleOne,trackingAngleTwo,trackingAngle;
int engage;
int HeliosShapeShifter, HeliosShapeShift;
int anglePosition,timer;
int recoilSize;
int driveMode,LedOn,LedOff;
int CompleteTime;
int Time;
int AntirecoilStart,AntirecoilMid,AntirecoilEnd;
int HybridStart;
int HorizTime;
int toggleActivation[2]; 
int displayQToggles;
int HeliosSpeedChange,speedChangeConfirmed;
int recoilEdit;
init { 
	Load();
} 
main { 
    Buttons(buttonLayouts);
    ControllerRSLS(stickLayouts);
    ActivateAllButtons(); 

	if(get_ival(Ads)){ 
		if(event_press(PS4_OPTIONS)){ 
			getMenuStatus(TRUE,TRUE,FALSE,FALSE,FALSE)
			if(!mainMenu){ 
				getMenuStatus(FALSE,FALSE,FALSE,FALSE,TRUE)
		    } 
		}

		if(event_press(PS4_SHARE)){ 
			editMenu =! editMenu;
			updateDisplay = TRUE;
			menuTimeOut   = activeMenuTime;
			
			if(editMenu){ 
				displayTitle = FALSE;
				recoilEdit = TRUE;
				modMenu = FALSE;
				mainMenu = FALSE;
			} 
			if(!editMenu){ 
				recoilEdit = FALSE;
				updateDisplay = FALSE;
				displayTitle = TRUE;
				mainMenu = FALSE;
				modMenu = FALSE;
				Save();
			} 
		} 
		set_val(PS4_OPTIONS,0);set_val(PS4_SHARE,0);
	}

	if(!displayTitle){ 
		if(mainMenu || modMenu || editMenu){ 
			set_ledx(profileIdx,2);
		}

		if(mainMenu){ 
			mainNameIdx = menuNavigation(mainNameIdx,0,8);
			menuScroll();
		} 

		if(modMenu){
			vm_tctrl(0);
			modNameIdx = menuNavigation(modNameIdx,mainMenuInfo[mainNameIdx][0],mainMenuInfo[mainNameIdx][1]);
			modIndex = -1;
			antiRecoilBasic[profileIdx]    = toggleSwitch(antiRecoilBasic[profileIdx]             );
			antiRecoilAdvanced[profileIdx] = toggleSwitch(antiRecoilAdvanced[profileIdx]          );
			aimAssist                      = toggleSwitch(aimAssist                               );
			stickyAimAssist                 = toggleSwitch(stickyAimAssist                          );
			strafeShot                     = toggleSwitch(strafeShot                              );
			enemyPing                      = toggleSwitch(enemyPing                               );
			handGunMode                    = toggleSwitch(handGunMode                             );
			dualHGunMode			       = toggleSwitch(dualHGunMode                            );
			cancelSlide                    = toggleSwitch(cancelSlide                             );
			bunnyHop                       = toggleSwitch(bunnyHop                                );
			vmSpeed                        = toggleSwitch(vmSpeed                                 );
			buttonLayouts                  = toggleSwitch(buttonLayouts                           );
			stickLayouts                   = toggleSwitch(stickLayouts                            ); 
			blockRumble                    = toggleSwitch(blockRumble			                  );
			hairTriggers                   = toggleSwitch(hairTriggers		                      );
			singleProfileBtnIdx            = toggleSwitch(singleProfileBtnIdx                     );
			resyncProfileBtnIdx            = toggleSwitch(resyncProfileBtnIdx                     ); 
			ButtonActivation(0)
			ButtonActivation(1)	
			quickToggleIdx[0] 			   = toggleSwitch(quickToggleIdx[0]                       );
			quickToggleIdx[1]              = toggleSwitch(quickToggleIdx[1]                       );
			ButtonActivation(2)
			ButtonActivation(3)
			ButtonActivation(4)
			ButtonActivation(5)
			ButtonActivation(6)
			standardARFireType             = toggleSwitch(standardARFireType                      );
			progressiveARFireType          = toggleSwitch(progressiveARFireType                   );
			HeliosFireType                 = toggleSwitch(HeliosFireType                          );
			stickyFireType                  = toggleSwitch(stickyFireType                           );
			
			if(modNameIdx == quickToggleFireTypeOne){ 
				if(toggleQT[quickToggleIdx[0]] == 1){ 
					if(event_press(PS4_UP)){ 
						quickToggleActivationType[0] = rotateVar(quickToggleActivationType[0] + 1,0,modMenuInfo[modNameIdx][4]);	
						updateDisplay = TRUE;
						
						if(!quickToggleActivationType[0])
							combo_run(rumbleOff);
						else
							combo_run(rumbleOn); 
				    }
				    if(event_press(PS4_DOWN)){ 
						quickToggleActivationType[0] = rotateVar(quickToggleActivationType[0] - 1,0,modMenuInfo[modNameIdx][4]);
						updateDisplay = TRUE;
						
						if(!quickToggleActivationType[0])
							combo_run(rumbleOff);
						else
							combo_run(rumbleOn); 
				    }
				}
			} 
			if(modNameIdx == quickToggleFireTypeTwo){ 
				if(toggleQT[quickToggleIdx[1]] == 1){ 
					if(event_press(PS4_UP)){ 
						quickToggleActivationType[1] = rotateVar(quickToggleActivationType[1] + 1,0,modMenuInfo[modNameIdx][4]);
						updateDisplay = TRUE;
						
						if(!quickToggleActivationType[1])
							combo_run(rumbleOff);
						else
							combo_run(rumbleOn); 
				    }
				    if(event_press(PS4_DOWN)){ 
						quickToggleActivationType[1] = rotateVar(quickToggleActivationType[1] - 1,0,modMenuInfo[modNameIdx][4]);
						updateDisplay = TRUE;
						
						if(!quickToggleActivationType[1])
							combo_run(rumbleOff);
						else
							combo_run(rumbleOn); 
				    }
				}
			} 
			menuScroll();		
		} 
		if(editMenu){ 
			vm_tctrl(0);
			if(recoilEdit){ 
				valNameIdx = menuNavigation(valNameIdx,0,8);
			}
			else{ 
				valNameIdx = menuNavigation(valNameIdx,modMenuInfo[modNameIdx][0],modMenuInfo[modNameIdx][1]);
			} 
			valNameIndex = -1; 
			Vertical          [profileIdx] = editValues( Vertical          [profileIdx] );
			Horizontal        [profileIdx] = editValues( Horizontal        [profileIdx] );
			VerticalStart     [profileIdx] = editValues( VerticalStart     [profileIdx] );
			VerticalMid       [profileIdx] = editValues( VerticalMid       [profileIdx] );
			VerticalEnd       [profileIdx] = editValues( VerticalEnd       [profileIdx] );
			VerticalTime      [profileIdx] = editValues( VerticalTime      [profileIdx] );
			HorizontalStart   [profileIdx] = editValues( HorizontalStart   [profileIdx] );
			HorizontalEnd     [profileIdx] = editValues( HorizontalEnd     [profileIdx] );
			HorizontalTime    [profileIdx] = editValues( HorizontalTime    [profileIdx] );
			HeliosType					   = editSwitch( HeliosType      				);
			HeliosShapes                   = editSwitch( HeliosShapes                   );
			radiusSize                     = editValues( radiusSize                     );
			speedAngle                     = editValues( speedAngle                     );
			buttonActivationEdit(7)
			HeliosTracking                 = editSwitch( HeliosTracking                 );
			trackingSize                   = editValues( trackingSize                   );
			trackingSpeed                  = editValues( trackingSpeed                  );
			AimAssistSize     			   = editValues( AimAssistSize                  );
			AimAssistTime    			   = editValues( AimAssistTime     			    );
			StrafeSize                     = editValues( StrafeSize                     );
			StrafeActiveTime               = editValues( StrafeActiveTime               );
			PingDelay                      = editValues( PingDelay                      );
			rateOfFire                     = editValues( rateOfFire                     );
			handGunVertical                = editValues( handGunVertical                ); 
			dualRateOfFire                 = editValues( dualRateOfFire                 );
			SlideDelay                     = editValues( SlideDelay                     );
			quickScopeDelay                = editValues( quickScopeDelay                );
			crouchSpeed                    = editValues( crouchSpeed                    );	
			menuScroll();
			
			if(modNameIdx == quickToggleOptionOne){ 
				if(quickToggleIdx[0] == 2) valNameIdx = rotateVar(valNameIdx,26,26)
				if(quickToggleIdx[0] == 4) valNameIdx = rotateVar(valNameIdx,27,27)
			} 

			if(modNameIdx == quickToggleOptionTwo){ 
				if(quickToggleIdx[1] == 2) valNameIdx = rotateVar(valNameIdx,26,26)
				if(quickToggleIdx[1] == 4) valNameIdx = rotateVar(valNameIdx,27,27)
			} 
		}
		if(updateDisplay){ 
			rect_oled(2,3,127,50,1,0);
			rect_oled(0,0, OLED_WIDTH, OLED_HEIGHT, OLED_BLACK, OLED_WHITE); 
			line_oled(0,50,127 , 50, 1, 1); 
			
			if(editMenu){ 
				print(centerPosition(getStringLength(valNames[valNameIdx]) ,OLED_FONT_SMALL_WIDTH), 4  ,OLED_FONT_SMALL , OLED_WHITE , valNames[valNameIdx]);
				if(editMenuInfo[valNameIdx][5] == 0){
					line_oled(0,17,127,17, 1, 1); 
				}
				if(editMenuInfo[valNameIdx][5] == 1){
					line_oled(0,27,127,27, 1, 1);
				} 
				if(editMenuInfo[valNameIdx][4] == 1){
					print(centerPosition(getStringLength(profileId[profileIdx]) ,OLED_FONT_SMALL_WIDTH), 16 ,OLED_FONT_SMALL , OLED_WHITE ,profileId[profileIdx]);
				} 
				if(editMenuInfo[valNameIdx][4] == 2){
					print(centerPosition(getStringLength(stringsMenuInfo[7]) ,OLED_FONT_SMALL_WIDTH),16  ,OLED_FONT_SMALL , OLED_WHITE ,stringsMenuInfo[7]);
				} 
			}

			else if(modMenu) {
				print(centerPosition(getStringLength(modNames[modNameIdx]) ,OLED_FONT_SMALL_WIDTH), 4  ,OLED_FONT_SMALL , OLED_WHITE , modNames[modNameIdx]);
				if(modMenuInfo[modNameIdx][5] == 0){
					line_oled(0,17,127,17, 1, 1); 
				}
				if(modMenuInfo[modNameIdx][5] == 1){ 
					line_oled(0,27,127,27, 1, 1);
				}
				if(modMenuInfo[modNameIdx][3] == 1){ 
					print(centerPosition(getStringLength(stringsMenuInfo[0]) ,OLED_FONT_SMALL_WIDTH),16  ,OLED_FONT_SMALL , OLED_WHITE ,stringsMenuInfo[0]);
				}
				if(modMenuInfo[modNameIdx][3] == 2){ 
					print(centerPosition(getStringLength(stringsMenuInfo[1]) ,OLED_FONT_SMALL_WIDTH),16  ,OLED_FONT_SMALL , OLED_WHITE ,stringsMenuInfo[1]);
				}
				if(modMenuInfo[modNameIdx][3] == 3){ 
					print(centerPosition(getStringLength(stringsMenuInfo[2]) ,OLED_FONT_SMALL_WIDTH),16  ,OLED_FONT_SMALL , OLED_WHITE ,stringsMenuInfo[2]);
				} 
				if(modMenuInfo[modNameIdx][3] == 4){ 
					print(centerPosition(getStringLength(stringsMenuInfo[3]) ,OLED_FONT_SMALL_WIDTH),16  ,OLED_FONT_SMALL , OLED_WHITE ,stringsMenuInfo[3]);
				} 
				if(modMenuInfo[modNameIdx][3] == 5){ 
					print(centerPosition(getStringLength(profileId[profileIdx]) ,OLED_FONT_SMALL_WIDTH), 16 ,OLED_FONT_SMALL , OLED_WHITE ,profileId[profileIdx]);
				} 
				if(modNameIdx == displayQuickToggleOne || modNameIdx == quickToggleFireTypeOne){ 
					print(centerPosition(getStringLength(quickToggleSelection[quickToggleIdx[0]]),OLED_FONT_SMALL_WIDTH),4,OLED_FONT_SMALL,OLED_WHITE,quickToggleSelection[quickToggleIdx[0]])	
				}
				if(modNameIdx == displayQuickToggleTwo || modNameIdx == quickToggleFireTypeTwo){ 
					print(centerPosition(getStringLength(quickToggleSelectionTwo[quickToggleIdx[1]]),OLED_FONT_SMALL_WIDTH),4,OLED_FONT_SMALL,OLED_WHITE,quickToggleSelectionTwo[quickToggleIdx[1]])	
				}
				if(modNameIdx == quickToggleFireTypeOne){ 
					print(centerPosition(getStringLength(quickToggleActivation[quickToggleActivationType[0]]),OLED_FONT_SMALL_WIDTH),30,OLED_FONT_SMALL,OLED_WHITE,quickToggleActivation[quickToggleActivationType[0]]);	 
				} 
				if(modNameIdx == quickToggleFireTypeTwo){ 
					print(centerPosition(getStringLength(quickToggleActivation[quickToggleActivationType[1]]),OLED_FONT_SMALL_WIDTH),30,OLED_FONT_SMALL,OLED_WHITE,quickToggleActivation[quickToggleActivationType[1]]);	 
				} 
			}
			else { 
			    rect_oled(2,3,127,50,1,0);
				rect_oled(0, 0, OLED_WIDTH, OLED_HEIGHT, OLED_BLACK, OLED_WHITE); 
				rect_oled(2,16,125,18,1,1); 
				line_oled(0, 50,127 , 50, 1, 1);
				
				displayMainIdx(0,8,1);
				displayMainIdx(1,0,2);
				displayMainIdx(2,1,3);
				displayMainIdx(3,2,4);
				displayMainIdx(4,3,5);
				displayMainIdx(5,4,6);
				displayMainIdx(6,5,7);
				displayMainIdx(7,6,8);
				displayMainIdx(8,7,0);
				
			} 
			updateDisplay = FALSE; // When No Buttons are Pressed In the menu / Update Display is FALSE 
		}
	} 
	if(!mainMenu && !modMenu && !editMenu){
		if(displayTitle){ 
			cls_oled(0);
			displayTitle = FALSE;
	   	    screenSaver  = TRUE;
	   	    set_ledx(profileIdx,2);
	   	    rect_oled(0, 0, OLED_WIDTH, OLED_HEIGHT, OLED_BLACK, OLED_WHITE);
			print(centerPosition(getStringLength(misc[0]) ,OLED_FONT_SMALL_WIDTH), 6  ,OLED_FONT_SMALL, OLED_WHITE , misc[0]);
			print(centerPosition(getStringLength(misc[2]) ,OLED_FONT_SMALL_WIDTH), 20  ,OLED_FONT_SMALL, OLED_WHITE , misc[2]);
			print(centerPosition(getStringLength(profileId[profileIdx]) ,OLED_FONT_MEDIUM_WIDTH),35,OLED_FONT_MEDIUM , OLED_WHITE , profileId[profileIdx]);
		}
		if(screenSaver){  
    		blankScreen += get_rtime();
    	
			if(blankScreen >= 10000)
			{
				cls_oled(OLED_BLACK);
				blankScreen = 0;
				screenSaver = FALSE;
	    	} 
	    }
	    set_ledx(profileIdx,2);
	    if(ActivateHoldButton[0]){
	    	if(get_ival(ActivateHoldButton[0])){
	        	if(event_press(ActivatePressButton[0])){
		    		selectedProfileIdx =! selectedProfileIdx;
		    		
		    		if(selectedProfileIdx){
		    			profileIdx = 2;
		    			displayTitle = TRUE; 
		    		} 
		    		if(!selectedProfileIdx){ 
		    			profileIdx = 0;
		    			displayTitle = TRUE;
		    		} 
		    	}
		    	set_val(ActivatePressButton[0],0);
		    }
		    if(!selectedProfileIdx){ 
		    	if(ActivateIndividualButton){
			    	if(event_release(ActivateIndividualButton) && get_ptime(ActivateIndividualButton) < 150 || get_ival(activateResyncBtn) && event_release(ActivateIndividualButton)) { 	 
			   
			    		if(profileIdx)
		            		profileIdx = 0;
		        		else
		           		    profileIdx = 1;
		           		 
			    		if(modMenu)
			    			updateDisplay = TRUE;
			    		else
			    			displayTitle = TRUE;
			    		
			    	}
			    	if(get_ival(activateResyncBtn))
			    		set_val(ActivateIndividualButton,0);
			    }
			    if(get_ival(ActivateHoldButton[1])){
			    	if(event_press(ActivatePressButton[1])){
			    		if(profileIdx)
		            		profileIdx = 0;
		        		else
		           		    profileIdx = 1;
		           		 
			    		if(modMenu)
			    			updateDisplay = TRUE;
			    		else
			    			displayTitle = TRUE;
			    	}
			    	set_val(ActivatePressButton[1],0);
			    }  
			}
			if(selectedProfileIdx){ 
		   		if(ActivateIndividualButton){
			    	if(event_release(ActivateIndividualButton) && get_ptime(ActivateIndividualButton) < 150 || get_ival(activateResyncBtn) && event_release(ActivateIndividualButton)) { 	 
			 
			    		if(profileIdx == 2)
		            		profileIdx = 3;
		        		else
		            		profileIdx = 2;
		           		   
			    		if(modMenu)
			    			updateDisplay = TRUE;
			    		else
			    			displayTitle = TRUE;
			    		
			    	}
			    	if(get_ival(activateResyncBtn))
			    		set_val(ActivateIndividualButton,0);
		    	} 
		    	if(get_ival(ActivateHoldButton[1])){
			    	if(event_press(ActivatePressButton[1])){
			    		if(profileIdx == 2)
		            		profileIdx = 3;
		        		else
		            		profileIdx = 2;
		           		   
			    		if(modMenu)
			    			updateDisplay = TRUE;
			    		else
			    			displayTitle = TRUE;
			    	}
			    	set_val(ActivatePressButton[1],0);
			    }    	
			} 
		}
	    if(get_ival(Fire)){
			if(event_press(PS4_RIGHT) && get_brtime(PS4_RIGHT) <= 200 && !mainMenu && !modMenu && !editMenu){
		        driveMode = TRUE; 
		        combo_run(DriveMode);
    	    }
    	    set_val(PS4_RIGHT,0);
    	} 
    	if(driveMode){
			combo_run(Blink);
			LedOn  = 150;
			LedOff = 300;
			
			if(event_press(PS4_SQUARE)){
				driveMode = FALSE;
				combo_run(driveModeOff); 
				combo_run(rumbleOff); 
    		} 
    	} 

	    if(blockRumble) {
        	block_rumble();
        }

        if(hairTriggers) {
			if(get_ival(Ads) > 10)
			set_val(Ads, 100);
	
			if(get_ival(Fire) > 10)
			set_val(Fire, 100);
		}

		if(vmSpeed){
			if(vmSpeed == 0) vm_tctrl( 0);	
		    if(vmSpeed == 1) vm_tctrl(-2);
		    if(vmSpeed == 2) vm_tctrl(-4);
		   	if(vmSpeed == 3) vm_tctrl(-6);
		} 

		if(handGunMode){ 
			handGunVert = handGunVertical;
		}

		if(!handGunMode){ 
			handGunVert = Vertical[profileIdx];
		} 

		if(!driveMode){ 		
			toggleActivation[0] = customQuickToggles(0,ActivateHoldButton[2],ActivatePressButton[2],toggleActivation[0],quickToggleIdx[0]);
			toggleActivation[1] = customQuickToggles(1,ActivateHoldButton[3],ActivatePressButton[3],toggleActivation[1],quickToggleIdx[1]);
			handGunMode         = presetQuickToggles(  ActivateHoldButton[4],ActivatePressButton[4],handGunMode        ,hGunMode         ,1);
			dualHGunMode        = presetQuickToggles(  ActivateHoldButton[5],ActivatePressButton[5],dualHGunMode       ,dualHandGunMode  ,2);
			strafeShot          = presetQuickToggles(  ActivateHoldButton[6],ActivatePressButton[6],strafeShot         ,strafeShotToggle ,1);
			
		}
	}
	if(!mainMenu && !modMenu){ 
		if(!driveMode){ 
		    if(antiRecoilBasic[profileIdx] == 1 || antiRecoilBasic[profileIdx] == 2 || handGunMode){ 
		    	if(antirecoilActivationLegRum() || handGunMode && get_ival(Ads) && get_ival(Lethal) || toggleActivation[0] && quickToggleIdx[0] == 7 && get_ival(Fire) || toggleActivation[1] && quickToggleIdx[1] == 7 && get_ival(Fire)){ 
					smartRumble = get_rumble(rumbleToUse()); 
					
					if(antiRecoilBasic[profileIdx] == 1){ 
						recoilSize = (antirecoilStrength * (32767 - isqrt(pow(abs(get_val(POLAR_RY)), 2)))) / 32767;
					} 
					if(antiRecoilBasic[profileIdx] == 2){ 
						recoilSize = (antirecoilStrength * (100 - isqrt(pow(abs(get_val(aimRY)), 2)))) / 100;
					} 
					if(smartRumble > 10 && smartRumble < 90){ 
						antirecoilStrength = handGunVert + smartRumble / 2; 
					} 
					if(smartRumble < 10){ 
						if(antiRecoilBasic[profileIdx] == 1){ 
							offset(POLAR_RY,handGunVert * 32767 / 100);
							offset(POLAR_RX,Horizontal[profileIdx] * 327);
						}
						else if(antiRecoilBasic[profileIdx] == 2) { 
							offsetAR(aimRY,handGunVert);
							offsetAR(aimRX,Horizontal[profileIdx]);
						} 
					}
					else{ 
						if(antiRecoilBasic[profileIdx] == 1){ 
							offset(POLAR_RY,recoilSize * 32767 / 100);
							offset(POLAR_RX,Horizontal[profileIdx] * 327);
						}
						else { 
							offsetAR(aimRY,recoilSize);
							offsetAR(aimRX,Horizontal[profileIdx]);
						} 
					}
				}
			}
			if(antiRecoilAdvanced[profileIdx] == 1 || antiRecoilAdvanced[profileIdx] == 2 || antiRecoilAdvanced[profileIdx] == 3 || antiRecoilAdvanced[profileIdx] == 4) { 
			    CompleteTime = (VerticalTime[profileIdx]   * 100) / 3;
			    HorizTime    = (HorizontalTime[profileIdx] * 100) / 2;
			   
				if(antirecoilActivationProg() || toggleActivation[0] && quickToggleIdx[0] == 7 && get_ival(Fire) || toggleActivation[1] && quickToggleIdx[1] == 7 && get_ival(Fire)){
			        smartRumble = get_rumble(rumbleToUse());
			        
			        Time += get_rtime();
			        
			        if(antiRecoilAdvanced[profileIdx] == 2 || antiRecoilAdvanced[profileIdx] == 4) { 
				        if(smartRumble > 10 && smartRumble < 90){ 
					        AntirecoilStart = VerticalStart[profileIdx] + smartRumble / 2;
					        AntirecoilMid   = VerticalMid  [profileIdx] + smartRumble / 2;
					        AntirecoilEnd   = VerticalEnd  [profileIdx] + smartRumble / 2;
				        }
				    }
				    if(antiRecoilAdvanced[profileIdx] == 3) { 
				        if(smartRumble > 10 && smartRumble < 90){ 
				        	HybridStart = VerticalStart[profileIdx] + smartRumble / 2;
				        } 
				    } 
			        if(Time < CompleteTime){ 
			        	if(antiRecoilAdvanced[profileIdx] == 2 && smartRumble < 10 || antiRecoilAdvanced[profileIdx] == 1){ 
			            	 offsetAR(aimRY,VerticalStart[profileIdx]);
			            }else{
			            	 offsetAR(aimRY,AntirecoilStart);
			            }
			            if(antiRecoilAdvanced[profileIdx] == 3){
			            	 offsetAR(aimRY,HybridStart);
			            } 
			            if(antiRecoilAdvanced[profileIdx] == 4 && smartRumble < 10){ 
			            	offset(POLAR_RY,VerticalStart[profileIdx] * 32767/100);
			            }else{
			            	offset(POLAR_RY,AntirecoilStart * 32767/100);
			            }
			        } 
			        else if(Time < CompleteTime * 2 ){ 
			            if(antiRecoilAdvanced[profileIdx] == 2 && smartRumble < 10 || antiRecoilAdvanced[profileIdx] == 1 || antiRecoilAdvanced[profileIdx] == 3){ 
			            	offsetAR(aimRY,VerticalMid[profileIdx]);
			            }else{
			            	offsetAR(aimRY,AntirecoilMid);
			            } 
			            if(antiRecoilAdvanced[profileIdx] == 4 && smartRumble < 10){ 
			            	offset(POLAR_RY,VerticalMid[profileIdx] * 32767/100);
			            }else{
			            	offset(POLAR_RY,AntirecoilMid * 32767 / 100);
			            } 
			        } 
			        else if(Time < CompleteTime * 3){ 
			    		if(antiRecoilAdvanced[profileIdx] == 2 && smartRumble < 10 || antiRecoilAdvanced[profileIdx] == 1 || antiRecoilAdvanced[profileIdx] == 3){ 
			    			offsetAR(aimRY,VerticalEnd[profileIdx]);
			    		}else{ 
			            	offsetAR(aimRY,AntirecoilEnd);
			            } 
			            if(antiRecoilAdvanced[profileIdx] == 4 && smartRumble < 10){ 
			            	offset(POLAR_RY,VerticalEnd[profileIdx] * 32767 / 100);
			    		}else{ 
			            	offset(POLAR_RY,AntirecoilEnd * 32767 / 100);
			            } 	
			        }
			        if(Time >= VerticalTime[profileIdx] * 100){ 
			        	if(antiRecoilAdvanced[profileIdx] == 2 && smartRumble < 10 || antiRecoilAdvanced[profileIdx] == 1 || antiRecoilAdvanced[profileIdx] == 3){ 
			    			offsetAR(aimRY,VerticalEnd[profileIdx]);
			    		}else{ 
			            	offsetAR(aimRY,AntirecoilEnd);
			            }
			            if(antiRecoilAdvanced[profileIdx] == 4 && smartRumble < 10){ 
			            	offset(POLAR_RY,VerticalEnd[profileIdx] * 32767 / 100);
			    		}else{ 
			            	offset(POLAR_RY,AntirecoilEnd * 32767 / 100);
			            } 	   
			        } 
			        if(Time < HorizTime){ 
			            offsetAR(aimRX,HorizontalStart[profileIdx]);      
			        }  
			        else if(Time < HorizTime * 2 ) { 
			            offsetAR(aimRX,HorizontalEnd[profileIdx]);         
			        } 
			        if(Time >= HorizontalTime[profileIdx] * 100){
			        	offsetAR(aimRX,HorizontalEnd[profileIdx]);
			        }      
			    } 
			    if(event_release(Fire)){ 
			    	Time            = 0;
			    	smartRumble     = 0;
			    	AntirecoilStart = 0;
			    	AntirecoilMid   = 0;
			    	AntirecoilEnd   = 0;
			    	HybridStart     = 0;
	    		} 
			} 
			if(aimAssist){ 
				if(HeliosTracking){ 
					trackingAngle    = (trackingAngle + trackingSpeed) % 360;
					trackingAngleOne = ((trackingSize * 327) * sin(trackingAngle)/100);
				    trackingAngleTwo = ((trackingSize * 327) * cos(trackingAngle)/100);
				}   
				angle = (angle + HeliosSpeedChange) % 360;
				angleDirection = (get_val(aimRX) > 0);
				GetAngle(HeliosShapeShift,angle,aimAssistRadius * 327);
				polarAngle = get_polar(POLAR_RS, POLAR_ANGLE);
				aimAssistRadius = (radiusSize * (32767 + (radiusSize * 327) - isqrt(pow(abs(get_val(POLAR_RX)), 2) + pow(abs(get_val(POLAR_RY)), 2)))) / 32767;
				if(!editMenu){ 
					if(ActivateHoldButton[7]){ 
						if(get_ival(ActivateHoldButton[7])){ 
							if(event_press(ActivatePressButton[7])){
								engage = !engage; 
								if(engage)
									combo_run(LRMode);
								else
									combo_run(LRModeOff);
							} 
							set_val(ActivatePressButton[7],0);
						} 
					} 
					if(engage){ 	
						HeliosShapeShift      = HeliosShapeShifter;
						HeliosSpeedChange     = speedChangeConfirmed;
						speedChangeConfirmed  = 40;
						HeliosShapeShifter    = 8;
						combo_run(Blink);
						LedOn  = 600;
						LedOff = 150;
					} 
					if(!engage){ 
						HeliosShapeShift = HeliosShapes; 
						HeliosSpeedChange = speedAngle; 
					}
				} 
				if(aimAssistActivation() || toggleActivation[0] && quickToggleIdx[0] == 7 && get_ival(Fire) || toggleActivation[1] && quickToggleIdx[1] == 7 && get_ival(Fire)){	
					offset(POLAR_RY,sinAngle);
		     		offset(POLAR_RX,cosAngle);
				}
			}	
			if(stickyAimAssist){
				if(aimAssistActivationBatts()|| quickToggleIdx == 7 && get_ival(Fire)){
					combo_run(stickyAim);
				}
			}
			if(strafeShot){
		   		if(get_val(Fire))
		        	combo_run(StrafeShot);
				else
		   			combo_stop(StrafeShot);
			}
			if(enemyPing){
        		if(get_ival(Fire) && get_ptime(Fire) >= 300)
	         		combo_run(EnemyPing); 
	     		else
	         		combo_stop(EnemyPing);		
        	}
        	if(handGunMode){
				 	
			 	HoldTime = 500 / rateOfFire; 	
			    RestTime = HoldTime -get_rtime();
			 	if(RestTime < 0) RestTime = 0;
			    
			 	if(fireType == 0) { 
				 	if(get_ival(Fire))
				 		combo_run(RAPIDFIRE);
				 	else
				    	combo_stop(RAPIDFIRE);
				} 
				if(fireType == 1) { 
					if(get_ival(Ads)){
			    		if(get_ival(Lethal)){
			    			FireRF = TRUE;
			    		}
			    	    set_val(Lethal,0);
			        } 
			        if(FireRF){ 
			    		set_val(Fire,100);
			    		combo_run(RAPIDFIRE);
			    	}
			    	if(event_release(Ads) || event_release(Lethal))
			    	{
			    		FireRF = FALSE;
			    	}
			    }
			    combo_run(Blink);
				LedOn  = 200;
				LedOff = 150;
			}
			if(dualHGunMode == 1){ 
				if(get_val(Fire)|| get_val(Ads))
		            combo_run(AkimboRapidFire);
		        else 
		            combo_stop(AkimboRapidFire);
		            
		        combo_run(Blink);
				LedOn  = 200;
				LedOff = 150;    
		        
		    } 
		    if(dualHGunMode == 2){ 
		    	if(get_ival(Ads) || get_ival(Fire)){ 
		    		set_val(Ads,100);
		    		set_val(Fire,100);
		    	}
		    	combo_run(Blink);
				LedOn  = 200;
				LedOff = 150;    
		    } 
			if(cancelSlide == 1 || cancelSlide == 2){
				if((get_val(moveLY) < -80) || (get_val(moveLY) > 80) || (get_val(moveLX) < -80) || (get_val(moveLX) > 80))
				{
					if(cancelSlide == 1 && event_release(Crouch))
						combo_run(CancelSlideMW)
					else if(cancelSlide == 2 && event_release(Crouch))
						combo_run(CancelSlideCW) 
						
					if(cancelSlide == 1 && combo_running(CancelSlideMW) && (get_val(Ads) && event_release(Crouch)))
		                combo_stop(CancelSlideMW)
		                
		            if(cancelSlide == 2 && combo_running(CancelSlideCW) && (get_val(Ads) && event_release(Crouch)))
		                combo_stop(CancelSlideCW)
				}
			}
			if(bunnyHop) {
		    	if (bunnyHop && get_ival(Jump) && get_ptime(Jump) > 200) 
		    		combo_run(BunnyHop); 
			} 
			if(toggleActivation[0] && quickToggleIdx[0] == 1 || toggleActivation[1] && quickToggleIdx[1] == 1){ 
				if(quickToggleActivationType[0] >= 0 && quickToggleActivationType[0] <= 7 || quickToggleActivationType[1] >= 0 && quickToggleActivationType[1] <= 7){
					if(get_val(Ads))
			    		set_val(Sprint, 100);
		                      
		   			if(get_val(PS4_LY) <-90 && get_val(Ads) && get_ptime(Ads) > 200)
		       			combo_stop(HoldBreath);       
		                    
		   			if(event_press(Ads)) 
		       			combo_run(HoldBreath);
		  
		   			if(get_val(Ads) && get_lval(Sprint)) 
		       			set_val(Sprint, 0);  
		        } 
	        }
	        if(toggleActivation[0] && quickToggleIdx[0] == 2 || toggleActivation[1] && quickToggleIdx[1] == 2){ 
	        	if(quickToggleActivationType[0] == 4 ||  quickToggleActivationType[1] == 4){ 
	        		if(event_release(Ads))
						combo_run(QuickScope);
				} 
				if(quickToggleActivationType[0] == 0 ||quickToggleActivationType[0] == 5 || quickToggleActivationType[1] == 0 || quickToggleActivationType[1] == 5){
					if(event_press(Ads) && get_ptime(Ads) < 140)
						combo_run(QuickScope);
				} 
			} 
			if(toggleActivation[0] && quickToggleIdx[0] == 3 || toggleActivation[1] && quickToggleIdx[1] == 3){ 
				if(quickToggleActivationType[0] >= 0 && quickToggleActivationType[0] <= 7 || quickToggleActivationType[1] >= 0 && quickToggleActivationType[1] <= 7){
					if(get_val(Melee))
						combo_run(FastMelee);
	
					if(get_val(Ads) && event_press(Melee) < 500)
						combo_stop(FastMelee);
				} 
			} 
			if(toggleActivation[0] && quickToggleIdx[0] == 4 || toggleActivation[1] && quickToggleIdx[1] == 4){ 
				if(quickToggleActivationType[0] == 1 || quickToggleActivationType[1] == 1){
					if(get_ival(Ads) && get_ival(Fire)){ 
			    			combo_run(CrouchShotCmb);
			    	}
			    }
			    if(quickToggleActivationType[0] == 0 || quickToggleActivationType[0] == 2 || quickToggleActivationType[1] == 0 || quickToggleActivationType[1] == 2){
					if(get_ival(Fire)){
			    		combo_run(CrouchShotCmb);
			    	}
			    } 
		    } 
		    if(toggleActivation[0] && quickToggleIdx[0] == 5 || toggleActivation[1] && quickToggleIdx[1] == 5){ 
		    	if(quickToggleActivationType[0] == 1 || quickToggleActivationType[1] == 1){
					if(get_ival(Ads) && get_ival(Fire)){ 
		    			combo_run(JumpShot);
		    		}
		    	} 
		    	if(quickToggleActivationType[0] == 0 || quickToggleActivationType[0] == 2 || quickToggleActivationType[1] == 0 || quickToggleActivationType[1] == 2){
			    	if(get_ival(Fire)){
			    		combo_run(JumpShot);
			    	}
			    } 
		    } 
		    if(toggleActivation[0] && quickToggleIdx[0] == 6 || toggleActivation[1] && quickToggleIdx[1] == 6){ 
		    	if(quickToggleActivationType[0] == 1 || quickToggleActivationType[1] == 1){
		    		if(get_ival(Ads) && get_ival(Fire)){ 
		    			InstaDropShot = TRUE;
		    		}
		    	}
		    	if(quickToggleActivationType[0] == 2 || quickToggleActivationType[1] == 2){
			    	if(get_ival(Fire)){
		    			InstaDropShot = TRUE;
		    		}
		    	}
		    	if(quickToggleActivationType[0] == 0 || quickToggleActivationType[0] == 3 || quickToggleActivationType[1] == 0 || quickToggleActivationType[1] == 3){
			    	if(get_val(Ads) && get_val(Fire) && event_press(Crouch)){
						InstaDropShot = TRUE;
					} 
				}
				if(InstaDropShot)  
					combo_run(InstaDrop);
				
				if(event_release(Ads) || event_release(Fire)){
					InstaDropShot = FALSE;
					combo_stop(InstaDrop);
				} 	
			}
			if(toggleActivation[0] && quickToggleIdx[0] == 7  || toggleActivation[1] && quickToggleIdx[1] == 7){ 
				if(quickToggleActivationType[0] >= 0 && quickToggleActivationType[0] <= 7 || quickToggleActivationType[1] >= 0 && quickToggleActivationType[1] <= 7){
					if(get_ival(Fire))
						set_val(Ads,100);
				} 
			} 
		} 
	} 		
	set_val(TRACE_1,handGunMode);
	set_val(TRACE_2,antiRecoilBasic[profileIdx]);	
}
function GetAngle(getShapes,getSinCos,Rad){ 

	if(TaylorShapesInfo[getShapes][5] == 0){
		cosAngle  = (cos(TaylorShapesInfo[getShapes][1] + getSinCos) * Rad/TaylorShapesInfo[getShapes][3])/100 + trackingAngleOne;
		sinAngle  = (sin(TaylorShapesInfo[getShapes][2] + getSinCos) * Rad/TaylorShapesInfo[getShapes][4])/100 + trackingAngleTwo; 	
	} 
	if(TaylorShapesInfo[getShapes][5] == 4){ 
		if(Positionv2 == 0){ 
			if(angleDirection){
				cosAngle  = (cos(TaylorShapesInfo[getShapes][2] + getSinCos) * Rad/TaylorShapesInfo[getShapes][3])/100 + trackingAngleOne;
				sinAngle  = (sin(TaylorShapesInfo[getShapes][1] + getSinCos) * Rad/TaylorShapesInfo[getShapes][4])/100 + trackingAngleTwo; 
			}else{ 
				sinAngle  = (cos(TaylorShapesInfo[getShapes][1] + getSinCos) * Rad/TaylorShapesInfo[getShapes][3])/100 + trackingAngleOne;
				cosAngle  = (sin(TaylorShapesInfo[getShapes][2] + getSinCos) * Rad/TaylorShapesInfo[getShapes][4])/100 + trackingAngleTwo;
			}
		} 
		if(Positionv2 == 1){ 
			if(angleDirection){
				cosAngle  = (cos(TaylorShapesInfo[getShapes][2] + getSinCos) * Rad/TaylorShapesInfo[getShapes][3])/100 + trackingAngleOne;
				sinAngle  = (sin(TaylorShapesInfo[getShapes][1] + getSinCos) * Rad/TaylorShapesInfo[getShapes][4])/100 + trackingAngleTwo;
			}else{ 
				sinAngle  = (cos(TaylorShapesInfo[getShapes][1] + getSinCos) * Rad/TaylorShapesInfo[getShapes][3])/100 + trackingAngleOne;
				cosAngle  = (sin(TaylorShapesInfo[getShapes][2] + getSinCos) * Rad/TaylorShapesInfo[getShapes][4])/100 + trackingAngleTwo;
			} 
		} 
	    Positionv2 ++ 
		if(Positionv2 == 2){ 
		  	Positionv2 = 0;
		}
	}
	if(TaylorShapesInfo[getShapes][5] == 5){ 
		if(Positionv3 == 0){ 
			cosAngle  = (cos(TaylorShapesInfo[getShapes][1] + getSinCos) * Rad/TaylorShapesInfo[getShapes][3])/100 + trackingAngleOne;
			sinAngle  = (sin(TaylorShapesInfo[getShapes][2] + getSinCos) * Rad/TaylorShapesInfo[getShapes][4])/100 + trackingAngleTwo;
		} 
		if(Positionv3 == 1){ 
			cosAngle  = (cos(TaylorShapesInfo[getShapes][2] + getSinCos) * Rad/TaylorShapesInfo[getShapes][3])/100 + trackingAngleOne;
		    sinAngle  = (sin(TaylorShapesInfo[getShapes][1] + getSinCos) * Rad/TaylorShapesInfo[getShapes][4])/100 + trackingAngleTwo;
		} 
	    Positionv3 ++ 
		if(Positionv3 == 2){ 
		  	Positionv3= 0;
		}
	} 
	if(getShapes == 7) { 
		if(polarAngle < 45) {
			cosAngle = (Rad * cos(45 + getSinCos))/ 100 + trackingAngleOne;
		    sinAngle = (Rad * sin(135 + getSinCos))/ 100 + trackingAngleTwo; 
		} 
		else if(polarAngle <  90) { 
		    sinAngle = (Rad * sin(getSinCos))/ 100 + trackingAngleOne + trackingAngleTwo; 
		} 
		else if(polarAngle < 135) { 
			cosAngle = (Rad * cos(135 + getSinCos))/ 100 + trackingAngleOne;
		    sinAngle = (Rad * sin(45 + getSinCos))/ 100 + trackingAngleTwo;
		}  
		else if(polarAngle < 180) {
		    cosAngle = (Rad * cos(getSinCos))/ 100 + trackingAngleOne + trackingAngleTwo;
		}
		else if(polarAngle < 225) { 
		    cosAngle = (Rad * cos(45 + getSinCos))/ 100 + trackingAngleOne;
		    sinAngle = (Rad * sin(135 + getSinCos))/ 100 + trackingAngleTwo; 
		}  
		else if(polarAngle < 270) { 
		    sinAngle = (Rad * sin(getSinCos))/ 100 + trackingAngleOne +  trackingAngleTwo; 
		}
		else if(polarAngle < 315) { 
		    cosAngle = (Rad * cos(135 + getSinCos))/ 100 + trackingAngleOne;
		    sinAngle = (Rad * sin(45 + getSinCos))/ 100 + trackingAngleTwo;
		}
		else { 
		  	cosAngle = (Rad * cos(getSinCos))/ 100 + trackingAngleOne + trackingAngleTwo; 
		} 
	}
	if(getShapes == 8) { 
		if(polarAngle < 45) {
			cosAngle = (Rad * cos(180 + getSinCos))/ 100 + trackingAngleOne; 
		    sinAngle = (Rad * sin(225 + getSinCos))/ 100 + trackingAngleTwo; 
		} 
		else if(polarAngle <  90) { 
			cosAngle = (Rad/2 * cos(getSinCos))/ 100 + trackingAngleOne; 
		    sinAngle = (Rad   * sin(getSinCos))/ 100 + trackingAngleTwo;
		} 
		else if(polarAngle < 135) { 
			cosAngle = (Rad * cos(180 + getSinCos))/ 100 + trackingAngleOne;
		    sinAngle = (Rad * sin(135 + getSinCos))/ 100 + trackingAngleTwo; 
		}  
		else if(polarAngle < 180) {
		    cosAngle = (Rad * cos(getSinCos))/ 100  + trackingAngleOne;
		    sinAngle = (Rad/2 * sin(getSinCos))/ 100 + trackingAngleTwo; 
		}
		else if(polarAngle < 225) { 
		    cosAngle = (Rad * cos(180 + getSinCos))/ 100 + trackingAngleOne; 
		    sinAngle = (Rad * sin(225 + getSinCos))/ 100 + trackingAngleTwo; 
		}  
		else if(polarAngle < 270) { 
		    cosAngle = (Rad/2 * cos(getSinCos))/ 100 + trackingAngleOne;
		    sinAngle = (Rad * sin(getSinCos))/ 100 + trackingAngleTwo; 
		}
		else if(polarAngle < 315) { 
		    cosAngle = (Rad * cos(180 + getSinCos))/ 100 + trackingAngleOne;
		    sinAngle = (Rad * sin(135 + getSinCos))/ 100 + trackingAngleTwo; 
		}
		else { 
		  	cosAngle = (Rad *   cos(getSinCos))/ 100 + trackingAngleOne;
		    sinAngle = (Rad/2 * sin(getSinCos))/ 100 + trackingAngleTwo; 
		}
	}
	if(getShapes == 9) { 
		if(anglePosition == 0){ 
			cosAngle = (Rad   * cos(getSinCos))/ 100 + trackingAngleOne; 
		    sinAngle = (Rad/2 * sin(getSinCos))/ 100 + trackingAngleTwo;
		} 
		if(anglePosition == 1){  
		    cosAngle = (Rad * cos(180 + getSinCos))/ 100 + trackingAngleOne; 
		    sinAngle = (Rad * sin(225 + getSinCos))/ 100 + trackingAngleTwo; 
		} 
		if(anglePosition == 2){  
			cosAngle = (Rad/2 * cos(getSinCos))/ 100 + trackingAngleOne; 
		    sinAngle = (Rad   * sin(getSinCos))/ 100 + trackingAngleTwo;
		}  
		if(anglePosition == 3){ 
		    cosAngle = (Rad * cos(180 + getSinCos))/ 100 + trackingAngleOne;
		    sinAngle = (Rad * sin(135 + getSinCos))/ 100 + trackingAngleTwo; 
		}
		if(anglePosition == 4){  
		    cosAngle = (Rad   * cos(getSinCos))/ 100 + trackingAngleOne; 
		    sinAngle = (Rad/2 * sin(getSinCos))/ 100 + trackingAngleTwo;
		}  
		if(anglePosition == 5){ 
		    cosAngle = (Rad * cos(180 + getSinCos))/ 100 + trackingAngleOne; 
		    sinAngle = (Rad * sin(225 + getSinCos))/ 100 + trackingAngleTwo; 
		}
		if(anglePosition == 6){ 
		   cosAngle = (Rad/2 * cos(getSinCos))/ 100 + trackingAngleOne; 
		   sinAngle = (Rad   * sin(getSinCos))/ 100 + trackingAngleTwo;
		}
		if(anglePosition == 7){ 
			cosAngle = (Rad * cos(180 + getSinCos))/ 100 + trackingAngleOne;
		    sinAngle = (Rad * sin(135 + getSinCos))/ 100 + trackingAngleTwo;
	    } 
	    timer++
		if(timer >= speedAngle){ 
			anglePosition ++
			timer = 0;
		} 
		if(anglePosition == 8) 
			anglePosition = 0;
	}	
} 
const int16 TaylorShapesInfo[][] = {
{      0    ,    0     ,    0     ,          1         ,         1          ,     0 },
{      1    ,    0     ,    0     ,          2         ,         1          ,     0 },
{      2    ,    0     ,    0     ,          1         ,         2          ,     0 },
{      3    ,    0     ,    0     ,          1         ,         0          ,     0 },
{      4    ,    0     ,    0     ,          0         ,         1          ,     0 },
{      5    ,   45    ,   135     ,          1         ,         1          ,     5 },
{      6    ,  315    ,   180     ,          1         ,         1          ,     4 } 
} 
function sin(angle){
	if(HeliosType == 0)
		return PolarArray[correctAngle(angle)];
	return LinearArray[correctAngle(angle)];
}

function cos(angle){
	if(HeliosType == 0)
		return PolarArray[(correctAngle(angle) + 90) % 360];
	return LinearArray[(correctAngle(angle)    + 90) % 360];
}

function correctAngle(angle){
	if(angle < 0)
		angle = 360    + (angle % 360);
		angle = (angle + 90)    % 360;
	return angle;
}

function rumbleToUse() {
	if(get_rumble(RUMBLE_A) == get_rumble(RUMBLE_B))
	{
		return RUMBLE_A;
	}
		if(get_rumble(RUMBLE_A) == 100)
		{
			return RUMBLE_B;
		}
			if(get_rumble(RUMBLE_B) == 100)
			{
				return RUMBLE_A;
			}
				if(get_rumble(RUMBLE_A) > get_rumble(RUMBLE_B))
				{
					return RUMBLE_A;
				}
					if(get_rumble(RUMBLE_A) < get_rumble(RUMBLE_B))
					{
						return RUMBLE_B;
					}
						return 0;
}
function offset(Stick, Value) {
  if (Stick >= POLAR_RX) {
    set_val(Stick, clamp(Value * (32767 - abs(get_val(Stick))) / 32767 + get_val(Stick), -32767, 32767));
    return;
  }
  set_val(Stick, clamp(Value * (100 - abs(get_val(Stick))) / 100 + get_val(Stick), -100, 100));
}
function offsetAR(Stick,Value) {
  set_val(Stick, clamp(Value * (100 - abs(get_val(Stick))) / 100 + get_val(Stick), -100, 100));
  return;
}
function antirecoilActivationLegRum(){ 
	if(standardARFireType == 0){ 
		if(get_ival(Ads) && get_ival(Fire)){ 
			return TRUE;
		}
	}
	if(standardARFireType == 1){ 
		if(get_ival(Fire) && !get_ival(Ads)){
			return TRUE;
		}
	} 
	if(standardARFireType == 2){ 
		if(get_ival(Ads) && get_ival(Fire) || get_ival(Fire)){ 
			return TRUE;
		} 
	} 
	return 0;
} 
function antirecoilActivationProg(){ 
	if(progressiveARFireType == 0){ 
		if(get_ival(Ads) && get_ival(Fire)){ 
			return TRUE;
		}
	}
	if(progressiveARFireType == 1){ 
		if(get_ival(Fire) && !get_ival(Ads)){
			return TRUE;
		}
	} 
	if(progressiveARFireType == 2){ 
		if(get_ival(Ads) && get_ival(Fire) || get_ival(Fire)){ 
			return TRUE;
		} 
	} 
	return 0;
} 
function aimAssistActivation(){ 

	if(HeliosFireType == 0){ 
		if(get_ival(Ads) || get_ival(Fire)){ 
			return TRUE;
		}
	} 
	if(HeliosFireType == 1){ 
		if(get_ival(Ads) && get_ival(Fire)){ 
			return TRUE;
		} 
	} 
	if(HeliosFireType == 2){ 
		if(get_ival(Fire) && !get_ival(Ads)){
			return TRUE;
		} 
	}
	if(HeliosFireType == 3){ 
		if(get_ival(Ads) && get_ival(Fire) || get_ival(Fire)){ 
			return TRUE;
		}
	} 
	return 0;
} 
function aimAssistActivationBatts(){ 
	
	if(stickyFireType == 0){ 
		if(get_ival(Ads) || get_ival(Fire)){ 
			return TRUE;
		}
	} 
	if(stickyFireType == 1){ 
		if(get_ival(Ads) && get_ival(Fire)){ 
			return TRUE;
		} 
	} 
	if(stickyFireType == 2){ 
		if(get_ival(Fire) && !get_ival(Ads)){
			return TRUE;
		} 
	} 
	if(stickyFireType == 3){ 
		if(get_ival(Ads) && get_ival(Fire) || get_ival(Fire)){ 
			return TRUE;
		}
	} 
	return 0;
} 
function menuNavigation(indexVar,fMin,fMax){ 
	if(mainMenu){ 
    	if(event_press(PS4_UP)){
           indexVar -= 1;
           	updateDisplay = TRUE;
    	}
    	if(event_press(PS4_DOWN)){
        	indexVar += 1;
            updateDisplay = TRUE; 
    	}
    }
	if(!get_ival(Ads)){ 
		if(event_press(PS4_RIGHT)){ 
			indexVar  += 1;
			updateDisplay = TRUE;
		}
		if(event_press(PS4_LEFT)){ 
			indexVar  -= 1;
			updateDisplay = TRUE;
		}
	}
	if(event_release(PS4_CROSS)){
    	if(mainMenu){
    		modNameIdx = mainMenuInfo[ mainNameIdx ][ 0 ];
			getMenuStatus(TRUE,FALSE,TRUE,FALSE,FALSE)
			cls_oled(OLED_BLACK);	
    	}
    }
	if(event_press(PS4_CROSS)){ 
		if(modMenu){ 
			if(modMenuInfo[modNameIdx][2] == 1){
				getMenuStatus(TRUE,FALSE,FALSE,TRUE,FALSE)
				valNameIdx  = modMenuInfo[modNameIdx][0];	 
			}
		    else if(modNameIdx == 19 && editQT[quickToggleIdx[0]] == 1){
				getMenuStatus(TRUE,FALSE,FALSE,TRUE,FALSE)
			} 
			else if(modNameIdx == 20 && editQT[quickToggleIdx[1]] == 1){
				getMenuStatus(TRUE,FALSE,FALSE,TRUE,FALSE)
			}	
		}
	} 
	if(event_press(PS4_CIRCLE) && !recoilEdit){ 
		if(mainMenu){ 
			getMenuStatus(FALSE,FALSE,FALSE,FALSE,TRUE)
			Save(); 
		} 
		else if(modMenu){ 
			getMenuStatus(TRUE,TRUE,FALSE,FALSE,FALSE)
		}
		else if(editMenu){ 
			getMenuStatus(TRUE,FALSE,TRUE,FALSE,FALSE)
		}
	} 
	if(event_press(PS4_TRIANGLE)){ 
		profileIdx = rotateVar(profileIdx + 1,0,3);
		updateDisplay = TRUE;
	} 
	if(mainMenu || modMenu || editMenu && !recoilEdit){ 
		BlockButtonPress ();
	}
	if(editMenu && recoilEdit){ 
		set_val(PS4_RIGHT,0);set_val(PS4_LEFT,0);set_val(PS4_UP,0);set_val(PS4_DOWN,0);
		
		if(menuTimeOut){
			checkRecoilMenuButtons();
		}
	} 
	indexVar = rotateVar(indexVar,fMin,fMax);
	return indexVar;
}
function toggleSwitch(fVar){ 
	if(modNameIdx == modIndex++){ 
		if(event_press(PS4_UP)){ 
			fVar = rotateVar(fVar + 1,0,modMenuInfo[modNameIdx][4]);  
			updateDisplay = TRUE;
			
			if(!fVar)
				combo_run(rumbleOff);
			else
				combo_run(rumbleOn); 
		}
		if(event_press(PS4_DOWN)){ 
			fVar = rotateVar(fVar - 1,0,modMenuInfo[modNameIdx][4]);
			updateDisplay = TRUE;
			
			if(!fVar)
				combo_run(rumbleOff);
			else
				combo_run(rumbleOn); 
		}
		if(modNameIdx == hGunMode){ 
			if(event_press(PS4_R1)){ 
				fireType = rotateVar(fireType + 1,0,1);  
				updateDisplay = TRUE;
				
				if(!fireType)
					combo_run(rumbleOff);
				else
					combo_run(rumbleOn); 
			}
			if(event_press(PS4_L1)){ 
				fireType = rotateVar(fireType - 1,0,1); 
				updateDisplay = TRUE;
				
				if(!fireType)
					combo_run(rumbleOff);
				else
					combo_run(rumbleOn); 
			}
		}
		if(modNameIdx == basicAR){ 
			if(fVar == 1){ 
				antiRecoilAdvanced[profileIdx] = 0;
			}
		} 
		if(modNameIdx == advancedAR){ 
			if(fVar == 1){ 
				antiRecoilBasic[profileIdx] = 0;
			}
		} 
		if(modNameIdx == basicAR){ 
			print(centerPosition(getStringLength(antiRecoilOptions[antiRecoilBasic[profileIdx]]) ,OLED_FONT_SMALL_WIDTH),34  ,OLED_FONT_SMALL , OLED_WHITE ,antiRecoilOptions[antiRecoilBasic[profileIdx]]);
		} 
		else if(modNameIdx == advancedAR){ 
			print(centerPosition(getStringLength(progressiveAR[antiRecoilAdvanced[profileIdx]]) ,OLED_FONT_SMALL_WIDTH),34  ,OLED_FONT_SMALL , OLED_WHITE ,progressiveAR[antiRecoilAdvanced[profileIdx]]);
		} 
		else if(modNameIdx == hGunMode){ 
			print(centerPosition(getStringLength(handGunFireType[fireType]) ,OLED_FONT_SMALL_WIDTH),21  ,OLED_FONT_SMALL , OLED_WHITE ,handGunFireType[fireType]);
			if(fVar == 1)
				print(centerPosition(getStringLength(Toggle[1]),OLED_FONT_MEDIUM_WIDTH),35,OLED_FONT_SMALL,OLED_WHITE,Toggle[1])	
			else
				print(centerPosition(getStringLength(Toggle[0]),OLED_FONT_MEDIUM_WIDTH),35,OLED_FONT_SMALL,OLED_WHITE,Toggle[0])	
		}
		else if(modNameIdx == dualHandGunMode){ 
			print(centerPosition(getStringLength(autoDualHGun[dualHGunMode]) ,OLED_FONT_SMALL_WIDTH), 30  ,OLED_FONT_SMALL , OLED_WHITE , autoDualHGun[dualHGunMode]);
		} 
		else if(modNameIdx == slideCancel){ 
			print(centerPosition(getStringLength(slideOpt[cancelSlide]) ,OLED_FONT_SMALL_WIDTH), 30  ,OLED_FONT_SMALL , OLED_WHITE , slideOpt[cancelSlide]);
		}
		else if(modNameIdx == virtualSpeed){ 
			print(centerPosition(getStringLength(VMSpeed[vmSpeed]),OLED_FONT_MEDIUM_WIDTH),26,OLED_FONT_MEDIUM,OLED_WHITE,VMSpeed[vmSpeed])	
		} 
		else if(modNameIdx == controllerLayout){ 
			print(centerPosition(getStringLength(BtnLayouts[buttonLayouts]),OLED_FONT_SMALL_WIDTH),30,OLED_FONT_SMALL,OLED_WHITE,BtnLayouts[buttonLayouts])	
		}
		else if(modNameIdx == sticksLayout){ 
			print(centerPosition(getStringLength(controllerStick[stickLayouts]),OLED_FONT_SMALL_WIDTH),30,OLED_FONT_SMALL,OLED_WHITE,controllerStick[stickLayouts])	
		}
		else if(modNameIdx == profileButton){ 
			print(centerPosition(getStringLength(pressButtons[singleProfileBtnIdx]),OLED_FONT_SMALL_WIDTH),30,OLED_FONT_SMALL,OLED_WHITE,pressButtons[singleProfileBtnIdx])	
		}
		else if(modNameIdx == resyncProfileButton){ 
			print(centerPosition(getStringLength(HoldButtons[resyncProfileBtnIdx]),OLED_FONT_SMALL_WIDTH),30,OLED_FONT_SMALL,OLED_WHITE,HoldButtons[resyncProfileBtnIdx])	
		}
		else if(modNameIdx == quickToggleOptionOne){ 
			print(centerPosition(getStringLength(quickToggleSelection[quickToggleIdx[0]]),OLED_FONT_SMALL_WIDTH),34,OLED_FONT_SMALL,OLED_WHITE,quickToggleSelection[quickToggleIdx[0]])	
		}
		else if(modNameIdx == quickToggleOptionTwo){ 
			print(centerPosition(getStringLength(quickToggleSelectionTwo[quickToggleIdx[1]]),OLED_FONT_SMALL_WIDTH),34,OLED_FONT_SMALL,OLED_WHITE,quickToggleSelectionTwo[quickToggleIdx[1]])	
		} 
		else if(modNameIdx == basicARFireType){ 
			print(centerPosition(getStringLength(arActivation[standardARFireType]),OLED_FONT_SMALL_WIDTH),30,OLED_FONT_SMALL,OLED_WHITE,arActivation[standardARFireType])	
		}
		else if(modNameIdx == advancedARFireType){ 
			print(centerPosition(getStringLength(arActivation[progressiveARFireType]),OLED_FONT_SMALL_WIDTH),30,OLED_FONT_SMALL,OLED_WHITE,arActivation[progressiveARFireType])	
		}
		else if(modNameIdx == HeliosAAFireType){ 
			print(centerPosition(getStringLength(aimAssistType[HeliosFireType]),OLED_FONT_SMALL_WIDTH),30,OLED_FONT_SMALL,OLED_WHITE,aimAssistType[HeliosFireType])	
		}
		else if(modNameIdx == stickyAAFireType){ 
			print(centerPosition(getStringLength(aimAssistType[stickyFireType]),OLED_FONT_SMALL_WIDTH),30,OLED_FONT_SMALL,OLED_WHITE,aimAssistType[stickyFireType])	
		}
		else { 
			if(fVar == 1)
			print(centerPosition(getStringLength(Toggle[1]),OLED_FONT_MEDIUM_WIDTH),26,OLED_FONT_MEDIUM,OLED_WHITE,Toggle[1])	
		else
			print(centerPosition(getStringLength(Toggle[0]),OLED_FONT_MEDIUM_WIDTH),26,OLED_FONT_MEDIUM,OLED_WHITE,Toggle[0])	
		}
	}
	return fVar; 
} 
function editSwitch(fVar){ 
	if(valNameIdx == valNameIndex++){ 
		if(event_press(PS4_UP)){ 
			fVar = rotateVar(fVar + 1,editMenuInfo[valNameIdx][0],editMenuInfo[valNameIdx][1]);  
			updateDisplay = TRUE;
			
			if(!fVar)
				combo_run(rumbleOff);
			else
				combo_run(rumbleOn); 
		}
		if(event_press(PS4_DOWN)){ 
			fVar = rotateVar(fVar - 1,editMenuInfo[valNameIdx][0],editMenuInfo[valNameIdx][1]); 
			updateDisplay = TRUE;
			
			if(!fVar)
				combo_run(rumbleOff);
			else
				combo_run(rumbleOn); 
		}
		if(valNameIdx == 9){ 
			print(centerPosition(getStringLength(aimType[HeliosType]),OLED_FONT_MEDIUM_WIDTH),26,OLED_FONT_MEDIUM,OLED_WHITE,aimType[HeliosType])
		}
		else if(valNameIdx == 10){ 
			if(HeliosType == 0)
				print(centerPosition(getStringLength(aimShapePolar[HeliosShapes]),OLED_FONT_MEDIUM_WIDTH),26,OLED_FONT_MEDIUM,OLED_WHITE,aimShapePolar[HeliosShapes])
			else
				print(centerPosition(getStringLength(aimShapeLinear[HeliosShapes]),OLED_FONT_MEDIUM_WIDTH),26,OLED_FONT_MEDIUM,OLED_WHITE,aimShapeLinear[HeliosShapes])
		} 		
		else { 
			if(fVar == 1)
			print(centerPosition(getStringLength(Toggle[1]),OLED_FONT_MEDIUM_WIDTH),26,OLED_FONT_MEDIUM,OLED_WHITE,Toggle[1])	
		else
			print(centerPosition(getStringLength(Toggle[0]),OLED_FONT_MEDIUM_WIDTH),26,OLED_FONT_MEDIUM,OLED_WHITE,Toggle[0])	
		}
	}
	return fVar; 
} 
function editValues(fVar){ 
	if(valNameIdx == valNameIndex++){ 
		if(get_ival(Ads)){ 
			if(event_press(PS4_RIGHT)){ 
				fVar += editMenuInfo[valNameIdx][2];
				updateDisplay = TRUE;
			}
			if(event_press(PS4_LEFT)){ 
				fVar -= editMenuInfo[valNameIdx][2];
				updateDisplay = TRUE;
			}
			if(event_press(PS4_UP)){ 
				fVar += editMenuInfo[valNameIdx][3];
				updateDisplay = TRUE;
			}
			if(event_press(PS4_DOWN)){ 
				fVar -= editMenuInfo[valNameIdx][3];
				updateDisplay = TRUE;
			}
		}
		fVar = clamp(fVar,editMenuInfo[valNameIdx][0],editMenuInfo[valNameIdx][1]);
		
		if(valNameIdx == 5 || valNameIdx == 8){ 
			NumberToString(fVar * 100,FindDigits(fVar * 100));   
		}
		else { 
			NumberToString(fVar,FindDigits(fVar)); 
		} 		
	}
	return fVar;
}
function customQuickToggles(fNum,fHold,fPress,fVar,fIdx) {  
	if (fHold == 0 || fPress == 0) return fVar;
	if(get_ival(fHold)){
		if(event_press(fPress)){
			toggleActivation[fNum] = fIdx;  
			fVar = rotateVar(fVar ++,0,1);
			if(!fVar)
				combo_run(rumbleOff);
			else
				combo_run(rumbleOn); 	
			if(toggleActivation[fNum]){
				combo_run(QuickToggles);
				screenSaver = FALSE; 
				cls_oled(OLED_BLACK); 
				rect_oled(0, 0, OLED_WIDTH, OLED_HEIGHT, OLED_BLACK, OLED_WHITE);
				line_oled(0,28,127 , 28, 1, 1); 
    			print(centerPosition(getStringLength(quickToggleSelection[quickToggleIdx[fNum]]),OLED_FONT_SMALL_WIDTH),6,OLED_FONT_SMALL,OLED_WHITE,quickToggleSelection[quickToggleIdx[fNum]])	
   		    }
			if(fVar == 1)
				print(centerPosition(getStringLength(Toggle[1]),OLED_FONT_MEDIUM_WIDTH),38,OLED_FONT_MEDIUM,OLED_WHITE,Toggle[1])	
			else
				print(centerPosition(getStringLength(Toggle[0]),OLED_FONT_MEDIUM_WIDTH),38,OLED_FONT_MEDIUM,OLED_WHITE,Toggle[0])	
    	} 
	    set_val(fPress, 0)
   } 
   return fVar;
}
function presetQuickToggles(f_hold, f_press,f_val,f_idx,fMax) {  

	if(get_ival(f_hold)){
		if(event_press(f_press)){
		    modNameIdx = f_idx;
		    f_val = rotateVar(f_val ++,0,fMax);
		    displayQToggles = TRUE; 
	    }
	    else if(get_ival(f_press) && get_ptime(f_press) == (get_rtime() * 40)){
			modNameIdx = f_idx;
			f_val = 0;
			displayQToggles = TRUE;
			combo_run(rumbleOff);
		} 
	    set_val(f_press, 0) 
	} 
	if(displayQToggles){
		combo_run(QuickToggles);
		screenSaver = FALSE;
		cls_oled(OLED_BLACK);
		rect_oled(0, 0, OLED_WIDTH, OLED_HEIGHT, OLED_BLACK, OLED_WHITE);
		displayQToggles = FALSE;
		print(centerPosition(getStringLength(modNames[modNameIdx]) ,OLED_FONT_SMALL_WIDTH), 4  ,OLED_FONT_SMALL , OLED_WHITE , modNames[modNameIdx]);
		
		if(modNameIdx == dualHandGunMode){
			if(f_val == 0) 
				print(centerPosition(getStringLength(autoDualHGun[0]),OLED_FONT_SMALL_WIDTH),35,OLED_FONT_SMALL,OLED_WHITE,autoDualHGun[0])	
			else if(f_val == 1)
				print(centerPosition(getStringLength(autoDualHGun[1]),OLED_FONT_SMALL_WIDTH),35,OLED_FONT_SMALL,OLED_WHITE,autoDualHGun[1])
			else if(f_val == 2)
				print(centerPosition(getStringLength(autoDualHGun[2]),OLED_FONT_SMALL_WIDTH),35,OLED_FONT_SMALL,OLED_WHITE,autoDualHGun[2])
		}
		else { 
		
			if(f_val == 1)
				print(centerPosition(getStringLength(Toggle[1]),OLED_FONT_SMALL_WIDTH),35,OLED_FONT_SMALL,OLED_WHITE,Toggle[1])	
			else
				print(centerPosition(getStringLength(Toggle[0]),OLED_FONT_SMALL_WIDTH),35,OLED_FONT_SMALL,OLED_WHITE,Toggle[0])	
		} 
	}   
	return f_val;
} 

combo LRMode { 
vm_tctrl(0);
cls_oled(OLED_BLACK);
print(centerPosition(getStringLength(stringsMenuInfo[8]),OLED_FONT_MEDIUM_WIDTH),6,OLED_FONT_MEDIUM,OLED_WHITE,stringsMenuInfo[8])
print(centerPosition(getStringLength(stringsMenuInfo[5]),OLED_FONT_MEDIUM_WIDTH),28,OLED_FONT_MEDIUM,OLED_WHITE,stringsMenuInfo[5])
wait(1500);
displayTitle = TRUE;
} 
combo LRModeOff { 
vm_tctrl(0);
cls_oled(OLED_BLACK);
print(centerPosition(getStringLength(stringsMenuInfo[8]),OLED_FONT_MEDIUM_WIDTH),6,OLED_FONT_MEDIUM,OLED_WHITE,stringsMenuInfo[8])
print(centerPosition(getStringLength(stringsMenuInfo[6]),OLED_FONT_MEDIUM_WIDTH),28,OLED_FONT_MEDIUM,OLED_WHITE,stringsMenuInfo[6])
wait(1500);
displayTitle = TRUE;
} 
int InstaDropShot;
combo QuickScope {
set_val(Ads,100);
wait(quickScopeDelay); 
set_val(Ads,100);
set_val(Fire,100);
wait(40);
set_val(Ads,100);
wait(40); 
}         
combo HoldBreath {
set_val(Sprint,0);
wait(60);
set_val(Sprint,100);
wait(110);
set_val(Sprint,0);
wait(110);
}
combo FastMelee {
set_val(Melee, 100);
wait(35);
set_val(Melee, 0);
wait(30);  
}
combo JumpShot {
set_val(Jump,100);
wait(20);
set_val(Jump,0);
wait(20);
}
combo InstaDrop {
set_val(Crouch,100);
wait(1000);
set_val(Crouch,0);
InstaDropShot = FALSE;
}
combo CrouchShotCmb {
set_val(Crouch,100);
wait(50);
set_val(Crouch,0);
wait(crouchSpeed);
}
combo AkimboRapidFire {
set_val(Fire,100);
set_val(Ads,100);
wait(40);
set_val(Fire,0);
set_val(Ads,0);
wait(dualRateOfFire);
}
combo EnemyPing {
set_val(Ping,100);
wait(20)
set_val(Ping,0);
wait(20)
set_val(Ping,100);
wait(20)
set_val(Ping,0); 
wait(PingDelay); 
}
combo StrafeShot{ 
offset(moveLX,StrafeSize);
wait(StrafeActiveTime);
wait(50);
offset(moveLX,inv(StrafeSize));
wait(StrafeActiveTime);
wait(20);
}
combo stickyAim {
	offset(aimRY,AimAssistSize);
	wait(AimAssistTime);
	offset(aimRX,AimAssistSize);
	offset(moveLX,AimAssistSize);
	wait(AimAssistTime);
	offset(aimRY,inv(AimAssistSize));
	wait(AimAssistTime);
	offset(aimRX,inv(AimAssistSize));
	offset(moveLX,inv(AimAssistSize));
	wait(AimAssistTime);
}
combo Blink{
set_ledx(0,0);
wait(LedOn);
set_ledx(profileIdx,1);
wait(LedOff);
}
combo DriveMode { 
cls_oled(OLED_BLACK);
print(centerPosition(getStringLength(stringsMenuInfo[4]),OLED_FONT_MEDIUM_WIDTH),10,OLED_FONT_MEDIUM,OLED_WHITE,stringsMenuInfo[4])
print(centerPosition(getStringLength(stringsMenuInfo[5]),OLED_FONT_MEDIUM_WIDTH),35,OLED_FONT_MEDIUM,OLED_WHITE,stringsMenuInfo[5])
wait(1500);
displayTitle = TRUE;
} 
combo driveModeOff { 
cls_oled(OLED_BLACK)
print(centerPosition(getStringLength(stringsMenuInfo[4]),OLED_FONT_MEDIUM_WIDTH),10,OLED_FONT_MEDIUM,OLED_WHITE,stringsMenuInfo[4])
print(centerPosition(getStringLength(stringsMenuInfo[6]),OLED_FONT_MEDIUM_WIDTH),35,OLED_FONT_MEDIUM,OLED_WHITE,stringsMenuInfo[6])
wait(1500);
displayTitle = TRUE;
} 
combo saved { 
cls_oled(OLED_BLACK);
print(centerPosition(getStringLength(misc[1]),OLED_FONT_MEDIUM_WIDTH),25,OLED_FONT_MEDIUM,OLED_WHITE,misc[1])
wait(500);
displayTitle = TRUE;
} 
combo RAPIDFIRE { 
	wait(HoldTime);
	set_val(Fire, 0);
	wait(RestTime);
}
combo BunnyHop{
    set_val(Jump,100);
    wait(30);
    set_val(Jump,0);
    wait(30);
    set_val(Jump,100);
    wait(30);
    set_val(Jump,0);
    wait(30);
}
combo CancelSlideMW {              
set_val(Crouch, 100);          
wait(SlideDelay);                         
set_val(Crouch, 0);            
wait(60);                          
set_val(Crouch, 100);          
wait(50);                          
set_val(Crouch, 100);          
set_val(Jump, 100);           
wait(60);                          
set_val(Crouch, 0);            
set_val(Jump, 100);          
wait(10);                        
set_val(Jump, 0);
} 
combo CancelSlideCW {
set_val(Crouch, 100);
wait(SlideDelay);
set_val(Crouch, 0);
wait(20);
set_val(Sprint, 0);
set_val(Crouch, 100);
set_val(Sprint, 100);
wait(20);
set_val(Crouch, 0);
set_val(Sprint, 0);
wait(20);
}
combo QuickToggles{ 
wait(1500) 
displayTitle  = TRUE; 
} 
combo rumbleOn {
set_ledx(2, 2);
set_rumble(RUMBLE_B, 50);
wait(200);
reset_rumble();
wait(200);
set_rumble(RUMBLE_B, 50);
wait(800);
reset_rumble();
}
combo rumbleOff {						
set_ledx(1, 1);
set_rumble(RUMBLE_A, 50);
wait(400);
reset_rumble();
wait(600);
}
function displayMainIdx(activeString,previousString,nextString){
	if(mainNameIdx == activeString){ 
		print(centerPosition(getStringLength(MainMenuId[activeString]),OLED_FONT_SMALL_WIDTH),21,OLED_FONT_SMALL,OLED_BLACK,MainMenuId[activeString])
		print(centerPosition(getStringLength(MainMenuId[nextString]),OLED_FONT_SMALL_WIDTH),37,OLED_FONT_SMALL,OLED_WHITE,MainMenuId[nextString])
		print(centerPosition(getStringLength(MainMenuId[previousString]),OLED_FONT_SMALL_WIDTH),4,OLED_FONT_SMALL,OLED_WHITE,MainMenuId[previousString])
	} 
} 
function getMenuStatus(fUpdate,fMainMenu,fModMenu,fEditMenu,fDisplayTitle){ 	
	updateDisplay    = fUpdate;
	mainMenu         = fMainMenu;
	modMenu          = fModMenu;
	editMenu         = fEditMenu;
	displayTitle     = fDisplayTitle;
} 
function rotateVar(Value,Min,Max){  
    if(Value > Max) 
    	return Min;	 	
    if(Value < Min)
    	return Max;     
    
    return Value;    
}
int stringLength;
function getStringLength(offset) { 
    stringLength = 0;
    do { 
        offset++;
        stringLength++;
    } while (duint8(offset));
    return stringLength;
 } 
/*
============================================================================================================================================
 Center X Function (Made By Batts) 
============================================================================================================================================
*/
function centerPosition(f_chars,f_font) {

    return (OLED_WIDTH / 2) - ((f_chars * f_font) / 2);
}
/*
============================================================================================================================================
  NumberToString () (Made By Batts)                                                                                                                     
============================================================================================================================================
*/   
int bufferIndex;
int charIndex,digitIndex;
function NumberToString(f_val,f_digits) {
    bufferIndex = 1;  
    digitIndex = 10000;
    if(f_val < 0) {                    //--neg numbers
         putc_oled(bufferIndex,45);    //--add leading "-"
         bufferIndex += 1;
         f_val = abs(f_val);
    } 
    for(charIndex = 5; charIndex >= 1; charIndex--) {
        if(f_digits >= charIndex) {
            putc_oled(bufferIndex,(f_val / digitIndex) + 48);
            f_val %= digitIndex;
            bufferIndex ++; 
            if(charIndex == 4) {
                putc_oled(bufferIndex,44);//--add ","
                bufferIndex ++;
            }
        }
        digitIndex /= 10;
    } 
    if(editMenuInfo[valNameIdx][5] == 0){
    	puts_oled(centerPosition(bufferIndex - 1,OLED_FONT_MEDIUM_WIDTH),26,OLED_FONT_MEDIUM,bufferIndex - 1,OLED_WHITE);
    } 
    if(editMenuInfo[valNameIdx][5] == 1){
    	puts_oled(centerPosition(bufferIndex - 1,OLED_FONT_MEDIUM_WIDTH),31,OLED_FONT_MEDIUM,bufferIndex - 1,OLED_WHITE);
    } 
} 
int logVal;
function FindDigits(num) {
   logVal = 0;
   do {
      num /= 10;
      logVal++;
   } while (num);
   return logVal;
}
int i;
int Ads,Fire,Tactical,Lethal,Crouch,Jump,Reload,Melee,Swap,Sprint,Ping;    
const uint8 Layouts[][] = {            
 	  //Fire   ADS	  Lethal Tactical  Jump	 Crouch	  Melee	  Sprint  Reload WSwap,  Ping 	
	{ XB1_RT, XB1_LT, XB1_RB, XB1_LB, XB1_A,  XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // DEFAULT = 0
	{ XB1_RT, XB1_LT, XB1_RB, XB1_LB, XB1_A,  XB1_RS, XB1_B,  XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // TACTICAL = 1
	{ XB1_LT, XB1_RT, XB1_LB, XB1_RB, XB1_A,  XB1_B,  XB1_LS, XB1_RS ,XB1_X, XB1_Y, XB1_UP }, // LEFTY = 2
	{ XB1_RT, XB1_RB, XB1_LT, XB1_LB, XB1_A,  XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // N0M4D/CHARLIE = 3
	{ XB1_RT, XB1_RB, XB1_LT, XB1_LB, XB1_A,  XB1_RS, XB1_B,  XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // N0M4D/CHARLIE TACTICAL = 4
	{ XB1_LT, XB1_LB, XB1_RT, XB1_RB, XB1_A,  XB1_B,  XB1_LS, XB1_RS ,XB1_X, XB1_Y, XB1_UP }, // N0M4D/CHARLIE LEFTY = 5
	{ XB1_RT, XB1_LT, XB1_RB, XB1_A,  XB1_LB, XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // BUMPER JUMPER = 6 
	{ XB1_RT, XB1_LT, XB1_RB, XB1_A,  XB1_LB, XB1_RS, XB1_B,  XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // BUMPER JUMPER TACTICAL = 7
	{ XB1_LB, XB1_LT, XB1_RT, XB1_RB, XB1_A,  XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // ONE-HAND GUNSLINGER = 8
	{ XB1_RT, XB1_LT, XB1_RB, XB1_LB, XB1_RS, XB1_B,  XB1_A,  XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // STICK AND MOVE = 9
	{ XB1_RT, XB1_LT, XB1_RB, XB1_LB, XB1_A,  XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // BRAWLER = 10
	{ XB1_RT, XB1_LT, XB1_RS, XB1_A,  XB1_LB, XB1_B,  XB1_RB, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // BEASTY = 11
	{ XB1_RT, XB1_LT, XB1_RB, XB1_RB, XB1_A,  XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_LB }, // BUMPER PING = 12
	{ XB1_RT, XB1_LT, XB1_RB, XB1_RB, XB1_A,  XB1_RS, XB1_B,  XB1_LS ,XB1_X, XB1_Y, XB1_LB }, // BUMPER PING TACTICAL = 13
	{ XB1_RB, XB1_LB, XB1_RT, XB1_LT, XB1_A,  XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // DEFAULT SWAPPED = 14
	{ XB1_RB, XB1_LB, XB1_RT, XB1_LT, XB1_A,  XB1_RS, XB1_B,  XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // TACTICAL SWAPPED = 15
	{ XB1_RB, XB1_LB, XB1_RT, XB1_A,  XB1_LT, XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // BUMPER JUMPER SWAPPED = 16 
	{ XB1_RB, XB1_LB, XB1_RT, XB1_A,  XB1_LT, XB1_RS, XB1_B,  XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // BUMPER JUMPER TACTICAL SWAPPED = 17 
	{ XB1_RB, XB1_LB, XB1_RT, XB1_LT, XB1_RS, XB1_B,  XB1_A,  XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // STICK AND MOVE SWAPPED = 18
	{ XB1_RB, XB1_LB, XB1_RS, XB1_A,  XB1_LB, XB1_B,  XB1_RB, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // BEASTY SWAPPED 19
	{ XB1_RB, XB1_LB, XB1_RT, XB1_RT, XB1_A,  XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_LT }, // BUMPER PING = 18
	{ XB1_RB, XB1_LB, XB1_RT, XB1_RT, XB1_A,  XB1_RS, XB1_B,  XB1_LS ,XB1_X, XB1_Y, XB1_LT }}; // BUMPER PING TACTICAL = 19		

function Buttons(Type) {
	
	Fire     = Layouts[Type][0];
	Ads      = Layouts[Type][1];
	Lethal   = Layouts[Type][2];
	Tactical = Layouts[Type][3];
	Jump     = Layouts[Type][4];
	Crouch   = Layouts[Type][5];
	Melee    = Layouts[Type][6];
	Sprint   = Layouts[Type][7];
	Reload   = Layouts[Type][8];
	Swap     = Layouts[Type][9];
	Ping     = Layouts[Type][10];
	
} 
 /*
============================================================================================================================================
  Controller Stick Layouts ()                                                                                                                      
============================================================================================================================================
*/
int aimRY,aimRX,moveLY,moveLX;
const uint8  StickLayouts[][] = { 
//  0       1      2      3    //
{ PS4_RY,PS4_RX,PS4_LY,PS4_LX},// Default Sticks 
{ PS4_LY,PS4_LX,PS4_RY,PS4_RX},// SouthPaw
{ PS4_RY,PS4_LX,PS4_LY,PS4_RX},// Legacy 
{ PS4_LY,PS4_RX,PS4_LY,PS4_LX} // Legacy SouthPaw
};
function ControllerRSLS(sticks){ 
  aimRY      = StickLayouts[sticks][0];
  aimRX      = StickLayouts[sticks][1];
  moveLY     = StickLayouts[sticks][2];
  moveLX     = StickLayouts[sticks][3];
 
 }
   /*
============================================================================================================================================
  Block Buttons()                                                                                                                      
============================================================================================================================================
*/
 const uint8 BlockButtons [] = {  
  PS4_L2,PS4_OPTIONS,PS4_LEFT, PS4_RIGHT,PS4_UP,PS4_DOWN,PS4_CROSS,PS4_CIRCLE,PS4_SQUARE,PS4_TRIANGLE,PS4_L1,PS4_R1,PS4_R2};
  
 function BlockButtonPress (){  
    for(i = 0; i < 13; i++){
    	if(get_ival(BlockButtons[i]) || event_press(BlockButtons[i])){
        	set_val(BlockButtons[i],0);
        	set_val(Tactical,0);
        	set_val(Ping,0);
        	set_val(Melee,0);
        	set_val(Reload,0);
        	set_val(Swap,0);
        }    
    }
}
/*
============================================================================================================================================
 Customisable Menu Options For Buttons (Hold & Press Options) 
============================================================================================================================================
*/
const string HoldButtons[]     = { "Select","L2/LT","R2/RT","L1/LB","R1/RB","L3/LS","R3/RS","Dpad Down","Dpad Up","Dpad Left","Dpad Right","Triangle/Y","Cross/A","Circle/B","Square/X"};
const int8   HoldBtns []       = { -1,  PS4_L2  ,PS4_R2  , PS4_L1, PS4_R1  , PS4_L3 , PS4_R3 ,PS4_DOWN,PS4_UP,PS4_LEFT,PS4_RIGHT,PS4_TRIANGLE,PS4_CROSS, PS4_CIRCLE,PS4_SQUARE}; 
const int8   PressBtns[]       = { -1,  PS4_TRIANGLE,PS4_CROSS,PS4_CIRCLE,PS4_SQUARE,PS4_DOWN,PS4_UP,PS4_LEFT,PS4_RIGHT,PS4_SHARE,PS4_OPTIONS,PS4_TOUCH,PS4_ACCX,PS4_ACCY,PS4_PS,XB1_XBOX};

int highLight;
int ActivateIndividualButton = 0;
int activateResyncBtn = 0;
define ActivateButtonCount = 10;
int ActivateHoldButton[ActivateButtonCount];
int ActivatePressButton[ActivateButtonCount];
int ActivateHoldBtnIdx[ActivateButtonCount];
int ActivatePressBtnIdx[ActivateButtonCount];
function ButtonActivation(i){
	if(modNameIdx == modIndex++){ 
 		if(event_press(PS4_UP)){ 
 			highLight = rotateVar(highLight ++,0,1);
 			updateDisplay = TRUE;
 		}
 		if(event_press(PS4_DOWN)){ 
 			highLight = rotateVar(highLight --,0,1);
 			updateDisplay = TRUE;
 		} 
	    if(get_ival(Ads)){
	    	if(highLight == 0){
	    		if(event_press(PS4_RIGHT)){ 
	    			ActivateHoldBtnIdx[i] = rotateVar(ActivateHoldBtnIdx[i] + 1,0,14);
	    			updateDisplay = TRUE;
	    		}
	    		if(event_press(PS4_LEFT)){ 
	    			ActivateHoldBtnIdx[i] = rotateVar(ActivateHoldBtnIdx[i] - 1,0,14);
	    		    updateDisplay = TRUE;
	    		} 
	    	}
	    	if(highLight == 1){ 
	    		if(event_press(PS4_RIGHT)){ 
	    			ActivatePressBtnIdx[i] = rotateVar(ActivatePressBtnIdx[i] + 1,0,19);
	    			updateDisplay = TRUE;
	    		}
	    		if(event_press(PS4_LEFT)){ 
	    			ActivatePressBtnIdx[i] = rotateVar(ActivatePressBtnIdx[i] - 1,0,19);
	    		    updateDisplay = TRUE;
	    		} 
	    	} 
        }
        if(highLight == 0){
       		rect_oled(115,30, 6, 8, OLED_WHITE, OLED_WHITE); // HighLight 1
			rect_oled(6,30, 6, 8, OLED_WHITE, OLED_WHITE);   // HighLight 1
		}
		if(highLight == 1){
		    rect_oled(115,40, 6, 8, OLED_WHITE, OLED_WHITE); // HighLight 2
   			rect_oled(6,40, 6, 8, OLED_WHITE, OLED_WHITE);   // HighLight 2
		}   
        print(centerPosition(getStringLength(HoldButtons[ActivateHoldBtnIdx[i]]),OLED_FONT_SMALL_WIDTH),30,OLED_FONT_SMALL,OLED_WHITE,HoldButtons[ActivateHoldBtnIdx[i]])
        print(centerPosition(getStringLength(pressButtons[ActivatePressBtnIdx[i]]),OLED_FONT_SMALL_WIDTH),40,OLED_FONT_SMALL,OLED_WHITE,pressButtons[ActivatePressBtnIdx[i]])
     }  
 }
 function buttonActivationEdit(i){
	if(valNameIdx == valNameIndex++){ 
 		if(event_press(PS4_UP)){ 
 			highLight = rotateVar(highLight ++,0,1);
 			updateDisplay = TRUE;
 		}
 		if(event_press(PS4_DOWN)){ 
 			highLight = rotateVar(highLight --,0,1);
 			updateDisplay = TRUE;
 		} 
	    if(get_ival(Ads)){
	    	if(highLight == 0){
	    		if(event_press(PS4_RIGHT)){ 
	    			ActivateHoldBtnIdx[i] = rotateVar(ActivateHoldBtnIdx[i] + 1,0,14);
	    			updateDisplay = TRUE;
	    		}
	    		if(event_press(PS4_LEFT)){ 
	    			ActivateHoldBtnIdx[i] = rotateVar(ActivateHoldBtnIdx[i] - 1,0,14);
	    		    updateDisplay = TRUE;
	    		} 
	    	}
	    	if(highLight == 1){ 
	    		if(event_press(PS4_RIGHT)){ 
	    			ActivatePressBtnIdx[i] = rotateVar(ActivatePressBtnIdx[i] + 1,0,19);
	    			updateDisplay = TRUE;
	    		}
	    		if(event_press(PS4_LEFT)){ 
	    			ActivatePressBtnIdx[i] = rotateVar(ActivatePressBtnIdx[i] - 1,0,19);
	    		    updateDisplay = TRUE;
	    		} 
	    	} 
        }
        if(highLight == 0){
       		rect_oled(115,30, 6, 8, OLED_WHITE, OLED_WHITE); // HighLight 1
			rect_oled(6,30, 6, 8, OLED_WHITE, OLED_WHITE);   // HighLight 1
		}
		if(highLight == 1){
		    rect_oled(115,40, 6, 8, OLED_WHITE, OLED_WHITE); // HighLight 2
   			rect_oled(6,40, 6, 8, OLED_WHITE, OLED_WHITE);   // HighLight 2
		}   
        print(centerPosition(getStringLength(HoldButtons[ActivateHoldBtnIdx[i]]),OLED_FONT_SMALL_WIDTH),30,OLED_FONT_SMALL,OLED_WHITE,HoldButtons[ActivateHoldBtnIdx[i]])
        print(centerPosition(getStringLength(pressButtons[ActivatePressBtnIdx[i]]),OLED_FONT_SMALL_WIDTH),40,OLED_FONT_SMALL,OLED_WHITE,pressButtons[ActivatePressBtnIdx[i]])
     }  
 }
function ActivateAllButtons(){
    
    for (i = 0; i < ActivateButtonCount; i++) 
    {
        ActivateHoldButton[i]          = HoldBtns[clamp(ActivateHoldBtnIdx[i], 0, sizeof(HoldBtns))];
        ActivatePressButton[i]         = PressBtns[clamp(ActivatePressBtnIdx[i],0, sizeof(PressBtns))];
        ActivateIndividualButton       = PressBtns[clamp(singleProfileBtnIdx, 0, sizeof(PressBtns))]; 
        activateResyncBtn 			   = HoldBtns[clamp(resyncProfileBtnIdx, 0, sizeof(HoldBtns))]; 
    }
    return;   
} 
/*
============================================================================================================================================
  Menu Scroll ()                                                                                                                      
============================================================================================================================================
*/
int introScrollTimer, introScrollPauseTime;
int introScrollTextOffset;
int introScrollTextIndex;
int introScrollCharIndex = 1;

function menuScroll() {
    introScrollTimer += get_rtime();
    if(introScrollTimer >= introScrollPauseTime) {
        introScrollPauseTime = 50;
        for (introScrollTextIndex = 1; introScrollTextIndex <= 20; introScrollTextIndex++) {
            if (introScrollTextIndex + introScrollTextOffset >= sizeof(MENU_SCROLL_TEXT)) {
                putc_oled(introScrollTextIndex, MENU_SCROLL_TEXT[introScrollTextIndex + (introScrollTextOffset - sizeof(MENU_SCROLL_TEXT))]);
            }
            else {
                putc_oled(introScrollTextIndex, MENU_SCROLL_TEXT[introScrollTextIndex + introScrollTextOffset]);
            }
        }
        puts_oled(1, 53,OLED_FONT_SMALL, introScrollTextIndex, OLED_WHITE);
        introScrollTextOffset++;
        if (introScrollTextOffset >= sizeof(MENU_SCROLL_TEXT)) {
            introScrollTextOffset = 0;
        }
        introScrollCharIndex--;
        if (introScrollCharIndex < 1) {
            introScrollCharIndex = 20;
            introScrollPauseTime = 2000;

        }
        introScrollTimer = 0;
    }
}
const uint8 MENU_SCROLL_TEXT[] = {
//    1			2		   3	4	     5		    6		 7		  8		    9      10	     11	     12		  13	   14		 15		  16		17        18
     
     space, space, P , R , E ,S ,S ,space , U,P , space , O , R , space , D , O , W , N , space , space,
     
     P , R , E ,S ,S ,space , L,E,F,T, space , O , R , space , R, I , G ,H, T , space,
     
     space, space, T,O , space, C,_Y,C,L,E , space , T , H , E , space , M,O,D,S, space,
     
     space, space, space,P,R,E,S,S, space, A,space,slash,space,C,R,O,S,S,space,space,
     
     space, T,O,space,E,N,T,E,R,space,A,N,_Y,space,M,E,N,U,S,space,
     
     space,T,O,space,E,X,I,T,space,A,N,_Y,space,M,E,N,U,S,space,space,
     
     space,space,P,R,E,S,S , space, B, space,slash,space,C,I,R,C,L,E,space,space,
     
     space, P , R , E ,S ,S ,space , _Y, space , slash,space,T,R,I,A,N,G,L,E,space,
     
     space,T,O,space,C,H,A,N,G,E,space,P,R,O,F,I,L,E,S,space,
     
     space,space,space,H,O,L,D,space,L,T,space,slash,space,L,_2,space,space,space,space,space,
     
     P , R , E ,S ,S ,space , L,E,F,T, space , O , R , space , R, I , G ,H, T , space,
     
     space, space, P , R , E ,S ,S ,space , U,P , space , O , R , space , D , O , W , N , space , space,
     
     space ,space, T,O , space, C,H,A,N,G,E,space,V,A,L,U,E,S,space,space 
          
};  
define  _0 = 48,   A = 65,   K = 75,   U =  85,   e = 101,   o = 111,   _y       = 121,    _plus      = 43, slash     = 47 , _dot     =  46, _minus = 45;
define  _1 = 49,   B = 66,   L = 76,   V =  86,   f = 102,   p = 112,   z       = 122;
define  _2 = 50,   C = 67,   M = 77,   W =  87,   g = 103,   q = 113,   space   =  32;
define  _3 = 51,   D = 68,   N = 78,   X =  88,   h = 104,   r = 114,   bang    =  33;
define  _4 = 52,   E = 69,   O = 79,   _Y =  89, _i = 105,   s = 115,   quote   =  34;
define  _5 = 53,   F = 70,   P = 80,   Z =  90,   j = 106,   t = 116,   hash    =  35;
define  _6 = 54,   G = 71,   Q = 81,   a =  97,   k = 107,   u = 117,   dollar  =  36;
define  _7 = 55,   H = 72,   R = 82,   b =  98,   l = 108,   v = 118,   percent =  37;
define  _8 = 56,   I = 73,   S = 83,   c =  99,   m = 109,   w = 119,   and     =  38;
define  _9 = 57,   J = 74,   T = 84,   d = 100,   n = 110,  _x = 120,   tick    =  39;

define _left     = 133,   _right = 134,_up       = 131,_down     = 132,_cross    = 127, _circle   = 128, _triangle = 130;
			
int buttonIdx
int menuTimeOut;
define activeMenuTime = 10000;
function checkRecoilMenuButtons (){  
    for(buttonIdx = 0; buttonIdx < 3; buttonIdx++){
         if(event_press(recoilAdjustButtons[buttonIdx]) ){
             menuTimeOut = activeMenuTime;
         }
         if(menuTimeOut){              
            menuTimeOut -=1;
            if(menuTimeOut <= 0 ){    
                editMenu      = FALSE;
                recoilEdit    = FALSE;
                updateDisplay = FALSE;      
                displayTitle   = TRUE; 
                Save();
            }
        }
    }
}
const uint8 recoilAdjustButtons [] = {  
  PS4_RIGHT ,
  PS4_LEFT ,
  PS4_UP , 
  PS4_DOWN  
};
 /*
============================================================================================================================================
  Bit Packing SPVARs ()                                                                                                                      
============================================================================================================================================
*/
// Use these for 32-bit SPVARs
define FULL_BITMASK = -1;
define MAX_BITS = 32;
define MAX_FW_BITS = 32;

function reset_spvar() {
	spvar_current_slot = SPVAR_4; // Change this to say where it's safe to start storing data
	spvar_current_bit = 0;
	spvar_current_value = 0;
}
function get_bit_count(val) {
/*	if (val == (1 << (MAX_FW_BITS - 1))) {
		return MAX_FW_BITS;
	}*/
	if (val < 0) {
		return get_bit_count(abs(val + 1));
	}
	spvar_tmp = 0;
	do {
		spvar_tmp++;
		val = val >> 1; // Shift the value down 1 bit
	} while (val);
	return spvar_tmp;
}
function get_bit_count2(min, max) {	
	spvar_tmp = max(get_bit_count(min), get_bit_count(max));
	if (is_signed2(min, max)) {
		spvar_tmp++;
	}
	return spvar_tmp;
}
function is_signed2(min, max) { return min < 0 || max < 0; }

function make_full_mask(bits) {	
	if (bits == MAX_FW_BITS) {
		return FULL_BITMASK;
	}
	return (FULL_BITMASK & (~(1 << (MAX_FW_BITS - 1)))) >> (MAX_FW_BITS - bits - 1);
}
function make_sign(bits) { return 1 << clamp(bits - 1, 0, MAX_FW_BITS - 1); }
function make_sign_mask(bits) { return ~make_sign(bits); }

function pack_u(val, bits) { return val & make_full_mask(bits); }
function pack_i(val, bits) {
	if (val < 0) {
		return (abs(val) & make_sign_mask(bits)) | make_sign(bits);	
	}
	return val & make_sign_mask(bits);
}
function unpack_i(val, bits) {
	if (val & make_sign(bits)) {
		return 0 - (val & make_sign_mask(bits));
	}
	return val & make_sign_mask(bits);
}

int spvar_current_bit;
int spvar_current_slot;
int spvar_current_value;
int spvar_tmp;
int spvar_bits;

function read_spvar_slot(slot) { return get_pvar(slot, 0-(FULL_BITMASK & (1 << (MAX_BITS - 1))), 0-((0-(FULL_BITMASK & (1 << (MAX_BITS - 1)))) + 1), 0); }

function save_spvar(val, min, max, save) {
	spvar_bits = get_bit_count2(min, max); // Set min to be the bits we're going to need to store this value	
	
	if (is_signed2(min, max)) {
		val = pack_i(val, spvar_bits); // Pack as signed value	
	}
	val = pack_u(val, spvar_bits); // Pack as unsigned value - because this is more inclusive than signed, we don't need an else here - just always do it (micro optimization)
	
	if (spvar_bits > MAX_BITS - spvar_current_bit) { // If we cannot fit the value here, we need to store what we can and move to the next slot
		spvar_current_value = spvar_current_value | (val << spvar_current_bit); // Add what we can to the current value
		set_pvar(spvar_current_slot, spvar_current_value); // Force save, we're moving to the next value		
		spvar_current_slot++; // Move to the next slot
		spvar_bits -= (MAX_BITS - spvar_current_bit); // Update the required bits according to our needs for the next slot
		val = val >> (MAX_BITS - spvar_current_bit); // Move the remaining bits to their new location
		spvar_current_bit = 0; // We've hit the end, so we start over
		spvar_current_value = 0; // Reset our value so we start clean
	}
	
	spvar_current_value = spvar_current_value | (val << spvar_current_bit); // Add the value to the current position
	spvar_current_bit += spvar_bits; // Increment the bit position
	if (spvar_current_bit >= MAX_BITS) {
		spvar_current_bit -= MAX_BITS; // We went beyond the end here, this is too big apparently
		set_pvar(spvar_current_slot, spvar_current_value);
		spvar_current_slot++; // move to the next slot
		if (!spvar_current_bit) {
			spvar_current_value = 0; // Reset our value so we start clean
		}
	}
	if (save) {
		set_pvar(spvar_current_slot, spvar_current_value);
	}	
}

function read_spvar(min, max, _default) {
    spvar_current_value = read_spvar_slot(spvar_current_slot); // Load the value so we always have it where we need it to be
    spvar_bits = get_bit_count2(min, max); // Set min to be the bits we're going to need to store this value
    spvar_current_value = pack_u(spvar_current_value >> spvar_current_bit, spvar_bits); // Shift our bits into position
    
    if (spvar_bits > MAX_BITS - spvar_current_bit) { // if the value doesn't fit in this variable, we need to fetch the next value aswell and merge them accordingly
        spvar_current_slot++; // Move to the next slot
        spvar_tmp = read_spvar_slot(spvar_current_slot); // load the new slot into a temporary variable
        spvar_tmp = pack_u(spvar_tmp, spvar_bits - (MAX_BITS - spvar_current_bit)); // Get the bits we need
        spvar_tmp = spvar_tmp << (MAX_BITS - spvar_current_bit); // Shift the bits into their correct position
        spvar_current_value = pack_u(spvar_current_value, MAX_BITS - spvar_current_bit);
        spvar_current_value = spvar_current_value | spvar_tmp; // put all bits together again
        spvar_current_bit = spvar_current_bit - MAX_BITS; // Reset the bit position so we get the correct position next
    }    
    spvar_current_bit += spvar_bits; // move to the next variable position
    if (spvar_current_bit >= MAX_BITS) {
        spvar_current_bit -= MAX_BITS; // We went beyond the end here, this is too big apparently
        spvar_current_slot++;
    }    
    spvar_current_value = pack_u(spvar_current_value, spvar_bits); // Extract all bits included for this value
    if (is_signed2(min, max)) { // Check if we have a sign bit
        spvar_current_value = unpack_i(spvar_current_value, spvar_bits); // Restore signed value
    }
    if (spvar_current_value < min || spvar_current_value > max) { // Check if the value is below our specified min or above our specified max, if so - return the default value instead
        return _default;
    }
    return spvar_current_value;
}
function Load(){ 

	StrafeActiveTime    = get_pvar(SPVAR_1,1,2000,300);
	PingDelay           = get_pvar(SPVAR_2,1,5000,1000);
	quickScopeDelay     = get_pvar(SPVAR_3,1,990 ,350);
	
	reset_spvar(); 
	
	antiRecoilBasic     [0]= read_spvar(0, 2,0);
	antiRecoilBasic     [1]= read_spvar(0, 2,0);
	antiRecoilBasic     [2]= read_spvar(0, 2,0);
	antiRecoilBasic     [3]= read_spvar(0, 2,0);
	antiRecoilAdvanced  [0]= read_spvar(0, 4,0);
	antiRecoilAdvanced  [1]= read_spvar(0, 4,0);
	antiRecoilAdvanced  [2]= read_spvar(0, 4,0);
	antiRecoilAdvanced  [3]= read_spvar(0, 4,0);
	aimAssist              = read_spvar(0, 1,0);
	stickyAimAssist         = read_spvar(0, 1,0);
	strafeShot             = read_spvar(0, 1,0);
	enemyPing              = read_spvar(0, 1,0);
	handGunMode            = read_spvar(0, 1,0);
	dualHGunMode           = read_spvar(0, 2,0);
	cancelSlide            = read_spvar(0, 2,0);
	bunnyHop               = read_spvar(0, 1,0);
	blockRumble            = read_spvar(0, 1,0);
	hairTriggers           = read_spvar(0, 1,0);
	vmSpeed                = read_spvar(0, 3,0);
	standardARFireType     = read_spvar(0, 2,0);
	progressiveARFireType  = read_spvar(0, 2,0);
	HeliosFireType         = read_spvar(0, 3,0);
	stickyFireType          = read_spvar(0, 3,0);
	quickToggleActivationType[0]= read_spvar(0,5,0);
	quickToggleActivationType[1]= read_spvar(0,5,0);
	singleProfileBtnIdx	   = read_spvar(0,19,0);
	resyncProfileBtnIdx	   = read_spvar(0,14,0);
	buttonLayouts    	   = read_spvar(0,21,0);
	stickLayouts    	   = read_spvar(0, 3,0);
	quickToggleIdx[0]	   = read_spvar(0, 7,0);
	quickToggleIdx[1]	   = read_spvar(0, 7,0);
	ActivateHoldBtnIdx[0]  = read_spvar(0,14,0);
	ActivateHoldBtnIdx[1]  = read_spvar(0,14,0);
	ActivateHoldBtnIdx[2]  = read_spvar(0,14,0);
	ActivateHoldBtnIdx[3]  = read_spvar(0,14,0);
	ActivateHoldBtnIdx[4]  = read_spvar(0,14,0);
	ActivateHoldBtnIdx[5]  = read_spvar(0,14,0);
	ActivateHoldBtnIdx[6]  = read_spvar(0,14,0);
	ActivateHoldBtnIdx[7]  = read_spvar(0,14,0);
	ActivatePressBtnIdx[0] = read_spvar(0,19,0);
	ActivatePressBtnIdx[1] = read_spvar(0,19,0);
	ActivatePressBtnIdx[2] = read_spvar(0,19,0);
	ActivatePressBtnIdx[3] = read_spvar(0,19,0);
	ActivatePressBtnIdx[4] = read_spvar(0,19,0);
	ActivatePressBtnIdx[5] = read_spvar(0,19,0);
	ActivatePressBtnIdx[6] = read_spvar(0,19,0);
	ActivatePressBtnIdx[7] = read_spvar(0,19,0);
	HeliosType                 = read_spvar(0, 1,0);
	HeliosShapes           = read_spvar(0, 9,0);
	HeliosTracking         = read_spvar(0, 1,0);
	fireType			   = read_spvar(0, 1,0);
	
	Vertical[0] = read_spvar(-99, 99, 0);	
 	Vertical[1] = read_spvar(-99, 99, 0);
 	Vertical[2] = read_spvar(-99, 99, 0);
 	Vertical[3] = read_spvar(-99, 99, 0);
   	Horizontal[0] = read_spvar(-99,99,0);
    Horizontal[1] = read_spvar(-99,99,0);
    Horizontal[2] = read_spvar(-99,99,0);
    Horizontal[3] = read_spvar(-99,99,0);
    VerticalStart   [0] = read_spvar(-99, 99, 0);
   	VerticalStart   [1] = read_spvar(-99, 99, 0);
   	VerticalStart   [2] = read_spvar(-99, 99, 0);
   	VerticalStart   [3] = read_spvar(-99, 99, 0);
   	VerticalMid     [0] = read_spvar(-99, 99, 0);
   	VerticalMid     [1] = read_spvar(-99, 99, 0);
   	VerticalMid     [2] = read_spvar(-99, 99, 0);
   	VerticalMid     [3] = read_spvar(-99, 99, 0);
   	VerticalEnd     [0] = read_spvar(-99, 99, 0);
   	VerticalEnd     [1] = read_spvar(-99, 99, 0);
   	VerticalEnd     [2] = read_spvar(-99, 99, 0);
	VerticalEnd     [3] = read_spvar(-99, 99, 0);
	HorizontalStart [0] = read_spvar(-99, 99, 0);
   	HorizontalStart [1] = read_spvar(-99, 99, 0);
   	HorizontalStart [2] = read_spvar(-99, 99, 0);
   	HorizontalStart [3] = read_spvar(-99, 99, 0);
   	HorizontalEnd   [0] = read_spvar(-99, 99, 0);
   	HorizontalEnd   [1] = read_spvar(-99, 99, 0);
   	HorizontalEnd   [2] = read_spvar(-99, 99, 0);
   	HorizontalEnd   [3] = read_spvar(-99, 99, 0);
   	handGunVertical     = read_spvar(-99, 99, 0);
   	VerticalTime    [0] = read_spvar(  1, 99, 0);
   	VerticalTime    [1] = read_spvar(  1, 99, 0);
   	VerticalTime    [2] = read_spvar(  1, 99, 0);
   	VerticalTime    [3] = read_spvar(  1, 99, 0);
   	HorizontalTime  [0] = read_spvar(  1, 99, 0);
   	HorizontalTime  [1] = read_spvar(  1, 99, 0);
   	HorizontalTime  [2] = read_spvar(  1, 99, 0);
   	HorizontalTime  [3] = read_spvar(  1, 99, 0);
   	rateOfFire          = read_spvar(  1, 25, 1);
   	dualRateOfFire      = read_spvar(  1, 25, 1);
   	speedAngle          = read_spvar(1,99,15);
   	radiusSize          = read_spvar(1,99,15); 
   	trackingSize        = read_spvar(1,10,2);
   	trackingSpeed       = read_spvar(1,10,3);
   	StrafeSize          = read_spvar(1,100,75);
   	crouchSpeed			= read_spvar(1, 99,60);
   	AimAssistSize       = read_spvar(1,99,20);
   	AimAssistTime       = read_spvar(1,99,20);
   	SlideDelay			= read_spvar(1, 200,120);	
  } 
function Save(){ 
	combo_run(saved);
	
	set_pvar(SPVAR_1,StrafeActiveTime);
    set_pvar(SPVAR_2,PingDelay);
    set_pvar(SPVAR_3,quickScopeDelay);
    
	reset_spvar();
	save_spvar(antiRecoilBasic     [0]		,0,  2, FALSE);
	save_spvar(antiRecoilBasic     [1]		,0,  2, FALSE);
	save_spvar(antiRecoilBasic     [2]		,0,  2, FALSE);
	save_spvar(antiRecoilBasic     [3]		,0,  2, FALSE);
	save_spvar(antiRecoilAdvanced  [0]		,0,  4, FALSE);
	save_spvar(antiRecoilAdvanced  [1]		,0,  4, FALSE);
	save_spvar(antiRecoilAdvanced  [2]		,0,  4, FALSE);
	save_spvar(antiRecoilAdvanced  [3]		,0,  4, FALSE);
	save_spvar(aimAssist              		,0,  1, FALSE);
	save_spvar(stickyAimAssist        		,0,  1, FALSE);
	save_spvar(strafeShot             		,0,  1, FALSE);
	save_spvar(enemyPing              		,0,  1, FALSE);
	save_spvar(handGunMode            		,0,  1, FALSE);
	save_spvar(dualHGunMode           		,0,  2, FALSE);
	save_spvar(cancelSlide            		,0,  2, FALSE);
	save_spvar(bunnyHop               		,0,  1, FALSE);
	save_spvar(blockRumble            		,0,  1, FALSE);
	save_spvar(hairTriggers           		,0,  1, FALSE);
	save_spvar(vmSpeed                		,0,  3, FALSE);
	save_spvar(standardARFireType     		,0,  2, FALSE);
	save_spvar(progressiveARFireType  		,0,  2, FALSE);
	save_spvar(HeliosFireType         		,0,  3, FALSE);
	save_spvar(stickyFireType          		,0,  3, FALSE);
	save_spvar(quickToggleActivationType[0] ,0,  5, FALSE);
	save_spvar(quickToggleActivationType[1] ,0,  5, FALSE);
	save_spvar(singleProfileBtnIdx	        ,0, 19, FALSE);
	save_spvar(resyncProfileBtnIdx	  		,0, 14, FALSE);
	save_spvar(buttonLayouts    	  		,0, 21, FALSE);
	save_spvar(stickLayouts    	      		,0,  3, FALSE);
	save_spvar(quickToggleIdx[0]	  		,0,  7, FALSE);
	save_spvar(quickToggleIdx[1]	  		,0,  7, FALSE);
	save_spvar(ActivateHoldBtnIdx[0]  		,0, 14, FALSE);
	save_spvar(ActivateHoldBtnIdx[1]  		,0, 14, FALSE);
	save_spvar(ActivateHoldBtnIdx[2]  		,0, 14, FALSE);
	save_spvar(ActivateHoldBtnIdx[3]  		,0, 14, FALSE);
	save_spvar(ActivateHoldBtnIdx[4]  		,0, 14, FALSE);
	save_spvar(ActivateHoldBtnIdx[5]  		,0, 14, FALSE);
	save_spvar(ActivateHoldBtnIdx[6]  		,0, 14, FALSE);
	save_spvar(ActivateHoldBtnIdx[7]  		,0, 14, FALSE);
	save_spvar(ActivatePressBtnIdx[0] 		,0, 19, FALSE);
	save_spvar(ActivatePressBtnIdx[1] 		,0, 19, FALSE);
	save_spvar(ActivatePressBtnIdx[2] 		,0, 19, FALSE);
	save_spvar(ActivatePressBtnIdx[3] 		,0, 19, FALSE);
	save_spvar(ActivatePressBtnIdx[4] 		,0, 19, FALSE);
	save_spvar(ActivatePressBtnIdx[5] 		,0, 19, FALSE);
	save_spvar(ActivatePressBtnIdx[6] 		,0, 19, FALSE);
	save_spvar(ActivatePressBtnIdx[7] 		,0, 19, FALSE);
	save_spvar(HeliosType             		,0,  1, FALSE);
	save_spvar(HeliosShapes           		,0,  9, FALSE);
	save_spvar(HeliosTracking         		,0,  1, FALSE);
	save_spvar(fireType               		,0,  1, FALSE);
	
	save_spvar(Vertical[0]         			,-99,  99, FALSE);	
 	save_spvar(Vertical[1]         			,-99,  99, FALSE);
 	save_spvar(Vertical[2]         			,-99,  99, FALSE);
 	save_spvar(Vertical[3]         			,-99,  99, FALSE);
   	save_spvar(Horizontal[0]       			,-99,  99, FALSE);
    save_spvar(Horizontal[1]       			,-99,  99, FALSE);
    save_spvar(Horizontal[2]       			,-99,  99, FALSE);
    save_spvar(Horizontal[3]       			,-99,  99, FALSE);
    save_spvar(VerticalStart   [0] 			,-99,  99, FALSE);
   	save_spvar(VerticalStart   [1] 			,-99,  99, FALSE);
   	save_spvar(VerticalStart   [2] 			,-99,  99, FALSE);
   	save_spvar(VerticalStart   [3] 			,-99,  99, FALSE);
   	save_spvar(VerticalMid     [0] 			,-99,  99, FALSE);
   	save_spvar(VerticalMid     [1] 			,-99,  99, FALSE);
   	save_spvar(VerticalMid     [2] 			,-99,  99, FALSE);
   	save_spvar(VerticalMid     [3] 			,-99,  99, FALSE);
   	save_spvar(VerticalEnd     [0] 			,-99,  99, FALSE);
   	save_spvar(VerticalEnd     [1] 			,-99,  99, FALSE);
   	save_spvar(VerticalEnd     [2] 			,-99,  99, FALSE);
	save_spvar(VerticalEnd     [3] 			,-99,  99, FALSE);
	save_spvar(HorizontalStart [0] 			,-99,  99, FALSE);
   	save_spvar(HorizontalStart [1] 			,-99,  99, FALSE);
   	save_spvar(HorizontalStart [2] 			,-99,  99, FALSE);
   	save_spvar(HorizontalStart [3] 			,-99,  99, FALSE);
   	save_spvar(HorizontalEnd   [0] 			,-99,  99, FALSE);
   	save_spvar(HorizontalEnd   [1] 			,-99,  99, FALSE);
   	save_spvar(HorizontalEnd   [2] 			,-99,  99, FALSE);
   	save_spvar(HorizontalEnd   [3] 			,-99,  99, FALSE);
   	save_spvar(handGunVertical     			,-99,  99, FALSE);
   	save_spvar(VerticalTime    [0] 			,  1,  99, FALSE);
   	save_spvar(VerticalTime    [1] 			,  1,  99, FALSE);
   	save_spvar(VerticalTime    [2] 			,  1,  99, FALSE);
   	save_spvar(VerticalTime    [3] 			,  1,  99, FALSE);
   	save_spvar(HorizontalTime  [0] 			,  1,  99, FALSE);
   	save_spvar(HorizontalTime  [1] 			,  1,  99, FALSE);
   	save_spvar(HorizontalTime  [2] 			,  1,  99, FALSE);
   	save_spvar(HorizontalTime  [3] 			,  1,  99, FALSE);
   	save_spvar(rateOfFire          			,  1,  25, FALSE);
   	save_spvar(dualRateOfFire      			,  1,  25, FALSE);
   	save_spvar(speedAngle          			,  1,  99, FALSE);
   	save_spvar(radiusSize          			,  1,  99, FALSE); 
   	save_spvar(trackingSize        			,  1,  10, FALSE);
   	save_spvar(trackingSpeed       			,  1,  10, FALSE);
   	save_spvar(StrafeSize          			,  1, 100, FALSE);
   	save_spvar(crouchSpeed		   			,  1,  99, FALSE);
   	save_spvar(AimAssistSize       			,  1,  99, FALSE);
   	save_spvar(AimAssistTime       			,  1,  99, FALSE);
   	save_spvar(SlideDelay		   			,  1, 200,  TRUE);	
} 