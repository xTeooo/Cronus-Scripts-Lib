// Deyy Script Madde By Sujay (EDITED BY DHRUVSKI) ....... 

//Binds
// ðŸ…¼ðŸ…°ðŸ†ƒðŸ…²ðŸ…· ðŸ…¸ðŸ…½ ðŸ…¶ðŸ…°ðŸ…¼ðŸ…´ ðŸ…±ðŸ†„ðŸ†ƒðŸ†ƒðŸ…¾ðŸ…½ðŸ†‚
// ðŸ…²ðŸ…¾ðŸ…¼ðŸ…±ðŸ…°ðŸ†ƒ ðŸ…¼ðŸ…¾ðŸ…³ðŸ…´
define ADS     		= PS4_L2;		//in-game ADS BUTTON
define FIRE     	= PS4_R2;		//in-game FIRE BUTTON
define NEXT_WEAPON 	= PS4_R1;		//in-game NEXT_WEAPON BUTTON
define PREV_WEAPON 	= PS4_L1;		//in-game PREV_WEAPON BUTTON
define PICKAXE 		= PS4_TRIANGLE; //in-game PICKAXE BUTTON
define JUMP     	= PS4_CROSS;	//in-game JUMP BUTTON
define CROUCH   	= PS4_R3;		//in-game CROUCH BUTTON
define INTERACT 	= PS4_SQUARE;	//in-game INTERACT BUTTON
define MAPVIEW_B	= PS4_DOWN;    //in-game MAP BUTTON
define INVENTORY    = PS4_UP;      // in-game INVENTORY BUTTON

// ðŸ…±ðŸ†„ðŸ…¸ðŸ…»ðŸ…³ ðŸ…¼ðŸ…¾ðŸ…³ðŸ…´
define BUILD     	= PS4_CIRCLE;	//in-game BUILD BUTTON
define STAIRS  		= PS4_L2;		//in-game STAIRS BUTTON
define WALL    	 	= PS4_R2;		//in-game WALL BUTTON
define FLOOR  		= PS4_R1;		//in-game FLOOR BUTTON
define ROOF   		= PS4_L1;		//in-game ROOF BUTTON
define TRAP         = PS4_SQUARE;   //in-game TRAP BUTTON
// ðŸ…´ðŸ…³ðŸ…¸ðŸ†ƒ ðŸ…¼ðŸ…¾ðŸ…³ðŸ…´
define EDIT 		= PS4_CIRCLE;	//in-game EDIT BUTTON
define SELECT 		= PS4_R2; 		//in-game SELECT BUTTON
define CONFIRM 		= PS4_R1;	//in-game CONFIRM BUTTON
define RESET 		= PS4_L2;	//in-game RESET BUTTON
define On  = TRUE;
define Off = FALSE;

// ðŸ…¼ðŸ…¾ðŸ†…ðŸ…´ðŸ…¼ðŸ…´ðŸ…½ðŸ†ƒ & ðŸ…°ðŸ…¸ðŸ…¼ ðŸ†‚ðŸ†ƒðŸ…¸ðŸ…²ðŸ…ºðŸ†‚

define AimY     = XB1_RY;  // Vertical Aim Axis In Game
define AimX     = XB1_RX;  // Horizontal Aim Axis In Game
define Strafe   = XB1_LX;  // Horizontal Walk Axis In Game
define Walk     = XB1_LY;  // Vertical Walk Axis In Game
define PS       = POLAR_RS;// Polar Stick In Use [LS/RS]


// Just Leave this alone
define PXS     =   90;  				    	
define PXSE    =    270;				    
define PVSI    =     20;    				
define PVS     =      0;
define PYS     =   -200;				
define PYSE    =    200;		    	
int    PPFX    =    PXS;
int    PPFY    =    PYS;				  	  
int    PVID;
int    PFD     =      1;		    
int    PPFD    =      1;
int    RX;
int    RY;

// Batts STICKY AA // 
define BattsStickyAA = TRUE;
define BattsAAHip    = TRUE;
define BattStickyPower = 10;// ads value or deadzone
define BattStickyWait  = 10;// ads value or deadzone

// NIKO AIM // 
define SS_Nikolai_Aim = TRUE;
define AimAssistWaitTime = 10;// ads value or deadzone
define AimAssistStrength = 10;// ads value or deadzone

//Aim Assist Linear - Semjases V2
int AimAssist_LINEAR  = TRUE; 
int Strength  = 20; //Examples 13-4, 17-5, 20-5, 10-3
int Increment = 5; 

//Aim Assist Stick Linear - Umbrella V2 
define AimStickLinear  = TRUE; // Help with aiming moving the jyostick linear
define Ads_Assist      = TRUE; // Aim Assist Ads only 
define Fire_Assist     = TRUE; // Aim Assist Fire only
define RADIUS          = 7;    // Radius/strength/value
define STEPS           = 30;   // Step/speed
define STEP_INTERVAL   = 1;    // time

// AIM ASSIST EXPLOIT LINEAR LEXICO - Lexicon V2
int Aim_Exploit_Linear = TRUE; // [(On) or (Off)] = {Aim Assist Linear Toggle On/Off By Default}
int Strength_Linear    = 150; // AIM ASSIST STRENGTH // THE MAXIMUM VALUE IS 150
int Wait_Linear        = 50;  // AIM ASSIST WAIT     //IF YOU SEE THE CHARACTER MOVES A LITTLE, YOU CAN LOWER THE VALUE.

// Progression Head Shot Assist
define HeadAssist    = TRUE; // Main Toggle ON/OFF
define HeadHipAssist = FALSE;  // Operate on Fire Only [If Off It Will Only Run On ADS & FIRE]

define HeadStep = 3;  // Step Increment Increasing Until Its Reached HeadMax
define HeadMax  = 30; // Max Head Assist Value

//Deadzone optimizer
int DEADZONE	= On;
define DZ_L 	= 10;
define invDZ_L 	= -10;

define DZ_R 	= 10;
define invDZ_R 	= -10;

// RIGHT STICK DEADZONE OPTIMIZER
int JoyStick_Calibration = On; //OPTIMIZED Deadzone for RIGHT STICK
define _Rv = 10; //deadzone

// 100% Accuracy
int PerfectAccuracy = On;
int PerfectAccuracyTime = 350;
define PerfectAccuracyHold  = PS4_L2;  /*Btn1 : Button 1*/ 
define PerfectAccuracyPress = PS4_R3;  /*Btn2 : Button 2*/
define PerfectAccuracyActive = 2; // MOD TRIGGER STATE == { Btn2Press[1]  or  Btn1Hold_Btn2Press[2]  or  Btn2Hold[3]  or  Btn1Hold_Btn2Hold[4] }


// Instant Edit + Reset 
define InstaEditReset = TRUE; 	// [ON / OFF] Normal Instant Edit/Reset
define EditHold       = FALSE; 	// [ON / OFF] SET On WHEN USING EDIT HOLD TIME TO EDIT ( MATCH TO IN GAME SETUP ) [Off = INSTANT PRESS]
define EditHoldTime   = 100;  	// Time If Using Hold to Edit In game [Setting To Be Matched To In Game Time]


// Fast Reset (One Button)
define InstaFastReset = TRUE;        // Fast Reset [ON / OFF]
define FastReset      = PS4_L2; // FAST RESET BUTTON 


// Quick Edit Assist
define QuickEditAssist = FALSE;   	 // [ON / OFF] Edit Assist
define EditDelay       = 20;     // Edit Assist Hold Delay On Select
define EditAssist      = PS4_RIGHT; // EDIT ASSIST + FAST RESET EDIT BUTTON (Edit In Game [ NO HOLD TIME!!! ])


//Build Tracker 2.0 (only can have one build tracker on)
int ModeTracker = FALSE;

//Build Tracker (only can have one build tracker on)
int BuildTracker  =  TRUE;
int BuildSyncTime = 4000;
  
  
//Block Rumble
int BlockRumble     =  TRUE;


// Playstation On PC/Xbox
define PlayStationOnXbox = FALSE; // [ON / OFF] DS4/5 On PC/Xbox [Touchpad Button Fix]


// Hair Triggers
define HairTriggers = TRUE; // Instant Triggers [100%]


//Input Delay Reducer
int DelayBuster = -5;					// LEAVE AS (-5) FOR NORMAL; (-9) for 1ms Delay

int INVENT,  
	P_INVENT,
	C_INVENT,
	B_INVENT,
	E_INVENT,
	SIDEGRADE;

int OPTION,
	OPTIONStap,
	OPTIONStap2,
	P_OPTION,
	C_OPTION;
int Edit1,Edit2,EditT,Shunt,BuildTrack,BuildCount;
int power,Ypower,Xpower,Power,CountPower,AxisXY;
int display_title = TRUE;int goCOMBAT;int WaitStrength, AimStrength;
int display_black;int MAPVIEW,MAPtap,P_MAP,C_MAP;int EditSensitivity =  Off;      
int count_black; int PickAxeMode, PICKtap; int CombatMode, COMBATtap; int BuildMode, BUILDtap, P_BUILD, C_BUILD; int EditMode, P_edit, C_edit, B_edit, E_edit, EditAst, EDIThold; 
int Head;define AdsFireTrigger = 0,AnyFireTrigger = 1,FireOnlyTrigger = 2;
int TimeValue,OutPut,RumValue,RecoilTimer,BoostAR,AxisCY,AxisLY;
int actual_X, actual_Y, actual_Magnitude, max_Magnitude,time,angle, cos_angle, sin_angle;
//Main
main {

vm_tctrl(DelayBuster);

	if (PlayStationOnXbox && get_console() == PIO_XB360 && get_controller() == PIO_PS4) { 
	
		swap(PS4_TOUCH,PS4_SHARE);
	}
	if (HairTriggers) { 
   		
   		deadzone(PS4_L2,PS4_R2,100,100);
   	}
   	if (ModeTracker){  
	_TrackinMODESv8();}
	if(EditAssist){
		
		if(get_ival(EDIT) && get_ptime(EDIT) > 10){
			
			EditAssist();
			EditAst = On;
		}

		if(event_release(EDIT)){	
			
			EDIThold = 0;	
			EditAst = Off;
		}
		
		
	}
	if (InstaFastReset && !get_ival(ADS) && event_press(FastReset)) { 
       
      
        
        	Shunt = FastReset;
        	combo_run(FastReset);
    }
    if (InstaEditReset) {
        if (EditHold && get_ival(EDIT) && get_ptime(EDIT) > EditHoldTime || !EditHold && event_press(EDIT)) {
                Edit1 = On;
                Edit2 = On;
                BuildTrack = On;
        
        }

        if (Edit2) {
            if (event_release(SELECT)) {  
                Edit1 = Off;
                Edit2 = Off;
                BuildTrack = Off;
    		}

        }
    }
     if (Edit1 || Edit2) {
        if (EditSensitivity) {    
          
        }

            if (event_press(RESET)) {  
                combo_run (InstantReset);
                Edit1 = Off;
                Edit2 = Off; 
            }

                if (event_press(PICKAXE) || event_press(BUILD) || event_press(ADS)) {
                    Edit1 = Off;
                    Edit2 = Off;
                    BuildTrack = Off;
                }
    }
  
	if (BuildTracker) {
        
        if (event_press(BUILD)) {
            BuildTrack = !BuildTrack;
        }
    
        if (BuildTrack) {
            BuildCount += get_rtime();
            
            if (event_press(PICKAXE) || BuildCount == BuildSyncTime) {
                BuildTrack = Off;
                BuildCount = Off;
            }
            
                if (get_ival(ROOF) || get_ival(FLOOR) || get_ival(STAIRS) || get_ival(WALL)) 
                    BuildCount = Off;
        }
    }
    if (!BuildTrack) {
   	 if (BattsStickyAA) {
if (get_ival(ADS) || (BattsAAHip && get_ival(FIRE))) {
combo_run(BattsStickyAssist);
} else {
combo_stop(BattsStickyAssist); 
}
}
if (SS_Nikolai_Aim)
		{
			if(get_ival(ADS) || get_ival(FIRE))
			{
				combo_run(cNikoAim);
			}

			if(event_release(ADS) || event_release(FIRE))
			{
				combo_stop(cNikoAim)
			}
		}
		 if (Aim_Exploit_Linear) {

        if (get_ival(ADS)) {

            combo_run(Aim_Linear);
    }
}

if(AimStickLinear) {
  
       actual_X = get_val(RX);
       actual_Y = get_val(RY);
       actual_Magnitude = isqrt(pow(actual_X, 2) + pow(actual_Y, 2));                                                                                                                                                                                              //CREATED BY EXPLOIT YT
       max_Magnitude = (actual_Magnitude < 100);
  
     if(!(time++ % STEP_INTERVAL)){
       
       angle += STEPS;
}
       angle = angle % 360;
       sin_angle = Polar_Array[angle % 360];
       cos_angle = Polar_Array[(angle + 270) % 360];                   
       cos_angle = (cos_angle * RADIUS) / 100;
       sin_angle = (sin_angle * RADIUS) / 100;
  
  if((Ads_Assist && get_val(ADS)) || (Fire_Assist && get_val(FIRE))){
 
    if(actual_Magnitude <= RADIUS){
  
       sin_angle -= actual_Y;
       cos_angle -= actual_X;
       }else {
       sin_angle = (sin_angle * (200 - ((abs(actual_Y) + actual_Magnitude) / 10) * 10) / 200) * max_Magnitude;
       cos_angle = (cos_angle * (200 - ((abs(actual_X) + actual_Magnitude) / 10) * 10) / 200) * max_Magnitude;
}
  
       set_val(RX, clamp(actual_X + cos_angle, -100, 100));
       set_val(RY, clamp(actual_Y + sin_angle, -100, 100));
      }
   } 

        
     if (AimAssist_LINEAR) {
	 
	    if (event_press(ADS)) { 
	    	
	    	Power = On;
}
	    
	    else if (!get_ival(ADS) && event_press(FIRE)) {
	    	
	    	Power = On;
}
	    
	    if (get_ival(ADS) || get_ival(FIRE)) {
	    	
	    	AxisXY = isqrt(abs(get_ival(PS4_RX)) * abs(get_ival(PS4_RX)) + abs(get_ival(PS4_RY)) * abs(get_ival(PS4_RY)));
	    	
	    	if (AssistProfile == 1)
	    		
	    		AimAssist(Strength,Increment);
	    		
         } else {
	    	
	    	CountPower = 0;
	    	power = Off;
        }
}
    
    if (HeadAssist) {
	        
	        if (get_ival(ADS) && get_ival(FIRE) || HeadHipAssist && get_ival(FIRE)) {
	        
	        	if (abs(get_ival(PS4_RY)) < HeadMax) { 
	        		
	        		Head += HeadStep;
	        		combo_run(HeadAssist);
	        	}	
	        }
	        
	        if (!get_ival(FIRE)) Head = 0;
	        	
	        if (Head >= HeadMax) combo_stop(HeadAssist);
	    }
            RX = PS4_RX;
			RY = PS4_RY;
			RX =   PPFX;
			RY =   PPFY;
    	if(get_val(PS4_L2) > 80){
    	if(abs(get_val(XB1_RX) < 10)) 
    	if(abs(get_val(XB1_RY) < 10)) 
    	if(abs(get_val(XB1_RX) > -10)) 
    	if(abs(get_val(XB1_RY) > -10)){
   			PPFX = PolarFlow(PPFX,PXS,PXSE,PVSI,PFD,1);
        	PPFY = PolarFlow(PPFY,PYS,PYSE,PVS,PPFD,2);
       	    set_polar(POLAR_RS,30,PPFX);
    		set_polar(POLAR_RS,30,PPFY);}
}
}
     if (Shunt) {
        
        if (event_release(Shunt)) {
            Shunt = Off;
        }
            else {
            set_val (Shunt,Off);
         }
     }
   }
 
//Combos 
combo cBUILDON {		//Forcing edit ON, for Build Mods
   	
	   	set_val(PICKAXE, 100);//Pickaxe;
	 	wait(30);
		set_val(PICKAXE, 0);//Pickaxe;
		wait(30);
		set_val(BUILD, 100);//Buildmode;
		wait(30);
		set_val(BUILD, 0);//Buildmode;
}
combo cBUILDOFF {	
   	
	   	set_val(PICKAXE, 100);//Pickaxe;
		wait(30);
		set_val(PICKAXE, 0);//Pickaxe;
		wait(30);
		set_val(PICKAXE, 100);//COMBAMODE;
		wait(30);
		set_val(PICKAXE, 0);
		wait(30);
}

combo cgoCOMBAT {
    
    wait(12);
    set_val(PICKAXE, 100);
    wait(12);
    set_val(PICKAXE, 0);
    CombatMode = On;
    COMBATtap = On;
}


combo cSHOOT_N_BUILD {

    set_val(FIRE, 0);
    	call(cBUILDON);
    set_val(FIRE, 0);
    wait(build_speed);
    set_val(FIRE, 0);
    set_val(WALL, 100);
    wait(build_speed);
    set_val(FIRE, 0);
    set_val(WALL, 0);
    set_val(STAIRS, 100);
    wait(build_speed);
    set_val(STAIRS, 0);
    set_val(FIRE, 0);
    	call(cBUILDOFF);
    set_val(FIRE, 0);
    wait(30);
}
combo BattsStickyAssist {
 set_val(AimY,AxisRelease(AimY,BattStickyPower));
   wait(BattStickyWait);
   set_val(AimX,AxisRelease(AimX,BattStickyPower));
   set_val(Strafe,AxisRelease(Strafe,BattStickyPower));
   wait(BattStickyWait);
   set_val(AimY,AxisRelease(AimY,inv(BattStickyPower)));
   wait(BattStickyWait);
   set_val(AimX,AxisRelease(AimX,inv(BattStickyPower)));
   set_val(Strafe,AxisRelease(Strafe,inv(BattStickyPower)));
   wait(BattStickyWait);
}
combo Rapid_Fire {
    
    set_val(Fire,100); 
    wait(Hold);        
    set_val(Fire,0);   
    wait(Release);    
}
combo cNikoAim {
	WaitStrength	= random(AimAssistWaitTime / 2 , AimAssistWaitTime);
	AimStrength		= random(inv(AimAssistStrength), AimAssistStrength);

	Set_Val(AimY,	AimStrength);
	wait(WaitStrength);
	Set_Val(AimX,	AimStrength);
	wait(WaitStrength);
	Set_Val(AimY,	inv(AimStrength));
	wait(WaitStrength);
	Set_Val(AimX,	inv(AimStrength));
	wait(WaitStrength);
}
combo HeadAssist{

	set_val(AimY,inv(Head) + get_val(AimY));
}
combo Aim_Linear {

    set_val(Strafe,inv(Strength_Linear));
    wait(Wait_Linear);
    set_val(Strafe,Strength_Linear);
    wait(Wait_Linear);
}
combo Confirm {

    set_val(CONFIRM,100);
    wait(50);
    set_val(CONFIRM,0);
    wait(100);
}

combo FastReset {

    set_val(EditAssist,100);
    wait(50)
    set_val(RESET,100);        
    wait(50);
    combo_run(Confirm);
}

combo InstantReset {

    wait(10)
    combo_run(Confirm);
}

combo AimExpo{          
     
     set_val(10, (AimAssist_Strength)); wait(10)
     set_val(9, (AimAssist_Strength)); wait(10)
     set_val(10, AimAssist_Strength * -1); wait(10)
     set_val(9, AimAssist_Strength * -1); wait(10)
}



//Functions
int AssistProfile = 1; 
function AimAssist (Strength,Step) {

	if (Power) {
		
		Ypower = Strength;
		Xpower = Strength * -1;
		Increment = Step;
		Power = Off;
	}
	
	if (!power) {
	
		Xpower += Increment;
		Ypower -= Increment;
	
	} else {
		
		Xpower -= Increment;
		Ypower += Increment;
	}
	
	CountPower ++;
	
	if (CountPower >= (Strength / Increment)) {
		
		power = !power;
		CountPower = 0;
	}	
	
	if (AxisXY > 10) {
		
}
}
function AxisRelease(AxisXY,AxisVal) {
    
    if (abs(get_ival(AxisXY)) <= BattStickyPower) 
        
        return AxisVal;
    
    return get_ival(AxisXY); 
}
function PolarFlow(PFB,PSV,PFV,PV,PF,PID) {
    	if(PF) {
       		PFB += PV;
    	if(PFB <= PFV)  
    	return PFB;
    	if(PFB > PFV) {
        	PVID[PID] = 0;
    	return PFB - PV;}
}
		else{
        	PFB -= PV;    
    	if(PFB >= PSV)  
    	return PFB;
    	if(PFB < PSV) {
    		PVID[PID] = 1; 
        return PFB + PV;}
} 
       {return FALSE;
}
   		
 	   
}

function _TrackinMODESv8() {
	
if(!MAPVIEW && !INVENT && !OPTION){
///////////////////////////////////
//// PICKAXE || COMBAT MENU //////////

 	if(PickAxeMode  && PICKtap && event_press(PICKAXE)){
		
		set_val(PICKAXE,0);
		PickAxeMode = Off;
		PICKtap = Off;
		goCOMBAT = Off;
		CombatMode = On;
		COMBATtap = On;
		//printf("COMBAT-Mode");
		}
		else if(CombatMode && COMBATtap && event_press(PICKAXE)){
		
				set_val(PICKAXE,0);
				CombatMode = Off;
				COMBATtap = Off;
				goCOMBAT = Off;
				PickAxeMode = On;
				PICKtap = On;
				}
				else if(PickAxeMode && goCOMBAT && event_release(FIRE)){
			
						combo_run(cgoCOMBAT);
						PickAxeMode = Off;
						PICKtap = Off;
						goCOMBAT = Off;
						CombatMode = On;
						COMBATtap = On;
						//printf("COMBAT-Mode");
						}

///////////////////////////////////////////////////////////////
if(!BuildMode){
if(PickAxeMode || CombatMode || EditMode) {
 
	if(event_press(PREV_WEAPON) || event_press(NEXT_WEAPON)) {

		PickAxeMode = Off;
		PICKtap = Off;
		CombatMode = On;
		COMBATtap = On;
		//printf("COMBAT-Mode");
		}   
}//IF PickAxeMode || CombatMode || EditMode END
}//IF !BuildMode END
////////////////////////////////////////////////////////////////////

//////////////////////////////
//// BUILD MENU /////////
if(PickAxeMode || CombatMode || BuildMode || EditMode) {
 if(PickAxeMode && PICKtap && !P_BUILD && !BUILDtap && event_press(BUILD)){
	
	set_val(BUILD,0);
	PickAxeMode = Off;
	PICKtap = Off;
	BuildMode = On;
	BUILDtap = On;
	P_BUILD = On;
	//printf("BUILD-Mode");
	}
	else if(BuildMode && BUILDtap && P_BUILD && event_press(BUILD)) {
	
			set_val(BUILD,0);
			BuildMode = Off;
			BUILDtap = Off;
			P_BUILD = Off;
			PickAxeMode = On;
			PICKtap = On;
			//printf("PICKAXE-Mode");
			}
if(CombatMode && COMBATtap && !C_BUILD && !BUILDtap && event_press(BUILD)){
	
	set_val(BUILD,0);
	CombatMode = Off;
	COMBATtap = Off;
	BuildMode = On;
	BUILDtap = On;
	C_BUILD = On;
	//printf("BUILD-Mode");
	}
	else if(BuildMode && BUILDtap && C_BUILD && event_press(BUILD)){
	
			set_val(BUILD,0);
			BuildMode = Off;
			BUILDtap = Off;
			C_BUILD = Off;
			CombatMode = On;
			COMBATtap = On;
			//printf("COMBAT-Mode");
			}
if(BuildMode){
	
	if(BUILDtap && P_BUILD && event_press(PICKAXE) || BuildMode && BUILDtap && C_BUILD && event_press(PICKAXE)){
						
		set_val(PICKAXE,0);
		BuildMode = Off;
		BUILDtap = Off;
		C_BUILD = Off;
		P_BUILD = Off;
		PickAxeMode = On;
		PICKtap = On;
		//printf("PICKAXE-Mode");
		}
			
		else if(get_val(EDIT) && get_ptime(EDIT) > 0) {
					
				BuildMode = Off;
				EditMode = On;
				E_edit = On;
				B_edit = On;
				//printf("EDIT-Mode");
				}
}
}
//BUILD MENU END
///////////////////////////////////////////////////

/////////////////////////////////
//// EDIT MENU /////////////
if(EditHold){

if(PickAxeMode && get_val(EDIT) && get_ptime(EDIT) > 0) {
	
	EditMode = On;
	P_edit = On;
	PickAxeMode = Off;
	PICKtap = Off;
	//printf("EDIT-Mode");
	}
	else if(CombatMode && COMBATtap && get_val(EDIT) && get_ptime(EDIT) > 0) {
			
			EditMode = On;
			C_edit = On;
			CombatMode = Off;
			COMBATtap = Off;
			//printf("EDIT-Mode");
			}
			else if(BuildMode && get_val(EDIT) && get_ptime(EDIT) > 0) {
					
					BuildMode = Off;
					BUILDtap = Off;
					EditMode = On;
					B_edit = On;
					//printf("EDIT-Mode");
					}
if(EditMode){
		
		if(get_val(EDIT) && get_ptime(EDIT) > 0) {
					
						EditMode = On;
						E_edit = On;
						//printf("EDIT-Mode");
						}
						
	
		else if(B_edit){

		if(event_release(SELECT) || event_press(BUILD) || EditAssist && event_release(EDIT)) { 
			
			EditAst = Off;
			EditMode = Off;
			E_edit = Off;
			B_edit = Off;
			BuildMode = On;
			BUILDtap = On;
			//printf("BUILD-Mode");
			}
}//IF B_EDIT ON END
			else if(C_edit){

					if (event_release(SELECT) || event_press(BUILD) || EditAssist && event_release(EDIT)) { 
						
						EditAst = Off;
						EditMode = Off;
						E_edit = Off;
						C_edit = Off;
						CombatMode = On;
						COMBATtap = On;
						//printf("COMBAT-Mode");
						}
}//IF C_EDIT ON END
						else if(P_edit){
							
								if(event_release(SELECT) || event_press(BUILD) || EditAssist && event_release(EDIT)) { 
									
									EditAst = Off;
									EditMode = Off;
									E_edit = Off;
									P_edit = Off;
									PickAxeMode = On;
									PICKtap = On;
									//printf("PICKAXE-Mode");
									}
}//IF P_EDIT ON END
if(P_edit || C_edit || B_edit){

 if(event_press(PICKAXE)) { 
	
	EditMode = Off;
	E_edit = Off;
	P_edit = Off;
	C_edit = Off;
	B_edit = Off;
	PickAxeMode = On;
	PICKtap = On;
	//printf("PICKAXE-Mode");
	}
}//IF P_edit || C_edit || B_edit END
}//IF EDITMODE END
}//IF EDIT_BUTTON_HOLD END

/////////////////////////////////////////////
//EDIT ASSIST
	if(EditAssist){
		
		if(get_ival(EDIT) && get_ptime(EDIT) > 10){
			
			EditAssist();
			EditAst = On;
		}

		if(event_release(EDIT)){	
			
			EDIThold = 0;	
			EditAst = Off;
		}
		
		
	}
////////////////////////////////////////////////

//EDIT MENU END 

}//IF !MAPVIEW && !INVENT && !OPTION END

//// MAPVIEW MENU ////////////////////
if(PickAxeMode && !P_MAP && !MAPtap && event_press(MAPVIEW_B)){
	
	PickAxeMode = Off;
	PICKtap = Off;
	MAPVIEW = On;
    MAPtap = On;
    P_MAP = On;
	//printf("MAPVIEW-Mode");
    }
    else if(MAPVIEW && MAPtap && P_MAP && event_press(MAPVIEW_B)){
     		
     		MAPVIEW = Off;
		    MAPtap = Off;
		    P_MAP = Off;
		    PickAxeMode = On;
     		PICKtap = On;
			//printf("PICKAXE-Mode");
     		}
	     	else if(MAPVIEW && P_MAP && event_press(BUILD)){
		     		
		     		MAPVIEW = Off;
				    MAPtap = Off;
				    P_MAP = Off;
				    BUILDtap = Off;
					PickAxeMode = On;
		     		PICKtap = On;
					//printf("PICKAXE-Mode");
		     		}
	if(CombatMode && !C_MAP && !MAPtap && event_press(MAPVIEW_B)){
     	
     	CombatMode = Off;
     	COMBATtap = Off;
     	MAPVIEW = On;
     	MAPtap = On;
     	C_MAP = On;
		//printf("MAPVIEW-Mode");
     	}
     	else if(MAPVIEW && C_MAP && MAPtap && event_press(MAPVIEW_B)){
     			MAPVIEW = Off;
		     	MAPtap = Off;
		     	C_MAP = Off;
		     	CombatMode = On;
     			COMBATtap = On;
				//printf("COMBAT-Mode");
     			}
	     		else if(MAPVIEW && C_MAP && event_press(BUILD)){
		     			MAPVIEW = Off;
				     	MAPtap = Off;
				     	C_MAP = Off;
				     	CombatMode = On;
		     			COMBATtap = On;
						//printf("COMBAT-Mode");
		     			}
 // MAPVIEW MENU END
///////////////////////////

//////////////////////////////////////////
/////////////INVENTORY MENU////////////
if(!EditMode && !BuildMode && !OPTION && !get_val(JUMP)){
		
	if(PickAxeMode && !P_INVENT && event_press(INVENTORY)){
		
		PickAxeMode = Off;
		PICKtap = Off;
		INVENT = On;
     	P_INVENT = On;
		SIDEGRADE = Off;
		//printf("INVENTORY-Mode");
     	}
     	else if(INVENT && P_INVENT && event_press(BUILD)){
     			
     			INVENT = Off;
     			P_INVENT = Off;
     			PickAxeMode = On;
     			PICKtap = On;
				//printf("PICKAXE-Mode");
     			}
	if(CombatMode && COMBATtap && !C_INVENT && event_press(INVENTORY)){
     	
     	CombatMode = Off;
     	COMBATtap = Off;
     	INVENT = On;
     	C_INVENT = On;
		SIDEGRADE = Off;
		//printf("INVENTORY-Mode");
     	}
     	else if(INVENT && C_INVENT && event_press(BUILD)){
     			
     			INVENT = Off;
     			C_INVENT = Off;
     			CombatMode = On;
     			COMBATtap = On;
				//printf("COMBAT-Mode");
     			}
		if(INVENT && event_release(NEXT_WEAPON)){
			SIDEGRADE = On;
			INVENT = On;
			}
			if(SIDEGRADE){
				if(INVENT && C_INVENT || INVENT && P_INVENT){
					if(event_press(INTERACT)){
						SIDEGRADE = Off;
						INVENT = Off;
						P_INVENT = Off;
						C_INVENT = Off;
						CombatMode = On;
						COMBATtap = On;
						//printf("COMBAT-Mode");
						}
					}
				}
	
} //!PickAxeMode && !EditMode && !BuildMode && !OPTION && !CROSS END
////////////////////////////////////////////////////

//////////////////////////////////////////
///////////// OPTION MENU ////////////
if(!get_val(ADS)){
		
	if(PickAxeMode && PICKtap && !P_OPTION && !OPTIONStap2 && event_press(PS4_OPTIONS)){
		
     	PickAxeMode = Off;
     	PICKtap = Off;
     	P_OPTION = On;
     	OPTION = On;
     	OPTIONStap2 = On;
     	OPTIONStap = Off;
		//printf("OPTIONS-Mode");
	    }
     	else if(OPTION && OPTIONStap2 && P_OPTION && event_press(PS4_OPTIONS) || 
     				OPTION && OPTIONStap && P_OPTION && event_press(PS4_OPTIONS) || 
     				OPTION && !OPTIONStap2 && P_OPTION && event_press(BUILD)) {
     			
     			OPTION = Off;
	     		OPTIONStap = Off;
	     		OPTIONStap2 = Off;
	     		P_OPTION = Off;
	     		PickAxeMode = On;
	     		PICKtap = On;
				//printf("PICKAXE-Mode");
	     		}
	     		else if(OPTION && OPTIONStap2 && P_OPTION && event_press(BUILD) ||
	     				OPTION && OPTIONStap2 && P_OPTION && event_press(JUMP)) {
	
						OPTIONStap2 = Off;
				     	OPTION = On;
				     	OPTIONStap = On;
				     	P_OPTION = On;
						//printf("OPTIONS-Mode");
				     	}
	if(CombatMode && COMBATtap && !C_OPTION && !OPTIONStap2 && event_press(PS4_OPTIONS)){
     	
     	CombatMode = Off;
     	COMBATtap = Off;
     	C_OPTION = On;
     	OPTION = On;
     	OPTIONStap2 = On;
		//printf("OPTIONS-Mode");
     	}
     	else if(OPTION && OPTIONStap2 && C_OPTION && event_press(PS4_OPTIONS) || 
     				OPTION && OPTIONStap && C_OPTION && event_press(PS4_OPTIONS) || 
     				OPTION && !OPTIONStap2 && C_OPTION && event_press(BUILD)) {
     			
     			OPTION = Off;
	     		OPTIONStap = Off;
	     		OPTIONStap2 = Off;
	     		C_OPTION = Off;
	     		CombatMode = On;
	     		COMBATtap = On;
				//printf("COMBAT-Mode");
	     		}
				else if(OPTION && OPTIONStap2 && C_OPTION && event_press(BUILD) ||
						OPTION && OPTIONStap2 && C_OPTION && event_press(JUMP)) {
		
					OPTION = On;
			     	OPTIONStap = On;
			     	OPTIONStap2 = Off;
			     	C_OPTION = On;
					//printf("OPTIONS-Mode");
			     	}
		
} //!ADS END
   
}//FUNCTION TRACKINMODES END

function block_all_outputs() {
	set_val(PS4_L2      , 0);
	set_val(PS4_R2      , 0);
	set_val(PS4_L1      , 0);
	set_val(PS4_R1      , 0);
	set_val(PS4_L3      , 0);
	set_val(PS4_R3      , 0);
	set_val(PS4_UP      , 0);
	set_val(PS4_DOWN    , 0);
	set_val(PS4_LEFT    , 0);
	set_val(PS4_RIGHT   , 0);
	set_val(PS4_CROSS   , 0);
	set_val(PS4_SQUARE  , 0);
	set_val(PS4_CIRCLE  , 0);
	set_val(PS4_TRIANGLE, 0);
}

function EditAssist () {

    EditT += get_rtime();
        
        if (get_ival(EditAssist)) {
            
            if (EditT >= EditDelay)
                  
           		Press(SELECT);
        }
}

function Press (Button) {

    if (get_ival(Button))
        
   		return;
            
            set_val(Button,100);
}
function set_Val(Input,Output) {

	set_val(Input,clamp(Output * (100 - abs(get_ival(Input))) / 100 + get_ival(Input),-100,100));
    return; 
}

function Set_Val(Input,Output) {
	
	set_val(Input,clamp(Output * (100 - abs(get_val(Input))) / 100 + get_val(Input),-100,100));
	
	return;
}

function _DEADZONE (){                               
   if(abs(get_val(LY)) < DZ_L && abs(get_val(LX)) < DZ_L || abs(get_val(LY)) < invDZ_L && abs(get_val(LX)) < invDZ_L){        
        set_val(LY, 0);                                                
        set_val(LX, 0);                                                
}                                
    if(abs(get_val(_RY)) < DZ_R && abs(get_val(_RX)) < DZ_R || abs(get_val(_RY)) < invDZ_R && abs(get_val(_RX)) < invDZ_R){         
        set_val(_RY,0);                                                 
        set_val(_RX,0);                                                
}
}

function _JoyStick_Calibration() {

/*	 This script eliminates stick drift while avoiding a deadzone.
	 Apex Legends, for example, has a setting that allows you to alter your deadzone for smaller, more precise movements with the right stick.
	 That isn't to say that this script is limited to Apex Legends.
	 This script will fix your issue if you discover that you have stick drift in a game and are unable to alter your deadzone.
	 
	 First and foremost, some values in this script must be adjusted.
	 Because no one else's stick drift is the same as yours.
	 Wear on the joysticks can cause stick drift.
	 Keep in mind that if your controller has stick drift due to wear, this script may not be able to remove all of it.
	 
	 If you replaced the joystick modules on your controller, this script will completely solve your stick drift.
	 When you solder on a new joystick, you'll see that it has stick drift because the controllers are calibrated in the factory.
	
	 This script was written to eliminate stick drift on my Xbox Elite V1 controller, which is equipped with brand new Kailh JP1311 joysticks. 
	 
	 How do I get these values to put into the script?
	 In your Cronus software you have a tool called Device Monitor
	 With that tool you can read all values that your controller is sending to your Cronus Device
	 
	 For example, if you pull your right stick all the way to the right you see a value +96
	 And if you pull your right stick all the way up you see a value -98
	 Now we know the value of RX_Plus that is 96
	 You need to fill in the list like this 
	 int RX_dk_max=  96;
	 int RX_dk_min= -98;
	 
	 If the controller value is +100 or -100 just fill in 100 to cancel any correction */
/////////////////////////////////////////////////////////////////////////////////////////////////	 

	
  do { o[i] = get_val(9 + i);
  } while (i = (i + 1) % 4);
  
  do {
    ValInY[i] = get_oval(STICK_Y[i]);
    ValInX[i] = get_oval(STICK_X[i]); 
    if (isqrt(pow(get_val(STICK_X[i]), 2) + pow(get_val(STICK_Y[i]), 2)) <  StickDZ[i]) {
      if (ValInY[i] != ValPrevY[i] || ValInX[i] != ValPrevX[i]) {
        ValPrevX[i] = ValInX[i];
        ValPrevY[i] = ValInY[i];
        XY[i]  = 100;
      }
      if (XY[i]) {
        XY[i] -= get_rtime();
        if (XY[i] <= 0) {
          OffsetX[i] = inv(ValInX[i]);
          OffsetY[i] = inv(ValInY[i]);
          offset(STICK_X[i], OffsetX[i]);
          offset(STICK_Y[i], OffsetY[i]);
          ValOutX[i] = inv(get_val(STICK_X[i]));
          ValOutY[i] = inv(get_val(STICK_Y[i]));
        }
      }
    }
    offset(STICK_X[i], OffsetX[i] + ValOutX[i]);
    offset(STICK_Y[i], OffsetY[i] + ValOutY[i]);
  } while(i = (i + 1) % 2);
  
  do {
    temp = (i / 2) + PS4_RX;
    i_val = get_val(temp);
    
     if(i_val >= RX_dk_max[i]) set_val(temp, 100);
     if(i_val <= RX_dk_max[i + 1]) set_val(temp, -100);
  
  }while((i + 2) % 8 == i );
}
int StickDZ[2],
	STICK_X[2],
	STICK_Y[2],
	OffsetX[2],
	OffsetY[2],
	ValOutX[2], 
	ValOutY[2],
	ValPrevX[2],
	ValPrevY[2],
	XY[2],
	ValInY[2],
	ValInX[2],
	o[4],
	i;

init {
  STICK_X = 9;  STICK_X[1] = 11; 
  STICK_Y = 10; STICK_Y[1] = 12; 
  StickDZ = dk_max(abs(get_val(9)), abs(get_val(10))) + 5;
  StickDZ[1]  = dk_max(abs(get_val(11)), abs(get_val(12))) + 5;
}
// Joystick outer edge adjustment
int RX_dk_max=  100;
int RX_dk_min= -100;
int RY_dk_max=  100;
int RY_dk_min= -100;
int LX_dk_max=  100;
int LX_dk_min= -100;
int LY_dk_max=  100;
int LY_dk_min= -100;

int temp, i_val;

function dk_min(a, b) { if(a<=b) return a; return b; }
function dk_max(a, b) { if(a>=b) return a; return b; }
function dk_clamp(v, lo, hi) { return dk_min(hi, dk_max(v, lo)); }
function get_oval(io) { return o[io- 9]; }
function offset(axis, offset_val) { 
  set_val(axis, dk_clamp(offset_val * (100 - abs(get_oval(axis))) / 100 + get_oval(axis), -100, 100));
  if(abs(get_val(axis)) < _Rv ) set_val(axis, 0); 
  return;
}
const char Polar_Array[]={100,100,100,100,100,100,100,100,99,99,99,99,98,98,97,97,97,96,95,95,94,94,93,92,92,91,90,89,89,88,87,86,85,84,83,82,81,80,79,78,77,75,74,73,72,71,70,69,67,66,65,63,62,61,59,58,56,55,53,52,50,49,47,46,44,43,41,40,38,36,35,33,31,30,28,26,25,23,21,20,18,16,14,13,11,9,7,6,4,2,0,-1,-3,-5,-7,-8,-10,-12,-13,-15,-17,-19,-20,-22,-24,-25,-27,-29,-30,-32,-34,-35,-37,-39,-40,-42,-43,-45,-46,-48,-50,-51,-53,-54,-55,-57,-58,-60,-61,-62,-64,-65,-66,-68,-69,-70,-71,-73,-74,-75,-76,-77,-78,-79,-80,-81,-82,-83,-84,-85,-86,-87,-88,-89,-89,-90,-91,-92,-92,-93,-93,-94,-95,-95,-96,-96,-97,-97,-97,-98,-98,-99,-99,-99,-99,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-100,-99,-99,-99,-98,-98,-98,-97,-97,-96,-96,-95,-94,-94,-93,-93,-92,-91,-90,-90,-89,-88,-87,-86,-85,-84,-83,-82,-81,-80,-79,-78,-77,-76,-75,-74,-72,-71,-70,-69,-67,-66,-65,-63,-62,-61,-59,-58,-56,-55,-53,-52,-50,-49,-47,-46,-44,-43,-41,-40,-38,-36,-35,-33,-31,-30,-28,-26,-25,-23,-21,-20,-18,-16,-14,-13,-11,-9,-7,-6,-4,-2,0,2,4,6,7,9,11,13,14,16,18,20,21,23,25,26,28,30,31,33,35,36,38,40,41,43,44,46,47,49,51,52,54,55,56,58,59,61,62,63,65,66,67,69,70,70,72,73,74,75,77,78,79,80,81,82,83,84,85,86,87,88,89,89,90,91,92,92,93,94,94,95,95,96,97,97,97,98,98,99,99,99,99,100,100,100,100,100,100,100}; ú¸Š¼Œ´Œµ‚»¾ˆ¸Ž¶