
/*
									___________                 __                        __          __   _____   __   ________   ____ /\        
									\__    ___/_____    ___ __ |  |    ____  _______   __| _/_______ |__|_/ ____\_/  |_ \_____  \ /_   |)/  ______
									  |    |   \__  \  <   |  ||  |   /  _ \ \_  __ \ / __ | \_  __ \|  |\   __\ \   __\ /  ____/  |   |   /  ___/
									  |    |    / __ \_ \___  ||  |__(  <_> ) |  | \// /_/ |  |  | \/|  | |  |    |  |  /       \  |   |   \___ \ 
									  |____|   (____  / / ____||____/ \____/  |__|   \____ |  |__|   |__| |__|    |__|  \_______ \ |___|  /____  >
									                \/  \/                                \/                                    \/             \/ 

					_________                                     __    __   __                    ___________     ___ __   __    __                  ____   ________
					\_   ___ \   ____    _____  ______    ____  _/  |_ |__|_/  |_   ____  _______  \_   _____/  __| _/|__|_/  |_ |__|  ____    ____  /_   | /  _____/
					/    \  \/  /  _ \  /     \ \____ \ _/ __ \ \   __\|  |\   __\ /  _ \ \_  __ \  |    __)_  / __ | |  |\   __\|  | /  _ \  /    \  |   |/   __  \ 
					\     \____(  <_> )|  Y Y  \|  |_> >\  ___/  |  |  |  | |  |  (  <_> ) |  | \/  |        \/ /_/ | |  | |  |  |  |(  <_> )|   |  \ |   |\  |__\  \ v1.01 
					 \______  / \____/ |__|_|  /|   __/  \___  > |__|  |__| |__|   \____/  |__|    /_______  /\____ | |__| |__|  |__| \____/ |___|  / |___| \_____  /
					        \/               \/ |__|         \/                                            \/      \/                             \/              \/ 
														      
/*
============================================================================================================================================
  Credits                                                                                           
============================================================================================================================================

	Taylordrift21's Competitor Edition16,v1.01  
	Author  = Taylordrift21 
	Credits = DoGzTheFiGhTeR - DoNotAtMe - Batts - Excalibur - Swizzy - Noozbar - Fadexz - LegitCloudzzz 

============================================================================================================================================
  Instructions - Please Read                                                                                            
============================================================================================================================================
								/*------------------------------- INSTRUCTIONS PLEASE READ ------------------------------------------
								=====================================================================================================
								Enter Mod Menu   							= HOLD ADS & OPTIONS  
								-----------------------------------------------------------------------------------------------------
								Exit Menu                                   = CIRCLE/B 
								-----------------------------------------------------------------------------------------------------
								Enter Edit Menu To Change Values            = CROSS/A 
								-----------------------------------------------------------------------------------------------------
								Exit Edit Menu To Mod Menu                  = CIRCLE/B
								-----------------------------------------------------------------------------------------------------
								Enable/Disable Drive Mode                   = HOLD FIRE & Double Tap Right / Press Square TO Disable
								-----------------------------------------------------------------------------------------------------
								Change Profiles In The Menu                 = TRIANGLE/Y
								-----------------------------------------------------------------------------------------------------
								Change Values In Edit Menu                  = HOLD ADS & LEFT OR RIGHT OR UP OR DOWN
								-----------------------------------------------------------------------------------------------------
								Turn Mods On/Off                            = PRESS UP / DOWN TO CYCLE TOGGLE OPTIONS IF APPLICABLE
								-----------------------------------------------------------------------------------------------------
								Navigate The Main Menu                      = PRESS UP / DOWN 
								-----------------------------------------------------------------------------------------------------
								Navigate Mod Menu & Edit Menu               = PRESS LEFT / RIGHT 
								-----------------------------------------------------------------------------------------------------
								Choosing Buttons For Profiles/QuickToggles  = HOLD ADS & PRESS LEFT OR RIGHT 
								-----------------------------------------------------------------------------------------------------
								====================================================================================================*/
/*
============================================================================================================================================
  Init Section - Call Needed Fucntions For Script                                                                                           
============================================================================================================================================
*/
init { 
	colors = 255;
	RunRgb = 1;
	InitializeShapeChange();
	Load();
} 
/*
============================================================================================================================================
  Main Section - Start Of Menu                                                                                                              
============================================================================================================================================
*/
main { 
/*
============================================================================================================================================
  Button Activation Functions ()                                                                                                          
============================================================================================================================================
*/
	
	ActivateAllButtons(); // This function is called for Button choices you select via Menu 
	Buttons(Buttons);     // This function is called for the Button Layouts you select via the menu 
	ControllerRSLS(Sticks)// This function is called for the Stick Layouts you select via the menu

/*
============================================================================================================================================
  PS4 CrossOver Support                                                                                                                     
============================================================================================================================================
*/
	//Ps4CrossOver(); // This function is called for the PS4 CrossOver - for PC/Xbox use. 
/*
============================================================================================================================================
 Enter Menu - Access Edit Menu Without Going Into Main Menu                                                                                                                     
============================================================================================================================================
*/
	if(RunRgb) { 
    	combo_run(rgb);
    } 
    if(get_console() == PIO_PS4)
    {
        if(get_controller() != PIO_PS4) // If not PS4 controller:
        {
            if(get_ival(PS4_SHARE)) // View
            {
                if(get_ival(PS4_R3)) // RS + View =  ScreenShot
                {
                    set_val(PS4_SHARE,100);
                    set_val(PS4_TOUCH,0);
                    set_val(PS4_R3,0);
                }
                else // View only = PS4_TOUCH
                {
                    set_val(PS4_TOUCH, 100);
                    set_val(PS4_SHARE, 0);
                }
            }
        }
    }
    else if(get_console() == PIO_XB360) // If XBOX console
    {
        if(get_controller() == PIO_PS4) // If PS4 controller:
            swap(PS4_TOUCH, PS4_SHARE);
    }
	if(get_ival(Ads))                                            
	{ 
		if(event_press(PS4_OPTIONS))                               
		{ 
		    MenuStatus(1,1,0,0,0,0);
		    ModORVal[0]  = 0; 
		    combo_run(RumbleOn);
		    
		    if(!ModOrEditMenu[0]){ 
		    	MenuStatus(0,0,0,0,0,1);
		    }    
	    }
	    if(event_press(PS4_SHARE)){
	    	ModOrEditMenu[3] =!ModOrEditMenu[3]
	    	DisplayMenu = TRUE;
	    	
	    	if(!ModOrEditMenu[3]){ 
		    	MenuStatus(0,0,0,0,0,1);
		    } 
	    }
	    set_val(PS4_OPTIONS,0); set_val(PS4_SHARE,0);  
    }
   
    if(!DisplayTitle)                           
    { 
    	if(ModOrEditMenu[0]) 
        {
        	ModORVal[0]  = MenuNavigation(ModORVal[0],0,7);
        	MenuScroll();
    	    vm_tctrl(0);
        	
			if(event_press(PS4_CIRCLE))
		    {
				MenuStatus(0,0,0,0,0,1);
				InitializeShapeChange();
				Save();
				combo_run(Saved);
			}	 
        } 
   		if(ModOrEditMenu[1])       
     	{ 
        	ModORVal[1]   = MenuNavigation(ModORVal[1],ModRange[ModORVal[0]][0],ModRange[ModORVal[0]][1]); 
		   	ModIdx = -1; 
			ToggleTaylorAR       = ToggleSwitch(ToggleTaylorAR);
			ToggleProgressive    = ToggleSwitch(ToggleProgressive);
			TaylorAssist         = ToggleSwitch(TaylorAssist);
			ToggleBattsStickyAim = ToggleSwitch(ToggleBattsStickyAim);
			HeadShotAssist       = ToggleSwitch(HeadShotAssist);
			StrafeAssist         = ToggleSwitch(StrafeAssist);
			ToggleRapidFire      = ToggleSwitch(ToggleRapidFire);
			ToggleBurstFire      = ToggleSwitch(ToggleBurstFire);
			ToggleStrafeShot     = ToggleSwitch(ToggleStrafeShot);
			ToggleCancelReload   = ToggleSwitch(ToggleCancelReload);
			ToggleCrouchShot     = ToggleSwitch(ToggleCrouchShot);
			ToggleJumpShot       = ToggleSwitch(ToggleJumpShot);
			ToggleDropShot       = ToggleSwitch(ToggleDropShot); 
			ToggleEnemyPing      = ToggleSwitch(ToggleEnemyPing);
			ToggleHoldBreath     = ToggleSwitch(ToggleHoldBreath);
			ToggleTaylorSens     = ToggleSwitch(ToggleTaylorSens);
			ToggleCancelSlide    = ToggleSwitch(ToggleCancelSlide);
			ToggleBunnyHop       = ToggleSwitch(ToggleBunnyHop); 
			ToggleVmSpeed        = ToggleSwitch(ToggleVmSpeed); 
			ToggleSniperMode     = ToggleSwitch(ToggleSniperMode);
			Buttons            	 = ToggleSwitch(Buttons);  
			Sticks            	 = ToggleSwitch(Sticks);  
		    ToggleBlockRumble    = ToggleSwitch(ToggleBlockRumble);
			
			ButtonActivation(0)
			ButtonActivation(1)
			ButtonActivation(2)
			ButtonActivation(3)
			ButtonActivation(4)
			ButtonActivation(5)
			ButtonActivation(6)
			ButtonActivation(7)
			ButtonActivationAR(8)
			
	
			MenuScroll();
			vm_tctrl(0);	
    	} 
    	if(ModOrEditMenu[2] || ModOrEditMenu[3])  // main Menu 
	    { 
        	if(ModOrEditMenu[3])
		    	ModORVal[2]   = MenuNavigation(ModORVal[2],0,44);
		    else
		    	ModORVal[2]   = MenuNavigation(ModORVal[2],ModsNToggles[ModORVal[1]][3],ModsNToggles[ModORVal[1]][4]); // Menu Navigation Function \\
		    
		    ValIdx = -1;
			TaylorARVert     = EditableValues(TaylorARVert);
			TaylorARHoriz    = EditableValues(TaylorARHoriz);
			VerticalStart    = EditableValues(VerticalStart);
			VerticalEnd      = EditableValues(VerticalEnd);
			VerticalTime     = EditableValues(VerticalTime);
			HorizontalStart  = EditableValues(HorizontalStart);
			HorizontalEnd    = EditableValues(HorizontalEnd);
			HorizontalTime   = EditableValues(HorizontalTime);
			ToggleAAType     = EditableSwitch(ToggleAAType);
			TaylorShapes     = EditableSwitch(TaylorShapes);
			ShapeDirection   = EditableSwitch(ShapeDirection);
			AdsSpeed         = EditableValues(AdsSpeed);
			TaylorAngle      = EditableValues(TaylorAngle);
			TaylorRadius     = EditableValues(TaylorRadius);
			ToggleBoostFire  = EditableSwitch(ToggleBoostFire);
			BoostReducerv2   = EditableSwitch(BoostReducerv2);
			TaylorPBoostStr  = EditableValues(TaylorPBoostStr);
			TaylorABoostSpd  = EditableValues(TaylorABoostSpd);
			TaylorTracking   = EditableSwitch(TaylorTracking);
			TrackingSize     = EditableValues(TrackingSize);
			TrackingSpeed    = EditableValues(TrackingSpeed);
			AimAssistSize    = EditableValues(AimAssistSize);
			AimAssistTime    = EditableValues(AimAssistTime);
		    HeadShotStrength = EditableValues(HeadShotStrength);
		    HeadShotHoldTime = EditableValues(HeadShotHoldTime);
		    StrafeActiveTime = EditableValues(StrafeActiveTime);
		    StrafeSize       = EditableValues(StrafeSize);
			RateOfFire       = EditableValues(RateOfFire);
			BurstFireHold	 = EditableValues(BurstFireHold);
			BurstFireWait	 = EditableValues(BurstFireWait);
			BurstFireRelease = EditableValues(BurstFireRelease);
			StrafeShotTime   = EditableValues(StrafeShotTime);
			MaxReloadTime    = EditableValues(MaxReloadTime);
			CrouchSpeed      = EditableValues(CrouchSpeed);
			PingDelay        = EditableValues(PingDelay);
			GeneralSens      = EditableValues(GeneralSens);
			AdsSens          = EditableValues(AdsSens);
			FireSens         = EditableValues(FireSens);
			AdsFireSens      = EditableValues(AdsFireSens);
			SlideDelay       = EditableValues(SlideDelay);
		    HandGunVertical  = EditableValues(HandGunVertical);
			HandGunAASpeed   = EditableValues(HandGunAASpeed);
			HandGunAASize    = EditableValues(HandGunAASize);
			ToggleAutoRF     = EditableSwitch(ToggleAutoRF);
			ToggleAutoHB     = EditableSwitch(ToggleAutoHB);
			MenuScroll();
			vm_tctrl(0);	
        }
    }
    if(DisplayMenu)  
    { 
    	rect_oled(2,3,127,50,1,0);
		rect_oled(0, 0, OLED_WIDTH, OLED_HEIGHT, OLED_BLACK, OLED_WHITE); 
		line_oled(0, 50,127 , 50, 1, 1); 
		
		if(ModOrEditMenu[1] || ModOrEditMenu[2]) {
			line_oled(0, 20,127 , 20, 1, 1); 
		}
		if(ModOrEditMenu[2] || ModOrEditMenu[3]) 
		{ 	
			String(ValNames[ModORVal[2]],Small,-20,0); 
		}
		else if(ModOrEditMenu[1])
		{
		    String(ModNames[ModORVal[1]],Small,-20,0);
		}
		else 
		{
	    	rect_oled(13, 1, 102,47, OLED_WHITE, OLED_BLACK); 
			rect_oled(0, 0, 128, 49, OLED_BLACK, OLED_WHITE); // white contour
			rect_oled(1, 1, 126, 47, OLED_WHITE, OLED_BLACK); // Filled rectangle white (emplacement for lines 1, 2, 3)
	    	
		    DisplayMenu(0,7,1);
			DisplayMenu(1,0,2);
			DisplayMenu(2,1,3);
			DisplayMenu(3,2,4);
			DisplayMenu(4,3,5);
			DisplayMenu(5,4,6);
			DisplayMenu(6,5,7);
			DisplayMenu(7,6,0);
			
		}
		DisplayMenu = FALSE;
	} 
/*
============================================================================================================================================
  End Of Menu - Start Of Mods                                                                                                                   
============================================================================================================================================
*/
    if(!ModOrEditMenu[0] && !ModOrEditMenu[1] && !ModOrEditMenu[2] && !ModOrEditMenu[3]) 
	{
		if(DisplayTitle)                                            
	    { 	
	   		cls_oled(OLED_BLACK);
	   	    rect_oled(0, 0, OLED_WIDTH, OLED_HEIGHT, OLED_BLACK, OLED_WHITE);
	    	String(Misc[9],Small,-22,0);
	    	String(Misc[10],Medium,-8,0);
	    	String(Misc[24],Small,12,0);
	    	DisplayTitle = FALSE;
	        ScreenSaver  = TRUE; 
		}
		if(ScreenSaver) 
		{
	    	BlankScreen += get_rtime();
	    	
			if(BlankScreen >= 10000)
			{
				cls_oled(OLED_BLACK);
				BlankScreen = 0;
				ScreenSaver = FALSE;
	    	} 
	    }
    	deadzone(Ads,Fire,99,99); 
    	
    	if(ToggleBlockRumble) 
		{
			block_rumble();
		}
    	if(get_ival(Fire))
    	{
			if(event_press(PS4_RIGHT) && get_brtime(PS4_RIGHT) <= 200 && !ModOrEditMenu[0] && !ModOrEditMenu[1] && !ModOrEditMenu[2] && !ModOrEditMenu[3])
    	    {
		        DriveMode = TRUE; 
		        combo_run(DriveMode);
    	    }
    	    set_val(PS4_RIGHT,0);
    	} 
		if(DriveMode) 
    	{
			combo_run(Blink);
			LedOn  = 150;
			LedOff = 300;
			
			if(event_press(PS4_SQUARE))
			{
				DriveMode = FALSE;
				combo_run(RumbleOff); 
    		} 
    	} 
   		if(!DriveMode)           
		{
			if(ToggleVmSpeed)
			{
				if(ToggleVmSpeed == 0) vm_tctrl( 0);	
			    if(ToggleVmSpeed == 1) vm_tctrl(-2);
			    if(ToggleVmSpeed == 2) vm_tctrl(-4);
			   	if(ToggleVmSpeed == 3) vm_tctrl(-6);
			} 
			ToggleRapidFire   = QuickToggleMods(ActivateHoldButton[0] , ActivatePressButton[0]  ,ToggleRapidFire ,6);
			ToggleBurstFire   = QuickToggleMods(ActivateHoldButton[1] , ActivatePressButton[1]  ,ToggleBurstFire ,7);
			ToggleStrafeShot  = QuickToggleMods(ActivateHoldButton[2] , ActivatePressButton[2]  ,ToggleStrafeShot,8);
			ToggleCrouchShot  = QuickToggleMods(ActivateHoldButton[3] , ActivatePressButton[3]  ,ToggleCrouchShot,10);
			ToggleJumpShot    = QuickToggleMods(ActivateHoldButton[4] , ActivatePressButton[4]  ,ToggleJumpShot  ,11);
			ToggleDropShot    = QuickToggleMods(ActivateHoldButton[5] , ActivatePressButton[5]  ,ToggleDropShot  ,12);
			ToggleHoldBreath  = QuickToggleMods(ActivateHoldButton[6] , ActivatePressButton[6]  ,ToggleHoldBreath,14);
			ToggleSniperMode  = QuickToggleMods(ActivateHoldButton[7] , ActivatePressButton[7]  ,ToggleSniperMode,19);
			
		    if(ToggleSniperMode) 
	        {
	        	LedBlink(1300,500);
	        	HandGunVStrength = HandGunVertical;
	        	HandGunAASpd     = HandGunAASpeed;
	        	HandGunAAStr     = HandGunAASize;
	 
	        	InitializeShapeChange()
    		}
    		if(!ToggleSniperMode){
    			HandGunVStrength = TaylorARVert;
    			HandGunAASpd     = TaylorAngle;
    			HandGunAAStr     = TaylorRadius;
       		}
       		if(get_ival(Ads))
       		{
       			if(event_press(ActivatePressButton1[8])) 
       			{
       				TaylorARVert += 2; 
       				if(TaylorARVert > 99) TaylorARVert = -99; 
       				DisplayAR = TRUE;
       			}
       			if(event_press(ActivatePressButton[8])) 
       			{
       				TaylorARVert -= 2; 
       				if(TaylorARVert < -99) TaylorARVert = 99; 
       				DisplayAR = TRUE;
       			}
       			set_val(ActivatePressButton1[8],0); set_val(ActivatePressButton[8],0);
       		}
       		if(event_release(ActivatePressButton1[8]) ||  event_release(ActivatePressButton[8]))
			{
				ScreenSaver = TRUE;
			}
			if(DisplayAR) {
				DisplayAR();
				DisplayAR = FALSE;
			}
			if(ToggleTaylorAR == 1) { 
				if((ARFireType == 0 && get_ival(Ads) && get_ival(Fire)) || (ARFireType == 1 && get_ival(Fire))){ 
					offset(AimRY,HandGunVStrength);
					offset(AimRX,TaylorARHoriz);
				} 
			} 
			if(ToggleTaylorAR == 2){ 
				if((ARFireType == 0 && get_ival(Ads) && get_ival(Fire)) || (ARFireType == 1 && get_ival(Fire))){ 
					SmartRumble = get_rumble(RumbleToUse());
					if(SmartRumble > 10 && SmartRumble < 90){ 
						AntirecoilStrength = HandGunVStrength + SmartRumble / 2; 
					} 
					if(SmartRumble < 10){ 
						offset(AimRY,HandGunVStrength);
						offset(AimRX,TaylorARHoriz);
					}else{ 
						offset(AimRY,AntirecoilStrength);
						offset(AimRX,TaylorARHoriz);
					}
				}
			} 
			
			if(ToggleProgressive == 1 || ToggleProgressive == 2 || ToggleProgressive == 3) { 
		    
			    CompleteTime = (VerticalTime   * 100) / 2;
			    HorizTime    = (HorizontalTime * 100) / 2;
			    
			    if((ARFireType == 0 && get_ival(Ads) && get_ival(Fire)) || (ARFireType == 1 && get_ival(Fire))){    
			        SmartRumble = get_rumble(RumbleToUse());
			        Time += get_rtime();
			        
			        if(ToggleProgressive == 2) { 
				        if(SmartRumble > 10 && SmartRumble < 90){ 
					        AntirecoilStart = VerticalStart + SmartRumble / 2;
					        AntirecoilEnd   = VerticalEnd   + SmartRumble / 2;
				        }
				    } 
				    if(ToggleProgressive == 3) { 
				        if(SmartRumble > 10 && SmartRumble < 90){ 
				        	HybridStart = VerticalStart + SmartRumble / 2;
				        } 
				    } 
			        if(Time < CompleteTime){ 
			        	if(ToggleProgressive == 2 && SmartRumble < 10 || ToggleProgressive == 1){ 
			            	 offset(AimRY,VerticalStart);
			            }else{
			            	 offset(AimRY,AntirecoilStart);
			            } 
			            if(ToggleProgressive == 3){
			            	 offset(AimRY,HybridStart);
			            } 
			        } 
			        else if(Time < CompleteTime * 2){ 
			        	if(ToggleProgressive == 2 && SmartRumble < 10 || ToggleProgressive == 1 || ToggleProgressive == 3){ 
			    			offset(AimRY,VerticalEnd);
			    		}else{ 
			            	offset(AimRY,AntirecoilEnd);
			            }     
			        }
			        if(Time >= VerticalTime * 100){ 
			        	if(ToggleProgressive == 2 && SmartRumble < 10 || ToggleProgressive == 1 || ToggleProgressive == 3){
			    			offset(AimRY,VerticalEnd);
			    		}else{ 
			            	offset(AimRY,AntirecoilEnd);
			            }     
			        }
			        if(Time < HorizTime){ 
			            offset(AimRX,HorizontalStart);      
			        }  
			        else if(Time < HorizTime * 2 ) { 
			            offset(AimRX,HorizontalEnd);      
			        }  
			        if(Time >= HorizontalTime * 100){
			        	offset(AimRX,HorizontalEnd);
			        }       
			    } 
			    if(event_release(Fire)){ 
			    	Time            = 0;
			    	SmartRumble     = 0;
			    	AntirecoilStart = 0;
			    	AntirecoilEnd   = 0;
	    		} 
			} 
			if(TaylorAssist == 1 || TaylorAssist == 2 || TaylorAssist == 3 || TaylorAssist == 4){									
				RX              = get_val(AimRX);
				RY              = get_val(AimRY); 
				CycleRefresh    += get_rtime();
			
				if(TaylorAssist == 1 || TaylorAssist == 2 || TaylorAssist == 4){ 
					GetAngle(TaylorShapes,angleVersionFive,HandGunAAStr);
					if((abs(get_val(AimRX)) < 10) * (abs(get_val(AimRY)) < 10)) 
				    	angleVersionFive += AdsSpeed + BoostAnglev4;
				    else
				    	angleVersionFive +=  HandGunAASpd + BoostAnglev4;
				  	
				    if(ToggleBoostFire){
						if(get_ival(Fire)){ 
							AimAssistBoostv4 = get_rumble(RumbleToUse());
							BoostAnglev4 =  TaylorABoostSpd;
			        		if(AimAssistBoostv4 > 10 && AimAssistBoostv4 < 90){  
					   			BoostedAimAssistv4  = (TaylorPBoostStr + AimAssistBoostv4 / 6); 
				   			}
				   			if(BoostReducerv2){ 
								if(!get_rumble(RUMBLE_A) && !get_rumble(RUMBLE_B)){ 
									GetAngle(TaylorShapes,angleVersionFive,TaylorRadius + inv(TaylorPBoostStr));
								}else{ 
							   	 	GetAngle(TaylorShapes,angleVersionFive,inv(BoostedAimAssistv4/2));
						   		} 
						   	}else{ 
						   		if(!get_rumble(RUMBLE_A) && !get_rumble(RUMBLE_B)){ 
									GetAngle(TaylorShapes,angleVersionFive,TaylorRadius + TaylorPBoostStr);
								}else{ 
						   	 		GetAngle(TaylorShapes,angleVersionFive,BoostedAimAssistv4);
						   	 	} 
					   		} 
					   	}
			   		} 
			   		if(event_release(Fire)){ 
			   			BoostedAimAssistv4 = 0;
			   			AimAssistBoostv4   = 0;
			   		} 
			   	} 
			    if(TaylorAssist == 1 || TaylorAssist == 2 || TaylorAssist == 3 || TaylorAssist == 4){
			    	Tracking        = (Tracking + TrackingSpeed) % 360;
				    if(ShapeDirection){ 
				    	AngleDirection = (get_val(PS4_RX) > 0);
				    } 
				    if(TaylorTracking){ 
						Tracker1 = (TrackingSize * sin(Tracking)/100);
				        Tracker2 = (TrackingSize * cos(Tracking)/100);
				    }    
				}
				if(TaylorAssist == 3){ 
					angleVersionFive += get_rtime();
					GetAngle(TaylorShapes,SpeedAngle,TaylorRadius);
					SpeedAngle = (SpeedAngle  + (angleVersionFive / 100)) % 360;
				} 
				if(get_val(Ads) || get_val(Fire)){ 
					if(TaylorAssist == 2 || TaylorAssist == 3){ 
						set_val(AimRX, clamp(RX + CosAngle, -100, 100));
						set_val(AimRY, clamp(RY + SinAngle, -100, 100));
					} 
					if(TaylorAssist == 1){ 
						offset(POLAR_RS + 8,SinAngle);
						offset(POLAR_RS + 7,CosAngle);
					}
						
				} 
				if(event_release(Ads) || event_release(Fire)){ 
			    	angleVersionFive = 0;
			    	Positionv2 = 0;
			    	Position = 0;
			    }
			    if(TaylorAssist == 4){   
			    	if(get_ival(Ads) && !get_ival(Fire)){ 
			    		offset(POLAR_RS + 8,SinAngle);
						offset(POLAR_RS + 7,CosAngle);
					}
					if(get_ival(Fire)){ 
						PolarAimAssist = get_ptime(Fire);	
						if(PolarAimAssist <= PolarStart){
			         		offset(POLAR_RS + 8,SinAngle);
							offset(POLAR_RS + 7,CosAngle);
			     		}
			     		if((PolarAimAssist > PolarStart) && (PolarAimAssist <= PolarMid)){
			         		set_val(AimRX, clamp(RX + CosAngle, -100, 100));
							set_val(AimRY, clamp(RY + SinAngle, -100, 100));
			     		}
			     		if(PolarAimAssist > PolarMid) {
			         		set_val(AimRX, clamp(RX + CosAngle, -100, 100));
							set_val(AimRY, clamp(RY + SinAngle, -100, 100));
			     		}
					} 
				}
			} 
			
		    if(ToggleBattsStickyAim){
				if(get_ival(Fire))
					combo_run(StickyAim);
			}
			if(HeadShotAssist) {
				RY = HeadShotStrength * -1;
				if(get_ival(Fire) && get_ptime(Fire) < HeadShotHoldTime) { 	
					offset(AimRY,RY);	
				}
			}
			if(StrafeAssist){ 
				if(get_ival(Fire) && get_ptime(Fire) < StrafeActiveTime){ 
					Angle += get_rtime();
					StrafeAngle = (StrafeAngle  + (Angle / 100)) % 360;
					combo_run(StrafeAA);
				}
			}
		    if(ToggleRapidFire || ToggleSniperMode == 1  && ToggleAutoRF)
			{
			 	HoldTime = 500 / RateOfFire; 
			    RestTime = HoldTime -get_rtime();
			 	if(RestTime < 0) RestTime = 0;
			    
			 	if(RfFireType == 0) { 
				 	if(get_ival(Fire))
				 		combo_run(RAPIDFIRE);
				 	else
				    	combo_stop(RAPIDFIRE);
				} 
				if(RfFireType == 1) { 
					if(get_ival(Ads)){
			    		if(get_ival(Lethal)){
			    			FireRF = TRUE;
			    		}
			    	    set_val(Lethal,0);
			        } 
			        if(FireRF){ 
			    		set_val(Fire,100);
			    		combo_run(RAPIDFIRE);
			    	}
			    	if(event_release(Ads) || event_release(Lethal))
			    	{
			    		FireRF = FALSE;
			    	}
			    }
			    LedBlink(150,300);   
			}
			if(ToggleBurstFire == 1 || ToggleBurstFire == 2 ){ 
    
				if(BfFireType == 0) { 
					if(ToggleBurstFire == 1) {
						if(get_ival(Fire) > 0 && get_ival(Fire) <= BurstFireRelease) {
				        	combo_run(BurstFireAuto);
				        } else {
				        	combo_stop(BurstFireAuto);
				    	}
				    } 
				    else if(ToggleBurstFire == 2) {
						if(get_ival(Fire)) { 
							set_val(Fire,0);
					        combo_run(BurstFireSemi);   
					    }
					}
				}
				if(BfFireType == 1) { 
					if(get_ival(Ads)){
			    		if(get_ival(Lethal)){
			    			FireRF = TRUE;
			    		}
			    	    set_val(Lethal,0);
			        } 
			        if(FireRF){ 
			        	set_val(Fire,100);
			        	if(ToggleBurstFire == 1)
			        		combo_run(BurstFireAuto);
			        	else
			        		combo_run(BurstFireSemi);   
			        }
			    } 	
				if(event_release(Ads) || event_release(Lethal))
			    {
			    	FireRF = FALSE;
			    }
			    LedBlink(150,300);
			}
			if(ToggleStrafeShot){
		   		if((FireType[0] == 0 && get_ival(Ads) && get_ival(Fire)) || (FireType[0] == 1 && get_ival(Fire)))  
		        	combo_run(StrafeShot);
				else
		   			combo_stop(StrafeShot);
			}
			if(ToggleCancelReload)
			{
				if(event_press(Fire))
					FirstShotBeforeReload = TRUE; 
					
				if(event_press(Reload) && FirstShotBeforeReload)
				{
					ReloadInProgress = TRUE;
					FirstShotBeforeReload = FALSE;
				}
				if(get_val(Reload) && get_ptime(Reload) >= 250)
				{
					ReloadInProgress = FALSE;
					combo_stop(CancelReload);
				}
				if(ReloadInProgress)
					ReloadTime += get_rtime();
				else 
				    ReloadTime = 0;

				if(ReloadTime > MaxReloadTime)
					ReloadInProgress = FALSE;

				if(ReloadTime > 0 && ReloadTime <= MaxReloadTime && event_press(Fire))
					combo_run(CancelReload);
			}
			if(ToggleTaylorSens){ 
				 if(get_ival(Ads)){ 
       				if(!get_ival(Fire)){ 
            			GenStr = AdsSens;
        			}else{ 
            			GenStr = AdsFireSens;
        			} 
   				}
    			else if(get_ival(Fire)){ 
        			GenStr = FireSens; 
    			}else{ 
        			GenStr = GeneralSens;
    			} 
    			sensitivity(AimRY,NOT_USE,GenStr);
	            sensitivity(AimRX,NOT_USE,GenStr);   
    		}
    		if(ToggleCancelSlide == 1 || ToggleCancelSlide == 2)
			{
				if((get_val(MoveLY) < -80) || (get_val(MoveLY) > 80) || (get_val(MoveLX) < -80) || (get_val(MoveLX) > 80))
				{
					if(ToggleCancelSlide == 1 && event_release(Crouch))
						combo_run(CancelSlideMW)
					else if(ToggleCancelSlide == 2 && event_release(Crouch))
						combo_run(CancelSlideCW) 
						
					if(ToggleCancelSlide == 1 && combo_running(CancelSlideMW) && (get_val(Ads) && event_release(Crouch)))
	                    combo_stop(CancelSlideMW)
	                    
	                if(ToggleCancelSlide == 2 && combo_running(CancelSlideCW) && (get_val(Ads) && event_release(Crouch)))
	                    combo_stop(CancelSlideCW)
				}
			}
			if(ToggleHoldBreath  || ToggleSniperMode == 1  && ToggleAutoHB)
			{
	       		if(get_val(Ads))
		    		set_val(Sprint, 100);
	                      
	   			if(get_val(PS4_LY) <-90 && get_val(Ads) && get_ptime(Ads) > 200)
	       			combo_stop(HoldBreath);       
	                    
	   			if(event_press(Ads)) 
	       			combo_run(HoldBreath);
	  
	   			if(get_val(Ads) && get_lval(Sprint)) 
	       			set_val(Sprint, 0);  
			}
			if(ToggleBunnyHop)
			{
	            if(get_ival(Jump) && get_ptime(Jump) > 200) 
	                combo_run(Bunnyhop); 
	        }
	        if(ToggleJumpShot == 1) 
			{
				if((FireType[1] == 0 && get_ival(Ads) && get_ival(Fire)) || (FireType[1] == 1 && get_ival(Fire)))   
					combo_run(JumpShot);
			}
			if(ToggleEnemyPing) 
        	{
        		if(get_ival(Fire) && get_ptime(Fire) >= 300)
	         		combo_run(EnemyPing); 
	     		else
	         		combo_stop(EnemyPing);		
        	}
        	if(ToggleCrouchShot == 1) { 
		    	if((FireType[2] == 0 && get_ival(Ads) && get_ival(Fire)) || (FireType[2] == 1 && get_ival(Fire))){      
		    		combo_run(CrouchShotCmb);
		    	}
		    }
		    if(ToggleDropShot == 1) {
				if((FireType[3] == 0 && get_ival(Ads) && get_ival(Fire) && get_ptime(Fire) < 300) || (FireType[3] == 1 && get_val(Ads) && get_val(Fire) && event_press(Crouch)))    
					InstaDropShot = TRUE;
			
				if(InstaDropShot)  
					combo_run(InstaDrop);
				
				if(event_release(Ads) || event_release(Fire))
				{
					InstaDropShot = FALSE;
					combo_stop(InstaDrop);
				} 	
			}
		}
	}
/*
============================================================================================================================================
  End Of Main Section                                                                                                                    
============================================================================================================================================
*/
 }
 
 function DisplayMenu(activeString,previousString,nextString){

	if(ModORVal[0] == activeString){ 
		String(MainMenuId[activeString]  ,Medium,-8,0);
		String(MainMenuId[previousString],Small,-23,0);
		String(MainMenuId[nextString]    ,Small,8,0);
	}
} 
/*
============================================================================================================================================
 Main Menu                                                                                                                      
============================================================================================================================================
*/
int ModORVal[3],ModOrEditMenu[4],DisplayMenu;
// This is the main menu, 
const string MainMenuId[] = {
"Anti-Recoil ",// 0
"Aim Assist",// 1
"Fire Mods ", // 2
"Shot Mods ",  // 3
"Misc Mods ",  // 4
"Sniper/Hgun ",// 5
"Controller ", // 6   
"Q-Toggles ",  // 7
""};
const uint8  ModRange   [][]   = { 
{   0 ,  1 , 1}, // Main  0 \\//                       
{   2 ,  5 , 1}, // Main  1 \\//                                  
{   6 ,  9 , 1}, // Main  2 \\// 
{  10 , 13 , 1}, // Main  3 \\//
{  14 , 18 , 1}, // Main  4 \\//
{  19 , 19 , 1}, // Main  5 \\//
{  20 , 22 , 1}, // Main  6 \\//
{  23 , 31 , 1}  // Main  7 \\//

};
const string ModNames[] = {
	"Choose AR","Progressive AR",// Anti Recoil  - Main 0 
//        0             1                2        \\
	"Taylor Assist","Batts Sticky Aim","HeadShot Assist","Strafe Assist",// Aim Assist - Main 2
//        2                3                   4                5                               
	"Rapid Fire","Burst Fire","StrafeShot","Cancel Reload",// Fire Mods  - Main 3
//        6            7            8             9   
	"Crouch Shot","Jump Shot","Insta Drop","Enemy Ping", // Shot Mods
//        10           11           12          13
	"HoldBreath","Custom Sens","Cancel Slide","BunnyHop","Vm Speed", // Misc Mods Main 4
//        14           15           16            17          18                       	
    "Sniper/HGun Mode",// Sniper/HGun Mode 
//        19
	"Button Layout","Stick Layout","Block Rumble", // Controller - Main 6
//        20              21            22            
    "Rapid Fire QT","Burst Fire QT","StrafeShot QT","Crouch Shot QT","Jump Shot QT","Insta Drop QT","HoldBreath QT","Sniper/HGun QT","Rumble AR QT", // Q-Toggles - Main 8
//        23          24          25             26           27           28          29              30                    31                 32 
""}
/*
============================================================================================================================================
 Mod Menu                                                                                                                      
============================================================================================================================================
*/
// All Variables for Toggles/Mods For Mod Menu \\
int ModIdx;
int ToggleTaylorAR;
int ToggleProgressive;
int TaylorAssist; 
int ToggleBattsStickyAim;
int HeadShotAssist;
int StrafeAssist;
int ToggleRapidFire;
int ToggleBurstFire;
int ToggleStrafeShot; 
int ToggleCancelReload;
int ToggleTaylorSens;
int ToggleCancelSlide;
int ToggleHoldBreath;
int ToggleBunnyHop;
int ToggleJumpShot;
int ToggleCrouchShot;
int ToggleDropShot;
int ToggleVmSpeed;
int ToggleEnemyPing;
int ToggleSniperMode;
int Buttons;
int Sticks;
int ToggleBlockRumble;
int DisplayAR;
int HorizTime;
int InstaDropShot;
int ARFireType;
int RunRgb; 
int incs = 1, dec, colors[3];
const uint8 ModsNToggles[][] = {
// ModIdx - MinToggle - MaxToggle - ValRangeMin - ValRangeMax - Editable - Profile - PlacedInArray -  Toggle  \\
//    0         1           2            3             4            5         6            7             8             \\
{     0   ,     0     ,     2     ,      0      ,      1      ,     1    ,    1    ,       0     ,       1 },// Leg/Rum AR  \\
{     1   ,     0     ,     3     ,      2      ,      7      ,     1    ,    1    ,       0     ,       2 },// Progressive \\

{     2   ,     0     ,     4     ,      8      ,     20      ,     1    ,    1    ,       2     ,       3 },// TaylorAA    \\
{     3   ,     0     ,     1     ,     21      ,     22      ,     1    ,    1    ,       1     ,       0 },// BattsAA     \\
{     4   ,     0     ,     1     ,     23      ,     24      ,     1    ,    1    ,       0     ,       0 },// HeadShot    \\
{     5   ,     0     ,     1     ,     25      ,     26      ,     1    ,    1    ,       0     ,       0 },// HeadShot    \\

{     6   ,     0     ,     1     ,     27      ,     27      ,     1    ,    1    ,       0     ,       4 },// RapidFire   \\
{     7   ,     0     ,     2     ,     28      ,     30      ,     1    ,    1    ,       0     ,       5 },// BurstFire   \\
{     8   ,     0     ,     1     ,     31      ,     31      ,     1    ,    1    ,       0     ,      10 },// StrafeShot  \\
{     9   ,     0     ,     1     ,     32      ,     32      ,     1    ,    0    ,       0     ,       0 },// CancelReload\\

{    10   ,     0     ,     1     ,     33      ,     33      ,     1    ,    1    ,       0     ,      11 },// CrouchMods  \\
{    11   ,     0     ,     1     ,      0      ,      0      ,     0    ,    1    ,       0     ,      12 },// JumpShot    \\
{    12   ,     0     ,     1     ,      0      ,      0      ,     0    ,    1    ,       0     ,      13 },// DropShot    \\
{    13   ,     0     ,     1     ,     34      ,     34      ,     1    ,    0    ,       0     ,       0 },// EnemyPing   \\

{    14   ,     0     ,     1     ,      0      ,      0      ,     0    ,    1    ,       0     ,       0 },// HoldBreath  \\
{    15   ,     0     ,     1     ,     35      ,     38      ,     1    ,    0    ,       0     ,       0 },// CustomSens  \\
{    16   ,     0     ,     2     ,     39      ,     39      ,     1    ,    0    ,       0     ,       6 },// CancelSlide \\
{    17   ,     0     ,     1     ,      0      ,      0      ,     0    ,    0    ,       0     ,       0 },// BunnyHop    \\
{    18   ,     0     ,     3     ,      0      ,      0      ,     0    ,    0    ,       0     ,       7 },// VmSpeed     \\

{    19   ,     0     ,     1     ,     40      ,     44      ,     1    ,    1    ,       0     ,       0 },// SniperMode  \\

{    20   ,     0     ,    21     ,      0      ,      0      ,     0    ,    2    ,       0     ,       8 },// CtrlrLayout \\
{    21   ,     0     ,     3     ,      0      ,      0      ,     0    ,    2    ,       0     ,       9 },// CtrlrLayout \\
{    22   ,     0     ,     1     ,      0      ,      0      ,     0    ,    2    ,       0     ,       0 },// BlockRumble \\

{    23   ,     0     ,     0     ,      0      ,      0      ,     0    ,    5    ,       0     ,       0 },// RapidQT     \\
{    24   ,     0     ,     0     ,      0      ,      0      ,     0    ,    5    ,       0     ,       0 },// JumpShotQT  \\
{    25   ,     0     ,     0     ,      0      ,      0      ,     0    ,    5    ,       0     ,       0 },// DropShotQT  \\
{    26   ,     0     ,     0     ,      0      ,      0      ,     0    ,    5    ,       0     ,       0 },// SniperQT    \\
{    27   ,     0     ,     0     ,      0      ,      0      ,     0    ,    6    ,       0     ,       0 },// Remap 1     \\
{    28   ,     0     ,     0     ,      0      ,      0      ,     0    ,    6    ,       0     ,       0 },// Remap 2     \\
{    29   ,     0     ,     0     ,      0      ,      0      ,     0    ,    6    ,       0     ,       0 },// Unmap 1     \\
{    30   ,     0     ,     0     ,      0      ,      0      ,     0    ,    6    ,       0     ,       0 },// Unmap 2     \\
{    31   ,     0     ,     0     ,      0      ,      0      ,     0    ,    6    ,       0     ,       0 } // Unmap 2     \\
}
int FireType[4];
function ToggleSwitch(f_val) { 
	  
	if(ModORVal[1] == ModsNToggles[ModIdx++][0]){
		
		f_val = MultiFunction(PS4_UP,PS4_DOWN,f_val,1,ModsNToggles[ModORVal[1]][1],ModsNToggles[ModORVal[1]][2]); 
			
		if(ModsNToggles[ModIdx][8] == 4){
			RfFireType = MultiFunction(PS4_R1,PS4_L1,RfFireType,1,0,1); 
		}
		if(ModsNToggles[ModIdx][8] == 5){
			BfFireType = MultiFunction(PS4_R1,PS4_L1,BfFireType,1,0,1); 
		}
		if(ModsNToggles[ModIdx][8] == 1 || ModsNToggles[ModIdx][8] == 2){
			ARFireType = MultiFunction(PS4_R1,PS4_L1,ARFireType,1,0,1); 
		}
		if(ModsNToggles[ModIdx][8] == 10){
			FireType[0] = MultiFunction(PS4_R1,PS4_L1,FireType[0],1,0,1); 
		}
		if(ModsNToggles[ModIdx][8] == 11){
			FireType[1] = MultiFunction(PS4_R1,PS4_L1,FireType[1],1,0,1); 
		}
		if(ModsNToggles[ModIdx][8] == 12){
			FireType[2] = MultiFunction(PS4_R1,PS4_L1,FireType[2],1,0,1); 
		}
		if(ModsNToggles[ModIdx][8] == 13){
			FireType[3] = MultiFunction(PS4_R1,PS4_L1,FireType[3],1,0,1); 
		}
		if(ModsNToggles[ModIdx][8] == 3) { 
			String(AAToggle[TaylorAssist],Small,6,0);
		} 
	    else if(ModsNToggles[ModIdx][8] == 1) { 
	    	String(Activation[ARFireType],Small,-2,0);
	    	String(ARToggle[ToggleTaylorAR],Small,12,0);
	    }   
		else if(ModsNToggles[ModIdx][8] == 2) { 
		    String(Activation[ARFireType],Small,-2,0);
		    String(ProgAR[ToggleProgressive],Small,12,0);
		}  
		else if(ModsNToggles[ModIdx][8] == 4){
		    String(RFToggle[RfFireType],Small,-2,0);
		    	
	    	if(f_val == 1)
				String(Misc[0],Small,12,0);   
			else 
		    	String(Misc[1],Small,12,0);  
	    }
	    else if(ModsNToggles[ModIdx][8] == 10){
			String(Activation[FireType[0]],Small,-2,0);
		    	
	    	if(f_val == 1)
				String(Misc[0],Small,12,0);   
			else 
		    	String(Misc[1],Small,12,0);  
		}
	    else if(ModsNToggles[ModIdx][8] == 11){
			String(Activation[FireType[1]],Small,-2,0);
		    	
	    	if(f_val == 1)
				String(Misc[0],Small,12,0);   
			else 
		    	String(Misc[1],Small,12,0);  
		}
		else if(ModsNToggles[ModIdx][8] == 12){
			String(Activation[FireType[2]],Small,-2,0);
		    	
	    	if(f_val == 1)
				String(Misc[0],Small,12,0);   
			else 
		    	String(Misc[1],Small,12,0);  
		}
		else if(ModsNToggles[ModIdx][8] == 13){
			String(InstaDropTog[FireType[3]],Small,-2,0);
		    	
	    	if(f_val == 1)
				String(Misc[0],Small,12,0);   
			else 
		    	String(Misc[1],Small,12,0);  
		}
	    else if(ModsNToggles[ModIdx][8] == 5){
	    	String(RFToggle[BfFireType],Small,-2,0);
	    	String(BurstFireMode[ToggleBurstFire],Small,12,0);	
	    }
	    else if(ModsNToggles[ModIdx][8] == 6){
	    	String(SlideType[ToggleCancelSlide],Small,6,0);
	    } 
	    else if(ModsNToggles[ModIdx][8] == 7){
	    	String(VMSpeed[ToggleVmSpeed],Medium,6,0);
	    } 
	    else if(ModsNToggles[ModIdx][8] == 8){
	    	String(ControllerLayouts[Buttons],Small,6,0);
	    } 
	    else if(ModsNToggles[ModIdx][8] == 9){
	    	String(ControllerSticks[Sticks],Small,6,0);
	    }    
	    else
	    {
		    if(f_val == 1)
				String(Misc[0],Small,6,0);   
			else 
		    	String(Misc[1],Small,6,0);  
		} 
	} 	
    return f_val;
}

/*
============================================================================================================================================
  Edit Menu                                                                                                                     
============================================================================================================================================
*/
int ValIdx;
// Adjustable Values \\ 
int TaylorARVert;
int TaylorARHoriz; 
int VerticalStart;
int VerticalEnd;
int VerticalTime;
int HorizontalStart;
int HorizontalEnd;
int HorizontalTime;
int ToggleAAType; 
int TaylorShapes;
int ShapeDirection;
int AdsSpeed;
int TaylorAngle;
int TaylorRadius;
int ToggleBoostFire;
int BoostReducerv2;
int TaylorPBoostStr;
int TaylorABoostSpd;
int TaylorTracking;
int TrackingSize;
int TrackingSpeed;
int AimAssistSize;
int AimAssistTime;
int HeadShotStrength;
int HeadShotHoldTime;
int StrafeActiveTime;
int StrafeSize; 
int RateOfFire;
int BurstFireHold;
int BurstFireWait;
int BurstFireRelease;
int StrafeShotTime;
int ReloadTime;
int GeneralSens,AdsSens,FireSens,AdsFireSens;
int SlideDelay;
int CrouchSpeed; 
int PingDelay; 
int HandGunVertical;
int HandGunAASpeed;
int HandGunAASize;
int ToggleAutoRF,ToggleAutoHB;
int HybridStart;
const string ValNames[]  = { 
	"V Strength","H Strength",// Rumble AR 
//       0            1      \\ 
	"V Start","V End","V Time","Horiz Start","Horiz End","Horiz Time",// Advanced Progressive AR  
//       2       3       4           5             6           7          
	"AA Type","Choose Shape","Shape Direction","Ads Speed","Speed","Radius","Boost On Fire","Invert Boost","Boost Str","Boost Spd","Taylor Tracking","Tracking Size","Tracking Speed",// Taylor Assist  v4 - v5  
//       8           9              10             11         12      13           14             15            16          17            18                 19              20                     
	"Sticky Size","Sticky Time",// Batts Aim Assist 
//      21              22      \\
    "HeadShot Strength","Hold Time", // HeadShot AA
//      23                   24
    "Active Time","Strafe Strength",// Speed Strafe
//      25               26 
	"Rounds/Sec",// Rapid Fire
//      27      \\
	"Hold Time","Wait Time","Trigger Pressure",// Ceorin Burst Fire With Auto/RF 
//      28           29             30          \\	
	"StrafeTime",// Batts StrafeShot 
//      31      \\           
	"Reload Time",// Fadexz Cancel Reload 
//      32      \\
	"CrouchSpeed",// CrouchShot 
//      33       \\
	"Ping Delay", // Enemy Ping 
//      34     \\     
	"Generel","Ads","Fire","AdsFire",// Custom Sensitivity 
//      35      36    37      38     \\  
	"Slide Delay",// Cancel Slide 
//      39        \\	
	"AR VertStrength","Speed","Radius","Auto Rapid Fire","Auto Hold Breath",// Sniper / HandGun Mode
//      40               41      42           43                44	            
	""}
const string ProgAR[]          = {"Off","Standard","Rumble","Hybrid",""};
const string Activation[]      = {"Ads & Fire","Fire Only",""}; 
const string InstaDropTog[]    = {"Ads & Fire Only","Ads & Fire+Crouch",""};
const string BurstFireMode[]   = {"Off","Auto Mode","Semi Mode",""};
const string ARToggle[]        = {"Choose AR","Legacy AR","Rumble AR",""} ;
const string RFToggle[]        = {"Fire Only","Ads + Bumper",""}; 
const string SlideType[]       = {"Off","Mw/Vanguard","ColdWar",""};
const string VMSpeed[]         = {"0","-2","-4","-6",""};
const int16 ValRangeMinMax [][] = {
// ValIdx - MinValue - MaxValue - IncrementMin - IncrementMax - Profile - PlacedInArray -    Toggles                 \\
//    0        1          2             3              4           5            6               7                    \\    
{     0   ,  -99     ,   99     ,       1      ,      10      ,    1    ,       0 		,       0   }, // Vert       \\
{     1   ,  -99     ,   99     ,       1      ,      10      ,    1    ,       0 		,       0   }, // Horiz      \\

{     2   ,  -99     ,   99     ,       1      ,      10      ,    1    ,       0 		,       0   }, // VertStart  \\
{     3   ,  -99     ,   99     ,       1      ,      10      ,    1    ,       0 		,       0   }, // VertEnd    \\
{     4   ,    0     ,   99     ,       1      ,      10      ,    1    ,       0 		,       0   }, // VertTime   \\
{     5   ,  -99     ,   99     ,       1      ,      10      ,    1    ,       0 		,       0   }, // HorizStart \\
{     6   ,  -99     ,   99     ,       1      ,      10      ,    1    ,       0 		,       0   }, // HorizEnd   \\
{     7   ,    0     ,   99     ,       1      ,      10      ,    1    ,       0 		,       0   }, // HorizTime  \\

{     8   ,    0     ,    2     ,       1      ,       1      ,    1    ,       1 		,       1   }, // AAType     \\
{     9   ,    0     ,   12     ,       1      ,       1      ,    1    ,       1 		,       2   }, // AAShape    \\
{    10   ,    0     ,    1     ,       1      ,       1      ,    1    ,       1 		,       0   }, // ShapeDir   \\
{    11   ,    0     ,   99     ,       1      ,      10      ,    1    ,       1 		,       0   }, // AdsSpeed   \\
{    12   ,    0     ,   99     ,       1      ,      10      ,    1    ,       1		,       0   }, // SpeedAA    \\
{    13   ,    0     ,   99     ,       1      ,      10      ,    1    ,       1 		,       0   }, // RadiusAA   \\
{    14   ,    0     ,    1     ,       1      ,       1      ,    1    ,       1 		,       0   }, // BoostFire  \\
{    15   ,    0     ,    1     ,       1      ,       1      ,    1    ,       1 		,       0   }, // BoostRed   \\
{    16   ,    0     ,   40     ,       1      ,      10      ,    1    ,       1 		,       0   }, // Boost Str  \\
{    17   ,    0     ,   40     ,       1      ,      10      ,    1    ,       1 		,       0   }, // Boost Spd  \\
{    18   ,    0     ,    1     ,       1      ,       1      ,    1    ,       1 		,       0   }, // TrackTog   \\
{    19   ,    0     ,    8     ,       1      ,       1      ,    1    ,       1 		,       0   }, // TrackSize  \\
{    20   ,    0     ,    8     ,       1      ,       1      ,    1    ,       1 		,       0   }, // TrackSpeed \\

{    21   ,    0     ,   99     ,       1      ,      10      ,    1    ,       1 		,       0   }, // StickySize \\
{    22   ,    0     ,   99     ,       1      ,      10      ,    1    ,       1 		,       0   }, // StickyTime \\

{    23   ,    0     ,   99     ,       1      ,      10      ,    0    ,       0 		,       0   }, // HeadShotStr\\
{    24   ,    0     , 2000     ,       1      ,     100      ,    0    ,       0 		,       0   }, // HeadShotHld\\

{    25   ,    0     , 2000     ,       1      ,     100      ,    0    ,       0 		,       0   }, // ActiveTime \\
{    26   ,    0     ,   99     ,       1      ,      10      ,    0    ,       0 		,       0   }, // StrafeStr  \\

{    27   ,    0     ,   25     ,       1      ,      10      ,    1    ,       0 		,       0   }, // RateOfFire \\

{    28   ,    0     ,  990     ,      10      ,     100      ,    0    ,       0 		,       0   }, // HoldTime   \\
{    29   ,    0     ,  990     ,      10      ,     100      ,    0    ,       0 		,       0   }, // WaitTime   \\
{    30   ,    0     ,   99     ,       1      ,      10      ,    0    ,       0 		,       0   }, // Release    \\

{    31   ,    0     ,  990     ,      10      ,     100      ,    0    ,       0 		,       0   }, // StrafeTime \\

{    32   ,    0     , 5000     ,      10      ,     100      ,    0    ,       0 		,       0   }, // ReleoadTime\\

{    33   ,    0     ,  200     ,       1      ,      10      ,    0    ,       0 		,       0   }, // CrouchSpeed\\

{    34   ,    0     , 5000     ,      10      ,     100      ,    0    ,       0 		,       0   }, // PingDelay  \\

{    35   ,    0     ,  327     ,       1      ,      10      ,    0    ,       0 		,       0   }, // GeneralSens\\
{    36   ,    0     ,  327     ,       1      ,      10      ,    0    ,       0 		,       0   }, // AdsSens    \\
{    37   ,    0     ,  327     ,       1      ,      10      ,    0    ,       0 		,       0   }, // FireSens   \\
{    38   ,    0     ,  327     ,       1      ,      10      ,    0    ,       0 		,       0   }, // AdsFireSens\\

{    39   ,    0     ,  200     ,       1      ,      10      ,    0    ,       0 		,       0   }, // SlideDelay \\

{    40   ,  -99     ,   99     ,       1      ,      10      ,    2    ,       0 		,       0   }, //VertHandGun \\
{    41   ,    0     ,   99     ,       1      ,      10      ,    2    ,       0 		,       0   }, //VertHandGun \\
{    42   ,    0     ,   99     ,       1      ,      10      ,    2    ,       0 		,       0   }, //VertHandGun \\
{    43   ,    0     ,    1     ,       1      ,       1      ,    2    ,       0 		,       0   }, // AutoRF     \\
{    44   ,    0     ,    1     ,       1      ,       1      ,    2    ,       0 		,       0   }  // AutoHB     \\
}
/*
============================================================================================================================================
  Edit Values ()                                                                                                                      
============================================================================================================================================
*/
function EditableValues(ValueIndex) {
    if(ModORVal[2] == ValRangeMinMax[ValIdx++][0]){ 
	   if(get_ival(Ads)){ 
	    	
		    ValueIndex = MultiFunction(PS4_RIGHT,PS4_LEFT,ValueIndex,ValRangeMinMax[ModORVal[2]][3],ValRangeMinMax[ModORVal[2]][1],ValRangeMinMax[ModORVal[2]][2]);  
		    ValueIndex = MultiFunction(PS4_UP,PS4_DOWN,ValueIndex,ValRangeMinMax[ModORVal[2]][4],ValRangeMinMax[ModORVal[2]][1],ValRangeMinMax[ModORVal[2]][2]);  
		    
		}    
        if(ValRangeMinMax[ValIdx][0] == 4 || ValRangeMinMax[ValIdx][0] == 7) 
        	NumberToString(ValueIndex * 100, FindDigits(ValueIndex * 100));
        else
        	NumberToString(ValueIndex,FindDigits(ValueIndex));     
    }
    return ValueIndex;                
 }
 /*
============================================================================================================================================
  Edit Menu Toggle ()                                                                                                                      
============================================================================================================================================
*/
function EditableSwitch(f_val) { 
	  
	if(ModORVal[2] == ValRangeMinMax[ValIdx++][0]){
      	
		f_val = MultiFunction(PS4_UP,PS4_DOWN,f_val,ValRangeMinMax[ModORVal[2]][3],ValRangeMinMax[ModORVal[2]][1],ValRangeMinMax[ModORVal[2]][2]);
		
		if(ValRangeMinMax[ValIdx][7] == 1){
	    	String(CurveType[ToggleAAType],Small,6,0);
	    } 
	    else if(ValRangeMinMax[ValIdx][7] == 2){
	    	if(ToggleAAType == 0)
	    		String(CircularCurve[TaylorShapes],Small,6,0);
	    	else if(ToggleAAType == 1)
	    		String(SquareCurve[TaylorShapes],Small,6,0);
	    	else
	    		String(MixedCurve[TaylorShapes],Small,6,0);		
	    }
	    else
	    { 
	    	 if(f_val == 1)
				String(Misc[0],Small,6,0);   
			else 
		    	String(Misc[1],Small,6,0);  
		}     
	}      	
    return f_val;
}
/*
============================================================================================================================================
  Misc Variables For Mods                                                                                                                      
============================================================================================================================================
*/
// Variables Used Throughout The Script \\ 
int RfFireType,BfFireType;
int HoldTime,RestTime;
int DriveMode;
int SmartRumble,AntirecoilStrength;
int FireRF;
int FirstShotBeforeReload,ReloadInProgress,MaxReloadTime;
int GenStr;
int HandGunVStrength,HandGunAASpd,HandGunAAStr;
int CompleteTime;
int Time;
int AntirecoilStart,AntirecoilEnd,Angle,StrafeAngle;
/*                                                                                          
============================================================================================================================================
  Display Menu & Strings                                                                                                                           
============================================================================================================================================
*/                                                                                                
const string Misc[] = {"On","Off","Primary","Secondary","Custom Profile","All Profiles","Controller","Prim/Sec","< Quick Toggles >","Taylordrift21's","Competitor","Sniper/HGun Mode","Activated",
 //                      0    1      2          3              4               5             6            7             8                  9             10         11              12            
"Drive Mode","Deactivated","Disables Prim/Sec","Rapid Fire Only","Saved","Test","Controller","Remap","Select Buttons","Button Remaps","Button Remaps","Edition16","AA Type Disabled",""};
 //  13            14               15                16           17         18           19        20          21   
/*                                                                                                
============================================================================================================================================
  Display Title                                                                                                                           
============================================================================================================================================
*/                                                                                                
int DisplayTitle = TRUE;                                                                          
int ScreenSaver,BlankScreen                                                                       
/*
============================================================================================================================================
  Menu Naviation ()                                                                                                                      
============================================================================================================================================
*/
function MenuNavigation(f_index,f_min,f_max) {
	if(!get_val(Ads))
	{
		if(ModOrEditMenu[0]) 
	    {
	    	f_index = MultiFunction(PS4_DOWN,PS4_UP,f_index,1,f_min,f_max); 
		}
		
		if(!ModOrEditMenu[0])
		{
			f_index = MultiFunction(PS4_RIGHT,PS4_LEFT,f_index,1,f_min,f_max); 
	    }
	}
    if(event_release(PS4_CROSS))
	{
		if(ModOrEditMenu[0]) 
		{
    		if(ModRange[ModORVal[0]][2] != 0)  
			{
				MenuStatus(1,0,1,0,0,0);
				ModORVal[1] = ModRange[ ModORVal[0] ][ 0 ]; 
			} 
	    }
	}
	if(event_press(PS4_CROSS))
	{
		if(ModOrEditMenu[1]) 
		{
			if(ModsNToggles[ModORVal[1]][5] == 1) 
			{
				MenuStatus(1,0,0,1,0,0);
				ModORVal[2] = ModsNToggles[ ModORVal[1] ][ 3 ];
				InitializeShapeChange();
				cls_oled(0);	
			}
		}
    }
    if(event_release(PS4_CIRCLE) && !ModOrEditMenu[0])
    {
    	if(ModOrEditMenu[1]) 
    	{
    		MenuStatus(1,1,0,0,0,0);
    		InitializeShapeChange();
		}
		else if(ModOrEditMenu[2]) 
		{
			MenuStatus(1,0,1,0,0,0);
			InitializeShapeChange();
		}
	}
	BlockButtons();
	return f_index; 
}
/*
============================================================================================================================================
  Quick Toggle ()                                                                                                                      
============================================================================================================================================
*/
int DisplayQToggles;
function QuickToggleMods(f_hold, f_press,f_val,f_idx) {  
	if (f_hold == 0 || f_press == 0) return f_val;

	if(get_ival(f_hold))
	{
		if(event_press(f_press)) 
		{
		    ModORVal[1] = f_idx;
		    f_val = Refresh(f_val ++,ModsNToggles[ModORVal[1]][1],ModsNToggles[ModORVal[1]][2]);
		    DisplayQToggles = TRUE;
		   
	        if(!f_val)
	            combo_run(RumbleOff);
	        else
	            combo_run(RumbleOn);	
		    
	    }
	    else if(get_ival(f_press) && get_ptime(f_press) == (get_rtime() * 40))
		{
			ModORVal[1] = f_idx;
			f_val = 0;
			DisplayQToggles = TRUE;
			combo_run(RumbleOff);
		} 
	    set_val(f_press, 0) 
	} 
	if(DisplayQToggles) 
	{
		combo_run(QuickToggles);
		ScreenSaver = FALSE;
		cls_oled(OLED_BLACK);
		rect_oled(0, 0, OLED_WIDTH, OLED_HEIGHT, OLED_BLACK, OLED_WHITE);
		String(ModNames[ModORVal[1]],Small,-22,0);
		
		if(f_val == 1) 
			String(Misc[0],Small,20,0);
	    else 
	        String(Misc[1],Small,20,0); 
	    
	 
	    DisplayQToggles = FALSE; 
	} 
    return f_val;
} 
/*
============================================================================================================================================
  Menu Button Activation Choices ()                                                                                                                      
============================================================================================================================================
*/
const string PressButtons[]
= { "Select","Triangle/Y","Cross/A","Circle/B","Square/X","Dpad Down","Dpad UP","Dpad Left","Dpad Right","Share/View","Options/Menu","Touch/Sync","Accx/Share","Accy","PS Btn","Xbox Btn","Xbx PR1","Xbx PR2","Xbx PL1","Xbx PL2",""};

const string HoldButtons[]     = { "Select","L2/LT","R2/RT","L1/LB","R1/RB","L3/LS","R3/RS","Dpad Down","Dpad Up","Dpad Left","Dpad Right","Triangle/Y","Cross/A","Circle/B","Square/X",""};
const int8   HoldBtns []       = { -1,  PS4_L2  ,PS4_R2  , PS4_L1, PS4_R1  , PS4_L3 , PS4_R3 ,PS4_DOWN,PS4_UP,PS4_LEFT,PS4_RIGHT,PS4_TRIANGLE,PS4_CROSS, PS4_CIRCLE,PS4_SQUARE}; 
const int8   PressBtns[]       = { -1,  PS4_TRIANGLE,PS4_CROSS, PS4_CIRCLE,PS4_SQUARE,PS4_DOWN, PS4_UP,PS4_LEFT,PS4_RIGHT,PS4_SHARE,PS4_OPTIONS,PS4_TOUCH,PS4_ACCX,PS4_ACCY,PS4_PS,XB1_XBOX,XB1_PR1,XB1_PR2,XB1_PL1,XB1_PL2};
define ActivateButtonCount = 9;
int ActivateHoldButton[ActivateButtonCount];
int ActivatePressButton[ActivateButtonCount];
int ActivateHoldBtnIdx[ActivateButtonCount];
int ActivatePressBtnIdx[ActivateButtonCount];
int ActivatePressButton1[ActivateButtonCount];
int ActivatePressBtnIdx1[ActivateButtonCount];
int HighLight;
function ButtonActivation(i){

	if(ModORVal[1] == ModsNToggles[ModIdx++][0])
 	{ 
 		HighLight = MultiFunction(PS4_DOWN,PS4_UP,HighLight,1,0,1);
 		
	    if(get_ival(Ads))
	    {
	    	if(HighLight == 0) 
	    		ActivateHoldBtnIdx[i] = MultiFunction(PS4_RIGHT,PS4_LEFT,ActivateHoldBtnIdx[i],1,0,14);
	    	else
	    		ActivatePressBtnIdx[i] = MultiFunction(PS4_RIGHT,PS4_LEFT,ActivatePressBtnIdx[i],1,0,19);
        }
        if(HighLight == 0)
        {
       		rect_oled(115,28, 6, 8, OLED_WHITE, OLED_WHITE); // HighLight 1
			rect_oled(6,28, 6, 8, OLED_WHITE, OLED_WHITE);   // HighLight 1
		}
		if(HighLight == 1)
		{
		    rect_oled(115,40, 6, 8, OLED_WHITE, OLED_WHITE); // HighLight 2
   			rect_oled(6,40, 6, 8, OLED_WHITE, OLED_WHITE);   // HighLight 2
		} 
        String(HoldButtons[ActivateHoldBtnIdx[i]],Small,1,0);
       	String(PressButtons[ActivatePressBtnIdx[i]],Small,12,0);
     }  
 }
function ButtonActivationAR(i){

	if(ModORVal[1] == ModsNToggles[ModIdx++][0]) 
 	{ 
 		HighLight = MultiFunction(PS4_DOWN,PS4_UP,HighLight,1,0,1);
 		
	    if(get_ival(Ads))
	    {
	    	if(HighLight == 0) 
	    		ActivatePressBtnIdx1[i] = MultiFunction(PS4_RIGHT,PS4_LEFT,ActivatePressBtnIdx1[i],1,0,19);
	    	else
	    		ActivatePressBtnIdx[i] = MultiFunction(PS4_RIGHT,PS4_LEFT,ActivatePressBtnIdx[i],1,0,19);
        }
        if(HighLight == 0)
        {
       		rect_oled(115,28, 6, 8, OLED_WHITE, OLED_WHITE); // HighLight 1
			rect_oled(6,28, 6, 8, OLED_WHITE, OLED_WHITE);   // HighLight 1
		}
		if(HighLight == 1)
		{
		    rect_oled(115,40, 6, 8, OLED_WHITE, OLED_WHITE); // HighLight 2
   			rect_oled(6,40, 6, 8, OLED_WHITE, OLED_WHITE);   // HighLight 2
		} 
        String(PressButtons[ActivatePressBtnIdx1[i]],Small,1,0);
       	String(PressButtons[ActivatePressBtnIdx[i]],Small,12,0);
     }  
 }
function ActivateAllButtons(){
    
    for (i = 0; i < ActivateButtonCount; i++) 
    {
        ActivateHoldButton[i]          = HoldBtns[clamp(ActivateHoldBtnIdx[i], 0, sizeof(HoldBtns))];
        ActivatePressButton[i]         = PressBtns[clamp(ActivatePressBtnIdx[i],0, sizeof(PressBtns))];
        ActivatePressButton1[i]        = PressBtns[clamp(ActivatePressBtnIdx1[i],0, sizeof(PressBtns))];
    }
    return;   
} 




 /*
============================================================================================================================================
  Display Recoil On The Fly ()                                                                                                                      
============================================================================================================================================
*/
function DisplayAR() { 
	ScreenSaver = FALSE;
	cls_oled(OLED_BLACK); 
	rect_oled(0, 0, OLED_WIDTH, OLED_HEIGHT, OLED_BLACK, OLED_WHITE);
    line_oled(0, 27, OLED_WIDTH - 1, 27, 1, OLED_WHITE);
	String(ValNames[0],Small,-22,0);
	NumberToString(TaylorARVert, FindDigits(TaylorARVert))
}
/*
============================================================================================================================================
  One Function For All Menu Button Navigation (Including Toggles/Edit Vals)  ()                                                                                                                      
============================================================================================================================================
*/
function MultiFunction(Inc,Dec,Value,Adjust,Min,Max){  
    
    if(event_press(Inc) || get_ival(Inc) && get_ptime(Inc) > 250){
    	Value += Adjust
    	DisplayMenu = TRUE;
    	if(Value > Max) 
    		return Min;
  
    	if(!Value)
	        combo_run(RumbleOff);
	    else
	        combo_run(RumbleOn);  
    }
    if(event_press(Dec) || get_ival(Dec) && get_ptime(Dec) > 250){
    	Value -= Adjust
    	DisplayMenu = TRUE;
    
    	if(Value < Min)
    		return Max;
    		
    	if(!Value)
	        combo_run(RumbleOff);
	    else
	        combo_run(RumbleOn);  
    }
    set_val(Inc,0); set_val(Dec,0);
    return Value; 
}
function MenuStatus(f_display,f_mainmenu,f_modmenu,f_editmenu,f_adjustables,f_displaytitle) { 

    DisplayMenu      = f_display;
	ModOrEditMenu[0] = f_mainmenu;
	ModOrEditMenu[1] = f_modmenu;
	ModOrEditMenu[2] = f_editmenu;
	ModOrEditMenu[3] = f_adjustables;
	DisplayTitle     = f_displaytitle;
	
} 
function Refresh(Value,Min,Max){  
 	
    if(Value > Max) return Min;
    if(Value < Min) return Max;  
   		   
    return Value; 
}
/*
============================================================================================================================================
  Taylor Assist Shapes Functions ()  > > > SKIP PAST BELOW SECTION < < <  NEEDS OPTIMISING - NOT HAPPY!!!   PRETEND YOU DIDN'T SEE IT!                                                                                                                   
============================================================================================================================================
*/
const int8   PolarArray   [] = {-100,-100,-100,-100,-100,-100,-100,-100,-100,-99,-99,-99,-98,-98,-98,-97,-97,-96,-96,-95,-94,-94,-93,-93,-92,-91,-90,-90,-89,-88,-87,-86,-85,-84,-83,-82,-81,-80,-79,-78,-77,-76,-75,-74,-72,-71,-70,-69,-67,-66,-65,-63,-62,-61,-59,-58,-56,-55,-53,-52,-50,-49,-47,-46,-44,-43,-41,-40,-38,-36,-35,-33,-31,-30,-28,-26,-25,-23,-21,-20,-18,-16,-14,-13,-11,-9,-7,-6,-4,-2,0,2,4,6,7,9,11,13,14,16,18,20,21,23,25,26,28,30,31,33,35,36,38,40,41,43,44,46,47,49,51,52,54,55,56,58,59,61,62,63,65,66,67,69,70,70,72,73,74,75,77,78,79,80,81,82,83,84,85,86,87,88,89,89,90,91,92,92,93,94,94,95,95,96,97,97,97,98,98,99,99,99,99,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,99,99,99,99,98,98,97,97,97,96,95,95,94,94,93,92,92,91,90,89,89,88,87,86,85,84,83,82,81,80,79,78,77,75,74,73,72,71,70,69,67,66,65,63,62,61,59,58,56,55,53,52,50,49,47,46,44,43,41,40,38,36,35,33,31,30,28,26,25,23,21,20,18,16,14,13,11,9,7,6,4,2,0,-1,-3,-5,-7,-8,-10,-12,-13,-15,-17,-19,-20,-22,-24,-25,-27,-29,-30,-32,-34,-35,-37,-39,-40,-42,-43,-45,-46,-48,-50,-51,-53,-54,-55,-57,-58,-60,-61,-62,-64,-65,-66,-68,-69,-70,-71,-73,-74,-75,-76,-77,-78,-79,-80,-81,-82,-83,-84,-85,-86,-87,-88,-89,-89,-90,-91,-92,-92,-93,-93,-94,-95,-95,-96,-96,-97,-97,-97,-98,-98,-99,-99,-99,-99,-100,-100,-100,-100,-100};
const int8   LinearArray  [] = { 100,-100,-99,-98,-97,-96,-95,-94,-93,-91,-90,-89,-88,-87,-86,-85,-84,-82,-81,-80,-79,-78,-77,-76,-75,-73,-72,-71,-70,-69,-68,-67,-66,-64,-63,-62,-61,-60,-59,-58,-57,-55,-54,-53,-52,-51,-50,-49,-48,-46,-45,-44,-43,-42,-41,-40,-39,-37,-36,-35,-34,-33,-32,-31,-30,-28,-27,-26,-25,-24,-23,-22,-21,-19,-18,-17,-16,-15,-14,-13,-12,-10,-9,-8,-7,-6,-5,-4,-3,-11,2,3,4,5,6,7,8,10,11,12,13,14,15,16,17,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,37,38,39,40,41,42,43,44,46,47,48,49,50,51,52,53,55,56,57,58,59,60,61,62,64,65,66,67,68,69,70,71,73,74,75,76,77,78,79,80,82,83,84,85,86,87,88,89,91,92,93,94,95,96,97,98,100,100,100,99,98,97,96,95,94,93,91,90,89,88,87,86,85,84,82,81,80,79,78,77,76,75,73,72,71,70,69,68,67,66,64,63,62,61,60,59,58,57,55,54,53,52,51,50,49,48,46,45,44,43,42,41,40,39,37,36,35,34,33,32,31,30,28,27,26,25,24,23,22,21,19,18,17,16,15,14,13,12,10,9,8,7,6,5,4,3,1,-1,-1,-2,-3,-4,-5,-6,-7,-8,-10,-11,-12,-13,-14,-15,-16,-17,-19,-20,-21,-22,-23,-24,-25,-26,-28,-29,-30,-31,-32,-33,-34,-35,-37,-38,-39,-40,-41,-42,-43,-44,-46,-47,-48,-49,-50,-51,-52,-53,-55,-56,-57,-58,-59,-60,-61,-62,-64,-65,-66,-67,-68,-69,-70,-71,-73,-74,-75,-76,-77,-78,-79,-80,-82,-83,-84,-85,-86,-87,-88,-89,-91,-92,-93,-94,-95,-96,-97,-98,-100};   
const string AAToggle     [] = {"Choosa AA Version","Version 4","Version 5","V5 + SpeedBoost","V6",""}; 
const string CurveType    [] = {"Polar","Linear","Mixed",""};
const string CircularCurve[] = {"Circular","Tall Oval","Wide Oval","Vortex Oval","Spiral","Helix","KITT","Vertical Flare","Tartan Army","Jupiter","Bishop","Blade","Oscilirate",""};
const string SquareCurve  [] = {"Diamond","Tall Diamond","Wide Diamond","Spiral Prism","Spiral Diamond","Helix Diamond","KITT","Vertical Flare","Tartan Army","Jupiter","Bishop","Blade","Oscilirate",""}; 
const string MixedCurve   [] = {"Hexagon","Tall Hex","Wide Hex","Spiral HexV1","SpiralHexV2","Helix Hex","KittHex","Vertical Hex","Tartan Hex","Jupiter Hex","Bishop Hex","Blade Hex","OscilirateHex",""}; 
const int16 TaylorShapesInfo[][] = {
// Shape ID - CosAngle - SinAngle - DivisableRadiusCos - DivisableRadiusSin - NonSpiral 
{      0    ,    0     ,    0     ,          1         ,         1          ,     0 }, // Circular 
{      1    ,    0     ,    0     ,          2         ,         1          ,     0 }, // TallOval
{      2    ,    0     ,    0     ,          1         ,         2          ,     0 }, // WideOval
{      3    ,    0     ,    0     ,          2         ,         1          ,     1 }, // SpiralOval 
{      4    ,    0     ,    0     ,          2         ,         1          ,     1 }, // Spiral 
{      5    ,    0     ,    0     ,          1         ,         1          ,     2 }, // Helix 
{      6    ,    0     ,    0     ,          1         ,         0          ,     0 }, // Kitt 
{      7    ,    0     ,    0     ,          0         ,         1          ,     0 }, // Vertical Flare
{      8    ,   45    ,   135     ,          1         ,         1          ,     3 }, // Tartan Flex 
{      9    ,  180    ,   315     ,          1         ,         1          ,     0 }, // Jupiter
{     10    ,  135    ,    45     ,          1         ,         1          ,     0 }, // Bishop
{     11    ,   45    ,   135     ,          1         ,         1          ,     0 }, // Blade
{     12    ,  315    ,   180     ,          1         ,         1          ,     0 }  // Osclirate  
} 

int Tracking,Tracker1,Tracker2;
int CosAngle,SinAngle;
int angleVersionFive;
int BoostedAimAssistv4,AimAssistBoostv4,BoostAnglev4; // v4 && v5 AimAssist 
int RX,RY;
int SpiralPosition1,InnerSpiral,OuterSpiral,SpiralPosition2,Position,SpeedAngle,AngleDirection;
int x,y,inc;
int CycleRefresh;
int TimeInterval = 4;
int PolarStart	 = 1000;
int PolarMid   	 = 1200;
int PolarAimAssist
define False     = FALSE;
define True      = TRUE;  

function GetAngle(getShapes,getSinCos,Rad){ 

	if(TaylorShapesInfo[getShapes][5] == 0){
		if(AngleDirection){
			SinAngle  = (cos(TaylorShapesInfo[getShapes][1] + getSinCos) * Rad/TaylorShapesInfo[getShapes][3])/100 + Tracker1;
			CosAngle  = (sin(TaylorShapesInfo[getShapes][2] + getSinCos) * Rad/TaylorShapesInfo[getShapes][4])/100 + Tracker2; 
		}else{ 
			CosAngle  = (cos(TaylorShapesInfo[getShapes][1] + getSinCos) * Rad/TaylorShapesInfo[getShapes][3])/100 + Tracker1;
			SinAngle  = (sin(TaylorShapesInfo[getShapes][2] + getSinCos) * Rad/TaylorShapesInfo[getShapes][4])/100 + Tracker2; 
		} 
	} 
	if(TaylorShapesInfo[getShapes][5] == 1){ 
		Spiral(Rad);
		if(AngleDirection){
			CosAngle  = (sin(TaylorShapesInfo[getShapes][1] + getSinCos) * InnerSpiral)/100 + Tracker1;
			SinAngle  = (cos(TaylorShapesInfo[getShapes][2] + getSinCos) * OuterSpiral)/100 + Tracker2;
		}else{ 
			CosAngle  = (cos(TaylorShapesInfo[getShapes][1] + getSinCos) * InnerSpiral)/100 + Tracker1;
			SinAngle  = (sin(TaylorShapesInfo[getShapes][2] + getSinCos) * OuterSpiral)/100 + Tracker2;
		} 
	}
	if(TaylorShapesInfo[getShapes][5] == 2){ 
		Helix();
		CosAngle  = (Rad * y)/100 + Tracker1;
		SinAngle  = (Rad * x)/100 + Tracker2;
	}
	if(TaylorShapesInfo[getShapes][5] == 3){ 
		if(Positionv2 == 0){ 
			CosAngle  = (cos(TaylorShapesInfo[getShapes][1] + getSinCos) * Rad/TaylorShapesInfo[getShapes][3])/100 + Tracker1;
			SinAngle  = (sin(TaylorShapesInfo[getShapes][2] + getSinCos) * Rad/TaylorShapesInfo[getShapes][4])/100 + Tracker2; 
		} 
		if(Positionv2 == 1){ 
			CosAngle  = (cos(TaylorShapesInfo[getShapes][2] + getSinCos) * Rad/TaylorShapesInfo[getShapes][3])/100 + Tracker1;
		    SinAngle  = (sin(TaylorShapesInfo[getShapes][1] + getSinCos) * Rad/TaylorShapesInfo[getShapes][4])/100 + Tracker2; 
		} 
	    Positionv2 ++ 
		if(Positionv2 == 2){ 
		  	Positionv2 = 0;
		}
	} 
} 
int Positionv2;
function InitializeShapeChange() { 
	if(TaylorShapesInfo[TaylorShapes][0] == 3) {
		
		if(!ToggleBoostFire){
			InnerSpiral = TaylorRadius/2;	
			OuterSpiral = TaylorRadius;
		}else{ 
			InnerSpiral = TaylorPBoostStr/2;	
			OuterSpiral = TaylorPBoostStr;
		}
	}	
}
int i;
function Helix(){ 
	inc = (i % 100);
    if(Position == 0){ 
   		x = inc; y = 100 - inc;
   	} 
    else if (Position == 1){ 
    	x = 100 - inc; y = - inc; 
    }
    else if (Position == 2){
    	x = -inc; y = -100 + inc; 
    }
    else if(Position == 3) {  
    	x = -100 + inc; y = inc; 
    }
    Position ++;
   
    if(Position == 4){ 
    	Position = 0;
    }	
 } 
function Spiral(Rad){ 
	
	if(!(CycleRefresh++ % TimeInterval))
	{
		if(!SpiralPosition1)                                
		{
			InnerSpiral -= 1;
			if(InnerSpiral < Rad/2)
				SpiralPosition1 = True;   
		}
		else
		{
		    InnerSpiral += 1;
			if(InnerSpiral > Rad)
				SpiralPosition1 = False;
		}
		if(!SpiralPosition2)
		{
			OuterSpiral -= 1;
			if(OuterSpiral < Rad/2)
				SpiralPosition2 = True;
		}
		else
		{
			OuterSpiral += 1;
			if(OuterSpiral > Rad)
				SpiralPosition2 = False
		}
		CycleRefresh = 0;
	}	
}
function correctAngle(angle){
  if(angle < 0) angle = 360 + (angle % 360);
  angle = (angle + 90) % 360;
  return angle;
}
function offset(Stick,Value) {
  set_val(Stick, clamp(Value * (100 - abs(get_val(Stick))) / 100 + get_val(Stick), -100, 100));
  return;
}
function sin(angle){
	
  	if(ToggleAAType == 0)
		return PolarArray[correctAngle(angle)];
	else if(ToggleAAType == 1 )
    	return LinearArray[correctAngle(angle)];
    else if(ToggleAAType == 2)
    	return PolarArray[correctAngle(angle)];
    	
    return 0;
}

function cos(angle){
	if(ToggleAAType == 0)
		return PolarArray[(correctAngle(angle) + 90) % 360];
	else if(ToggleAAType == 1 )
    	return LinearArray[(correctAngle(angle) + 90) % 360];
     else if(ToggleAAType == 2)
    	return LinearArray[(correctAngle(angle) + 90) % 360]; 
    	
    return 0;   
}
function RumbleToUse() {
    if(get_rumble(RUMBLE_A) == get_rumble(RUMBLE_B)) 
    {
        return RUMBLE_A;
    }
    if(get_rumble(RUMBLE_A) == 100) 
    {
    	return RUMBLE_B;
	}
	if(get_rumble(RUMBLE_B) == 100) 
	{
    	return RUMBLE_A;
	}
    if(get_rumble(RUMBLE_A) > get_rumble(RUMBLE_B)) 
    {
        return RUMBLE_A;
    }
    if(get_rumble(RUMBLE_A) < get_rumble(RUMBLE_B)) 
    {
        return RUMBLE_B;
    }
    return 0;
}
/*
============================================================================================================================================
  PS4 CrossOver Support  ()                                                                                                                       
============================================================================================================================================
*/
/*
function Ps4CrossOver(){ 
 	if(get_console() == PIO_PS4)
    {
        if(get_controller() != PIO_PS4) // If not PS4 controller:
        {
            if(get_ival(PS4_SHARE)) // View
            {
                if(get_ival(PS4_R3)) // RS + View =  ScreenShot
                {
                    set_val(PS4_SHARE,100);
                    set_val(PS4_TOUCH,0);
                    set_val(PS4_R3,0);
                }
                else // View only = PS4_TOUCH
                {
                    set_val(PS4_TOUCH, 100);
                    set_val(PS4_SHARE, 0);
                }
            }
        }
    }
    else if(get_console() == PIO_XB360) // If XBOX console
    {
        if(get_controller() == PIO_PS4) // If PS4 controller:
            swap(PS4_TOUCH, PS4_SHARE);
    }
} 
*/
 /*
============================================================================================================================================
  Combo Section ()                                                                                                                      
============================================================================================================================================
*/
combo rgb {
  wait(1);
  set_rgb(colors, colors[1], colors[2]);
  colors[dec] --; colors[incs] ++;
  if(!colors[dec]) { incs = (incs + 1) % 3; dec = (dec + 1) % 3; }
}
combo StickyAim {
offset(AimRY,AimAssistSize);
wait(AimAssistTime);
offset(AimRX,AimAssistSize);
offset(MoveLX,AimAssistSize);
wait(AimAssistTime);
offset(AimRY,inv(AimAssistSize));
wait(AimAssistTime);
offset(AimRX,inv(AimAssistSize));
offset(MoveLX,inv(AimAssistSize));
wait(AimAssistTime);
}
combo StrafeAA { 
offset(PS4_LX,StrafeSize);
wait(SpeedAngle);
wait(20);
offset(PS4_LX,inv(StrafeSize));
wait(SpeedAngle);
wait(20);
} 
combo EnemyPing {
set_val(Ping,100);
wait(20)
set_val(Ping,0);
wait(20)
set_val(Ping,100);
wait(20)
set_val(Ping,0); 
wait(PingDelay); 
}
combo JumpShot {
set_val(Jump,100);
wait(100);
}
combo DriveMode { 
cls_oled(0);
String(Misc[13],Medium,-15,0);
String(Misc[11],Medium,10,0);
wait(1500);
DisplayTitle = TRUE;
} 
combo InstaDrop {
set_val(Crouch,100);
wait(1000);
set_val(Crouch,0);
InstaDropShot = FALSE;
}
combo CrouchShotCmb {
set_val(Crouch,100);
wait(50);
set_val(Crouch,0);
wait(CrouchSpeed);
}
combo HoldBreath {
set_val(Sprint,0);
wait(60);
set_val(Sprint,100);
wait(110);
set_val(Sprint,0);
wait(110);
}
combo Bunnyhop{
set_val(Jump, 100);
wait(30);
set_val(Jump, 0);
wait(30);
set_val(Jump, 100);
wait(30);
set_val(Jump, 0);
wait(30);
}
combo CancelSlideMW {              
set_val(Crouch, 100);          
wait(SlideDelay);                         
set_val(Crouch, 0);            
wait(60);                          
set_val(Crouch, 100);          
wait(50);                          
set_val(Crouch, 100);          
set_val(Jump, 100);           
wait(60);                          
set_val(Crouch, 0);            
set_val(Jump, 100);          
wait(10);                        
set_val(Jump, 0);
} 
combo CancelSlideCW {
set_val(Crouch, 100);
wait(SlideDelay);
set_val(Crouch, 0);
wait(20);
set_val(Sprint, 0);
set_val(Crouch, 100);
set_val(Sprint, 100);
wait(20);
set_val(Crouch, 0);
set_val(Sprint, 0);
wait(20);
}
combo CancelReload {
set_val(Swap,100);
wait(20);
wait(20)
set_val(Swap,100);
wait(20);
ReloadInProgress = FALSE; }
combo StrafeShot{ 
offset(MoveLX,100);
wait(StrafeShotTime);
wait(50);
offset(MoveLX,-100);
wait(StrafeShotTime);
wait(20);
}
combo Saved { 
cls_oled(0); 
String(Misc[17],Medium,0,0);
wait(2000);
DisplayTitle = TRUE; 
} 
combo QuickToggles{ 
wait(1500) 
DisplayTitle  = TRUE; 
reset_leds(); 
InitializeShapeChange();
} 
combo RAPIDFIRE { 
wait(HoldTime);
set_val(Fire, 0);
wait(RestTime);
}		     
combo BLINK {
wait(LedOn);
led(7);
wait(LedOff);
} 
combo Blink{
led(6);
wait(LedOn);
led(7);
wait(LedOff);
}
combo RumbleOn {
set_ledx(2, 2);
set_rumble(RUMBLE_B, 50);
wait(150);
reset_rumble();
wait(100);
set_rumble(RUMBLE_B, 50);
wait(150);
reset_rumble();
reset_leds();
}
combo RumbleOff {						
set_ledx(1, 1);
set_rumble(RUMBLE_A, 50);
wait(300);
reset_rumble();
wait(400);
reset_leds();
}
combo BurstFireAuto {

    set_val(Fire,100);
    wait(BurstFireHold);
    set_val(Fire,0);
    wait(BurstFireWait);
}

combo BurstFireSemi {

    set_val(Fire,100);
    wait(40);
    set_val(Fire,0);
    wait(40);
    set_val(Fire,100);
    wait(40);
    set_val(Fire,0);
    wait(40);   
    set_val(Fire,100);
    wait(40);
    set_val(Fire,0);
    wait(40);    
    wait(BurstFireWait);
}
/*
============================================================================================================================================
  Print String Functions ()                                                                                                                      
============================================================================================================================================
*/ 
define Small  = 0;
define Medium = 1;
define Large  = 2;
int stringPosition,stringHeight; 
int stringLength;
function String (stringLabel,fontSize,offsetY,offsetX) {
    
    if (fontSize == Small) {
        stringPosition = (127 - get_string_length(stringLabel) * 7) / 2;
        stringHeight = (64 - 10) / 2;
    } 
    
    else if (fontSize == Medium) {
        stringPosition = (127 - get_string_length(stringLabel) * 10) / 2;
        stringHeight = (64 - 16) / 2;
    }
    
    else if (fontSize == Large) {
        stringPosition = (127 - get_string_length(stringLabel) * 15) / 2;
        stringHeight = (64 - 21) / 2;
    }
    Print(stringPosition,stringHeight,stringLabel,fontSize,offsetY,offsetX);
}
function get_string_length(offset) { 
    stringLength = 0;
    do { 
        offset++;
        stringLength++;
    } while (duint8(offset));
    return stringLength;
}
function Print (positionString,heightString,captionString,sizeFont,offSetY,offSetX) {
    
        printf(positionString + offSetX,heightString + offSetY,sizeFont,1,captionString);
}
/*
============================================================================================================================================
  NumberToString ()                                                                                                                      
============================================================================================================================================
*/   
int bufferIndex;
int charIndex,digitIndex;
function NumberToString(f_val,f_digits) {
    bufferIndex = 1;  
    digitIndex = 10000;
    if(f_val < 0) {                    //--neg numbers
         putc_oled(bufferIndex,45);    //--add leading "-"
         bufferIndex += 1;
         f_val = abs(f_val);
    } 
    for(charIndex = 5; charIndex >= 1; charIndex--) {
        if(f_digits >= charIndex) {
            putc_oled(bufferIndex,(f_val / digitIndex) + 48);
            f_val %= digitIndex;
            bufferIndex ++; 
            if(charIndex == 4) {
                putc_oled(bufferIndex,44);//--add ","
                bufferIndex ++;
            }
        }
        digitIndex /= 10;
    } 
    puts_oled(64 - ((OLED_FONT_MEDIUM_WIDTH * bufferIndex - 1) / 2),30,OLED_FONT_MEDIUM,bufferIndex - 1,OLED_WHITE);
} 
int logVal;
function FindDigits(num) {
   logVal = 0;
   do {
      num /= 10;
      logVal++;
   } while (num);
   return logVal;
}
/*
============================================================================================================================================
  LED Lights ()                                                                                                                      
============================================================================================================================================
*/ 
int LedOn,LedOff;
function LedBlink(f_on,f_off) {
	LedOn  = f_on;
	LedOff = f_off;
	combo_run(BLINK);
}
function led(f_color){
for(i = 0; i <= 3; i++) 
{
 set_led(i,duint8((f_color * 4) + i));
 }
}
// Led's For Zen Eyes \\
data(
//  0 Blue    1 Pink   2 SkyBlue  3 Green         
    1,0,0,0,  0,0,0,1,  1,0,1,0,  0,0,1,0,
//  4 Yellow  5 White   6 Red      7 OFF         
    0,1,1,0,  1,1,1,0,  0,1,0,0,  0,0,0,0 );	
/*
============================================================================================================================================
  Block Menu Buttons ()                                                                                                                      
============================================================================================================================================
*/   
const uint8 MenuOnlyButtons [] = {  
  PS4_L2,PS4_OPTIONS,PS4_LEFT, PS4_RIGHT,PS4_UP,PS4_DOWN,PS4_CROSS,PS4_CIRCLE,PS4_SQUARE,PS4_TRIANGLE,PS4_L1,PS4_R1,PS4_R2};

function BlockButtons (){  
    for(i = 0; i < 13; i++){
    	if(get_ival(MenuOnlyButtons[i]) || event_press(MenuOnlyButtons[i])){
        	set_val(MenuOnlyButtons[i],0); 
        	set_val(Tactical,0);
        	set_val(Ping,0);
        	set_val(Melee,0);
        }    
    }
}
 /*
============================================================================================================================================
  Menu Scroll ()                                                                                                                      
============================================================================================================================================
*/
int introScrollTimer, introScrollPauseTime;
int introScrollTextOffset;
int introScrollTextIndex;
int introScrollCharIndex = 1;

function MenuScroll() {
    introScrollTimer += get_rtime();
    if(introScrollTimer >= introScrollPauseTime) {
        introScrollPauseTime = 30;
        for (introScrollTextIndex = 1; introScrollTextIndex <= 18; introScrollTextIndex++) {
            if (introScrollTextIndex + introScrollTextOffset >= sizeof(MENU_SCROLL_TEXT)) {
                putc_oled(introScrollTextIndex, MENU_SCROLL_TEXT[introScrollTextIndex + (introScrollTextOffset - sizeof(MENU_SCROLL_TEXT))]);
            }
            else {
                putc_oled(introScrollTextIndex, MENU_SCROLL_TEXT[introScrollTextIndex + introScrollTextOffset]);
            }
        }
        puts_oled(1, 53,OLED_FONT_SMALL, introScrollTextIndex, OLED_WHITE);
        introScrollTextOffset++;
        if (introScrollTextOffset >= sizeof(MENU_SCROLL_TEXT)) {
            introScrollTextOffset = 0;
        }
        introScrollCharIndex--;
        if (introScrollCharIndex < 1) {
            introScrollCharIndex = 18;
            introScrollPauseTime = 2000;

        }
        introScrollTimer = 0;
    }
}
const uint8 MENU_SCROLL_TEXT[] = {
//    1			2		   3		4	     5		     6		   7		  8		     9         10	       11	   12		  13	  14		 15		  16		17        18
     _space, _left,	   _space,   _right,	_space,    _N,	      _e,         _x,       _t,        _space,    _M,      _o,       _d,     _slash,    _V,      _a,       _l,       _space,        
     _space,   _o,	     _r,     _space,    _up,	  _space,	  _down,	 _space,	_F,        _o,		  _r,	   _space,   _T,     _o, 	     _g,	  _g,		_l,	      _e,
     _space, _X,       _slash,       _A,       _space,     _F,	  _o,	      _r,		_space,	   _E,	      _d,	   _i,		  _t,		 _space,	 _M,	  _e,		_n,      _u,
     _space, _space,  _O,        _slash,   _B, _space,     _T,       _o,       _space,     _E,       _x,         _i,       _t,      _space,    _M,     _e,        _n,     _u,
     _space, _Y,_triangle, _space, _C,_h,_a,_n,_g,_e, _space, _P,_r,_o,_f,_i,_l,_e,
     _space,   _H,	  _o,	    _l,		_d,	      _space,	 _L,	    _2, 	    _slash,    _L,	  _T,    _space,		_left,       _space, _O, _r, _space,_right,
     _space,   _T,	   _o,    _space,   _A,	    _d, _j,	      _u,	 _s,	_t,     _space,		   _V,	  _a,		 _l, 	     _u,	  _e,		_s,	     _space,
     _space, _O,	   _r,     _space,    _B,   _u,		_t,	      _t,		 _o,		_n,	        _space,		   _C,		  _h,		 _o,	 _i,	  _c,		_e,      _s
};    


define  _0 = 48,   _A = 65,   _K = 75,   _U =  85,   _e = 101,   _o = 111,   _y       = 121,    _plus      = 43, _slash     = 47 , _dot     =  46;
define  _1 = 49,   _B = 66,   _L = 76,   _V =  86,   _f = 102,   _p = 112,   _z       = 122;
define  _2 = 50,   _C = 67,   _M = 77,   _W =  87,   _g = 103,   _q = 113,   _space   =  32;
define  _3 = 51,   _D = 68,   _N = 78,   _X =  88,   _h = 104,   _r = 114,   _bang    =  33;
define  _4 = 52,   _E = 69,   _O = 79,   _Y =  89,   _i = 105,   _s = 115,   _quote   =  34;
define  _5 = 53,   _F = 70,   _P = 80,   _Z =  90,   _j = 106,   _t = 116,   _hash    =  35;
define  _6 = 54,   _G = 71,   _Q = 81,   _a =  97,   _k = 107,   _u = 117,   _dollar  =  36;
define  _7 = 55,   _H = 72,   _R = 82,   _b =  98,   _l = 108,   _v = 118,   _percent =  37;
define  _8 = 56,   _I = 73,   _S = 83,   _c =  99,   _m = 109,   _w = 119,   _and     =  38;
define  _9 = 57,   _J = 74,   _T = 84,   _d = 100,   _n = 110,   _x = 120,   _tick    =  39;
define _left     = 133,   _right = 134,_up       = 131,_down     = 132,_cross    = 127, _circle   = 128, _triangle = 130;
 /*
============================================================================================================================================
  Controller Button Layout ()                                                                                                                      
============================================================================================================================================
*/
const string ControllerLayouts[] = { "Default", "Tactical", "Lefty", "N0M4D/Charlie", "N0M4D/Charlie Tac", "N0M4D/Charlie Left", "Bumper Jumper", "Bumper Jumper Tac", "1-Hand Gunslinger", "Stick & Move", 
"Brawler", "Beast","Bumper Ping","Bumper Ping Tac", "Default Flipped","Tactical Flipped", "B.Jumper Flipped", "B.JumprTac Flipped", "Stick&Move Flipped","Beasty Swapped","B.Ping Flipped","B.Ping.Tac.Flipped",""}

int Ads,Fire,Tactical,Lethal,Crouch,Jump,Reload,Melee,Swap,Sprint,Ping;    
const uint8 Layouts[][] = {            
 	  //Fire   ADS	  Lethal Tactical  Jump	 Crouch	  Melee	  Sprint  Reload WSwap,  Ping 	
	{ XB1_RT, XB1_LT, XB1_RB, XB1_LB, XB1_A,  XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // DEFAULT = 0
	{ XB1_RT, XB1_LT, XB1_RB, XB1_LB, XB1_A,  XB1_RS, XB1_B,  XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // TACTICAL = 1
	{ XB1_LT, XB1_RT, XB1_LB, XB1_RB, XB1_A,  XB1_B,  XB1_LS, XB1_RS ,XB1_X, XB1_Y, XB1_UP }, // LEFTY = 2
	{ XB1_RT, XB1_RB, XB1_LT, XB1_LB, XB1_A,  XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // N0M4D/CHARLIE = 3
	{ XB1_RT, XB1_RB, XB1_LT, XB1_LB, XB1_A,  XB1_RS, XB1_B,  XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // N0M4D/CHARLIE TACTICAL = 4
	{ XB1_LT, XB1_LB, XB1_RT, XB1_RB, XB1_A,  XB1_B,  XB1_LS, XB1_RS ,XB1_X, XB1_Y, XB1_UP }, // N0M4D/CHARLIE LEFTY = 5
	{ XB1_RT, XB1_LT, XB1_RB, XB1_A,  XB1_LB, XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // BUMPER JUMPER = 6 
	{ XB1_RT, XB1_LT, XB1_RB, XB1_A,  XB1_LB, XB1_RS, XB1_B,  XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // BUMPER JUMPER TACTICAL = 7
	{ XB1_LB, XB1_LT, XB1_RT, XB1_RB, XB1_A,  XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // ONE-HAND GUNSLINGER = 8
	{ XB1_RT, XB1_LT, XB1_RB, XB1_LB, XB1_RS, XB1_B,  XB1_A,  XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // STICK AND MOVE = 9
	{ XB1_RT, XB1_LT, XB1_RB, XB1_LB, XB1_A,  XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // BRAWLER = 10
	{ XB1_RT, XB1_LT, XB1_RS, XB1_A,  XB1_LB, XB1_B,  XB1_RB, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // BEASTY = 11
	{ XB1_RT, XB1_LT, XB1_RB, XB1_RB, XB1_A,  XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_LB }, // BUMPER PING = 12
	{ XB1_RT, XB1_LT, XB1_RB, XB1_RB, XB1_A,  XB1_RS, XB1_B,  XB1_LS ,XB1_X, XB1_Y, XB1_LB }, // BUMPER PING TACTICAL = 13
	{ XB1_RB, XB1_LB, XB1_RT, XB1_LT, XB1_A,  XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // DEFAULT SWAPPED = 14
	{ XB1_RB, XB1_LB, XB1_RT, XB1_LT, XB1_A,  XB1_RS, XB1_B,  XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // TACTICAL SWAPPED = 15
	{ XB1_RB, XB1_LB, XB1_RT, XB1_A,  XB1_LT, XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // BUMPER JUMPER SWAPPED = 16 
	{ XB1_RB, XB1_LB, XB1_RT, XB1_A,  XB1_LT, XB1_RS, XB1_B,  XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // BUMPER JUMPER TACTICAL SWAPPED = 17 
	{ XB1_RB, XB1_LB, XB1_RT, XB1_LT, XB1_RS, XB1_B,  XB1_A,  XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // STICK AND MOVE SWAPPED = 18
	{ XB1_RB, XB1_LB, XB1_RS, XB1_A,  XB1_LB, XB1_B,  XB1_RB, XB1_LS ,XB1_X, XB1_Y, XB1_UP }, // BEASTY SWAPPED 19
	{ XB1_RB, XB1_LB, XB1_RT, XB1_RT, XB1_A,  XB1_B,  XB1_RS, XB1_LS ,XB1_X, XB1_Y, XB1_LT }, // BUMPER PING = 18
	{ XB1_RB, XB1_LB, XB1_RT, XB1_RT, XB1_A,  XB1_RS, XB1_B,  XB1_LS ,XB1_X, XB1_Y, XB1_LT }}; // BUMPER PING TACTICAL = 19		

function Buttons(Type) {
	
	Fire     = Layouts[Type][0];
	Ads      = Layouts[Type][1];
	Lethal   = Layouts[Type][2];
	Tactical = Layouts[Type][3];
	Jump     = Layouts[Type][4];
	Crouch   = Layouts[Type][5];
	Melee    = Layouts[Type][6];
	Sprint   = Layouts[Type][7];
	Reload   = Layouts[Type][8];
	Swap     = Layouts[Type][9];
	Ping     = Layouts[Type][10];
	
} 
 /*
============================================================================================================================================
  Controller Stick Layouts ()                                                                                                                      
============================================================================================================================================
*/
int AimRY,AimRX,MoveLY,MoveLX;
const string ControllerSticks[] = {"Default","Southpaw","Legacy","Legacy Southpaw",""}; 
const uint8  StickLayouts[][] = { 
//  0       1      2      3    //
{ PS4_RY,PS4_RX,PS4_LY,PS4_LX},// Default Sticks 
{ PS4_LY,PS4_LX,PS4_RY,PS4_RX},// SouthPaw
{ PS4_RY,PS4_LX,PS4_LY,PS4_RX},// Legacy 
{ PS4_LY,PS4_RX,PS4_LY,PS4_LX} // Legacy SouthPaw
};

function ControllerRSLS(sticks){ 
  AimRY      = StickLayouts[sticks][0];
  AimRX      = StickLayouts[sticks][1];
  MoveLY     = StickLayouts[sticks][2];
  MoveLX     = StickLayouts[sticks][3];
 
 } 
 /*
============================================================================================================================================
  16 Bit Packing Saving Method (Created By Sweet Evil)                                                                                                                     
============================================================================================================================================
*/
int mask;
int ret;
int pval_data;

function pack_usigned(int pvar, int ret, int position, int number_of_bits){ 
	for(i = position; i< (number_of_bits + position); i++)
	{
		pvar = pvar & (~(1 << i));
	}
	pvar = pvar | (ret<<position);
return pvar;
}
function unpack_usigned(int pvar, int position, int number_of_bits){
	mask = 0;
	ret = 0;
	for(i = 0; i< number_of_bits ; i++)
	{
		mask = mask | (1 << i);
	}
	mask = mask <<position
	ret = (pvar & mask) >> position
return ret;
}
function pack_int8_to_int16(int var1, int var2){

	ret = 0;
	if(var1 < 0)
  	{
   		var1 = abs(var1) | 0x80;
  	}
	ret = (abs(var2)<<8)|var1;
	
	if(var2<0)
		ret *= -1;
return ret;
}
function unpack_int16_to_int8(int pvar, int var){
	ret = 0;
	if(var == 0)
	{	 
		ret = 0x80 & abs(pvar) ;
		ret = ret >> 7;
		ret = ((-2) * ret) + 1;
		ret = ( abs(pvar) & 0x7F) * ret;
	}
	else
	{
		ret = pvar>>8;

	    if(pvar<0)
	    {
			ret += 1;
		}
	}
	return ret;
}
function Load(){ 
 pval_data = get_pvar(SPVAR_1, -32767, 32767, 0);
 TaylorARVert    = unpack_int16_to_int8(pval_data, 0);
 TaylorARHoriz   = unpack_int16_to_int8(pval_data, 1);
 
 pval_data = get_pvar(SPVAR_2, -32767, 32767, 0);
 VerticalStart    = unpack_int16_to_int8(pval_data, 0);
 VerticalEnd      = unpack_int16_to_int8(pval_data, 1);

 pval_data = get_pvar(SPVAR_3, 1, 32767, 0);
 VerticalTime     = unpack_int16_to_int8(pval_data, 0);
 HorizontalTime   = unpack_int16_to_int8(pval_data, 1);
 
 pval_data = get_pvar(SPVAR_4, 1, 32767,pack_int8_to_int16(0,0));
 TaylorShapes     = unpack_int16_to_int8(pval_data, 0);
 ToggleAAType     = unpack_int16_to_int8(pval_data, 1);
 
 pval_data = get_pvar(SPVAR_5,1, 32767,pack_int8_to_int16(10,15));
 AdsSpeed         = unpack_int16_to_int8(pval_data, 0);
 TaylorAngle      = unpack_int16_to_int8(pval_data, 1);
 
 pval_data = get_pvar(SPVAR_6, 1, 32767, pack_int8_to_int16(15,5));
 TaylorRadius     = unpack_int16_to_int8(pval_data, 0);
 TaylorPBoostStr  = unpack_int16_to_int8(pval_data, 1);
 
 pval_data = get_pvar(SPVAR_7, 1, 32767, pack_int8_to_int16(5,2));
 TaylorABoostSpd  = unpack_int16_to_int8(pval_data,0);
 TrackingSize     = unpack_int16_to_int8(pval_data,1);
 
 pval_data = get_pvar(SPVAR_8, 1, 32767, pack_int8_to_int16(2,10));
 TrackingSpeed    = unpack_int16_to_int8(pval_data,0);
 AimAssistSize    = unpack_int16_to_int8(pval_data,1);
 
 pval_data = get_pvar(SPVAR_9, 1, 32767, pack_int8_to_int16(10,20));
 AimAssistTime    = unpack_int16_to_int8(pval_data,0);
 HeadShotStrength = unpack_int16_to_int8(pval_data,1);
 
 HeadShotHoldTime  = get_pvar(SPVAR_10, 1,2000, 800);
 
 pval_data = get_pvar(SPVAR_11, 1, 32767, pack_int8_to_int16(1,5));
 RateOfFire       = unpack_int16_to_int8(pval_data,0);
 HandGunAASpeed   = unpack_int16_to_int8(pval_data,1);
 
 pval_data = get_pvar(SPVAR_12, 1, 32767,pack_int8_to_int16(0, 0));
 ToggleTaylorAR    = unpack_int16_to_int8(pval_data, 0);
 ToggleProgressive = unpack_int16_to_int8(pval_data, 1);
 
 pval_data = get_pvar(SPVAR_13, 1, 32767,pack_int8_to_int16(0, 0));
 TaylorAssist      = unpack_int16_to_int8(pval_data,0);
 ToggleBurstFire   = unpack_int16_to_int8(pval_data,1);
 
 pval_data = get_pvar(SPVAR_14, 1, 32767,pack_int8_to_int16(0, 0));
 ToggleCancelSlide = unpack_int16_to_int8(pval_data,0);
 ToggleVmSpeed     = unpack_int16_to_int8(pval_data,1);
 
 pval_data = get_pvar(SPVAR_15, 1, 32767, pack_int8_to_int16(0, 0));
 Buttons           = unpack_int16_to_int8(pval_data,0);
 Sticks            = unpack_int16_to_int8(pval_data,1);

 pval_data = get_pvar(SPVAR_16, 1, 32767, 0);
 ToggleRapidFire      = unpack_usigned(pval_data, 0, 1);
 ToggleBattsStickyAim = unpack_usigned(pval_data, 1, 1);
 HeadShotAssist       = unpack_usigned(pval_data, 2, 1);
 StrafeAssist         = unpack_usigned(pval_data, 3, 1);
 ToggleStrafeShot     = unpack_usigned(pval_data, 4, 1);
 ToggleCancelReload   = unpack_usigned(pval_data, 5, 1);
 ToggleCrouchShot     = unpack_usigned(pval_data, 6, 1);
 ToggleJumpShot       = unpack_usigned(pval_data, 7, 1);
 ToggleDropShot       = unpack_usigned(pval_data, 8, 1);
 ToggleEnemyPing      = unpack_usigned(pval_data, 9, 1);
 ToggleHoldBreath     = unpack_usigned(pval_data,10, 1);
 ToggleTaylorSens     = unpack_usigned(pval_data,11, 1);
 ToggleBunnyHop       = unpack_usigned(pval_data,12, 1);
 ToggleSniperMode     = unpack_usigned(pval_data,13, 1);
 
 pval_data = get_pvar(SPVAR_17, 1, 32767, 0);
 ToggleBlockRumble    = unpack_usigned(pval_data,0, 1);
 ShapeDirection       = unpack_usigned(pval_data,1, 1);
 ToggleBoostFire      = unpack_usigned(pval_data,3, 1);
 BoostReducerv2 	  = unpack_usigned(pval_data,4, 1); 
 TaylorTracking       = unpack_usigned(pval_data,5, 1);
 ToggleAutoRF         = unpack_usigned(pval_data,6, 1);
 ToggleAutoHB         = unpack_usigned(pval_data,7, 1);
 RfFireType           = unpack_usigned(pval_data,8, 1);
 BfFireType	          = unpack_usigned(pval_data,9, 1);
 ARFireType 		  = unpack_usigned(pval_data,10,1);
 
 pval_data = get_pvar(SPVAR_18, 1, 32767, pack_int8_to_int16(0, 0));
 ActivateHoldBtnIdx [0]      = unpack_int16_to_int8(pval_data, 0);
 ActivatePressBtnIdx[0]      = unpack_int16_to_int8(pval_data, 1);
 pval_data = get_pvar(SPVAR_19, 1, 32767, pack_int8_to_int16(0, 0));
 ActivateHoldBtnIdx [1]      = unpack_int16_to_int8(pval_data, 0);
 ActivatePressBtnIdx[1]      = unpack_int16_to_int8(pval_data, 1);
 pval_data = get_pvar(SPVAR_20, 1, 32767, pack_int8_to_int16(0, 0));
 ActivateHoldBtnIdx [2]      = unpack_int16_to_int8(pval_data, 0);
 ActivatePressBtnIdx[2]      = unpack_int16_to_int8(pval_data, 1);
 pval_data = get_pvar(SPVAR_21, 1, 32767, pack_int8_to_int16(0, 0));
 ActivateHoldBtnIdx [3]      = unpack_int16_to_int8(pval_data, 0);
 ActivatePressBtnIdx[3]      = unpack_int16_to_int8(pval_data, 1);
 pval_data = get_pvar(SPVAR_22, 1, 32767, pack_int8_to_int16(0, 0));
 ActivateHoldBtnIdx [4]      = unpack_int16_to_int8(pval_data, 0);
 ActivatePressBtnIdx[4]      = unpack_int16_to_int8(pval_data, 1);
 pval_data = get_pvar(SPVAR_23, 1, 32767, pack_int8_to_int16(0, 0));
 ActivateHoldBtnIdx [5]      = unpack_int16_to_int8(pval_data, 0);
 ActivatePressBtnIdx[5]      = unpack_int16_to_int8(pval_data, 1);
 pval_data = get_pvar(SPVAR_24, 1, 32767, pack_int8_to_int16(0, 0));
 ActivateHoldBtnIdx [6]      = unpack_int16_to_int8(pval_data, 0);
 ActivatePressBtnIdx[6]      = unpack_int16_to_int8(pval_data, 1);
 pval_data = get_pvar(SPVAR_25, 1, 32767, pack_int8_to_int16(0, 0));
 ActivateHoldBtnIdx [7]      = unpack_int16_to_int8(pval_data, 0);
 ActivatePressBtnIdx[7]      = unpack_int16_to_int8(pval_data, 1);
 pval_data = get_pvar(SPVAR_26, 1, 32767, pack_int8_to_int16(0, 0));
 ActivatePressBtnIdx1[8]   = unpack_int16_to_int8(pval_data, 0);
 ActivatePressBtnIdx[8]    = unpack_int16_to_int8(pval_data, 1);
 
 BurstFireHold      = get_pvar(SPVAR_27,1,990,510);
 BurstFireWait      = get_pvar(SPVAR_28,1,990 ,350); 
 BurstFireRelease   = get_pvar(SPVAR_29,1,100 ,50);
 StrafeShotTime     = get_pvar(SPVAR_30,1,990 ,500);
 StrafeActiveTime   = get_pvar(SPVAR_31,1,2000,300);
 MaxReloadTime   	= get_pvar(SPVAR_32,1,5000,1000);
 PingDelay          = get_pvar(SPVAR_33,1,5000,1000);
 HandGunVertical    = get_pvar(SPVAR_34,-99,99, 5);
 GeneralSens        = get_pvar(SPVAR_35,1, 327,  100); 
 AdsSens            = get_pvar(SPVAR_36,1, 327,  100); 
 FireSens           = get_pvar(SPVAR_37,1, 327,  100);
 AdsFireSens        = get_pvar(SPVAR_38,1, 327,  100); 
 
 pval_data = get_pvar(SPVAR_39, -32767, 32767, 0);
 HorizontalStart    = unpack_int16_to_int8(pval_data, 0);
 HorizontalEnd      = unpack_int16_to_int8(pval_data, 1);
 
 pval_data = get_pvar(SPVAR_40, 1, 32767, 0);
 FireType[0]      = unpack_int16_to_int8(pval_data, 0);
 FireType[1]      = unpack_int16_to_int8(pval_data, 1);
 
 pval_data = get_pvar(SPVAR_41, 1, 32767, 0);
 FireType[2]      = unpack_int16_to_int8(pval_data, 0);
 FireType[3]      = unpack_int16_to_int8(pval_data, 1);
 }
 
function Save() { 
pval_data = pack_int8_to_int16(TaylorARVert,TaylorARHoriz);    
set_pvar(SPVAR_1,pval_data); 
pval_data = pack_int8_to_int16(VerticalStart,VerticalEnd);    
set_pvar(SPVAR_2,pval_data); 
pval_data = pack_int8_to_int16(VerticalTime,HorizontalTime);    
set_pvar(SPVAR_3,pval_data);
pval_data = pack_int8_to_int16(TaylorShapes,ToggleAAType);    
set_pvar(SPVAR_4,pval_data);
pval_data = pack_int8_to_int16(AdsSpeed,TaylorAngle);    
set_pvar(SPVAR_5,pval_data);
pval_data = pack_int8_to_int16(TaylorRadius,TaylorPBoostStr);    
set_pvar(SPVAR_6,pval_data);
pval_data = pack_int8_to_int16(TaylorABoostSpd,TrackingSize);    
set_pvar(SPVAR_7,pval_data); 
pval_data = pack_int8_to_int16(TrackingSpeed,AimAssistSize);    
set_pvar(SPVAR_8,pval_data); 
pval_data = pack_int8_to_int16(AimAssistTime,HeadShotStrength);    
set_pvar(SPVAR_9,pval_data); 
set_pvar(SPVAR_10,HeadShotHoldTime);
pval_data = pack_int8_to_int16(RateOfFire,HandGunAASpeed);    
set_pvar(SPVAR_11,pval_data); 
pval_data = pack_int8_to_int16(ToggleTaylorAR,ToggleProgressive);    
set_pvar(SPVAR_12,pval_data); 
pval_data = pack_int8_to_int16(TaylorAssist,ToggleBurstFire);    
set_pvar(SPVAR_13,pval_data); 
pval_data = pack_int8_to_int16(ToggleCancelSlide,ToggleVmSpeed);    
set_pvar(SPVAR_14,pval_data); 
pval_data = pack_int8_to_int16(Buttons,Sticks);    
set_pvar(SPVAR_15,pval_data); 

pval_data = pack_usigned(pval_data, ToggleRapidFire      ,0, 1);
pval_data = pack_usigned(pval_data, ToggleBattsStickyAim ,1, 1);
pval_data = pack_usigned(pval_data, HeadShotAssist       ,2, 1);
pval_data = pack_usigned(pval_data, StrafeAssist         ,3, 1);
pval_data = pack_usigned(pval_data, ToggleStrafeShot     ,4, 1);
pval_data = pack_usigned(pval_data, ToggleCancelReload   ,5, 1);
pval_data = pack_usigned(pval_data, ToggleCrouchShot    , 6, 1);
pval_data = pack_usigned(pval_data, ToggleJumpShot       ,7, 1);
pval_data = pack_usigned(pval_data, ToggleDropShot       ,8, 1);
pval_data = pack_usigned(pval_data, ToggleEnemyPing     , 9, 1);
pval_data = pack_usigned(pval_data, ToggleHoldBreath    ,10, 1);
pval_data = pack_usigned(pval_data, ToggleTaylorSens    ,11, 1);
pval_data = pack_usigned(pval_data, ToggleBunnyHop      ,12, 1);
pval_data = pack_usigned(pval_data, ToggleSniperMode    ,13, 1);
set_pvar(SPVAR_16,pval_data);

pval_data = pack_usigned(pval_data, ToggleBlockRumble    ,0, 1);
pval_data = pack_usigned(pval_data, ShapeDirection       ,1, 1);
pval_data = pack_usigned(pval_data, ToggleBoostFire      ,2, 1);
pval_data = pack_usigned(pval_data, BoostReducerv2       ,3, 1);
pval_data = pack_usigned(pval_data, TaylorTracking       ,4, 1);
pval_data = pack_usigned(pval_data, ToggleAutoRF         ,5, 1);
pval_data = pack_usigned(pval_data, ToggleAutoHB        , 6, 1);
pval_data = pack_usigned(pval_data, RfFireType           ,7, 1);
pval_data = pack_usigned(pval_data, BfFireType           ,8, 1);
pval_data = pack_usigned(pval_data, ARFireType          , 9, 1);
set_pvar(SPVAR_17,pval_data);

pval_data = pack_int8_to_int16(ActivateHoldBtnIdx[0],ActivatePressBtnIdx [0]);     
set_pvar(SPVAR_18,pval_data);
pval_data = pack_int8_to_int16(ActivateHoldBtnIdx[1],ActivatePressBtnIdx [1]);     
set_pvar(SPVAR_19,pval_data);
pval_data = pack_int8_to_int16(ActivateHoldBtnIdx[2],ActivatePressBtnIdx [2]);     
set_pvar(SPVAR_20,pval_data);
pval_data = pack_int8_to_int16(ActivateHoldBtnIdx[3],ActivatePressBtnIdx [3]);     
set_pvar(SPVAR_21,pval_data);
pval_data = pack_int8_to_int16(ActivateHoldBtnIdx[4],ActivatePressBtnIdx [4]);     
set_pvar(SPVAR_22,pval_data);
pval_data = pack_int8_to_int16(ActivateHoldBtnIdx[5],ActivatePressBtnIdx [5]);     
set_pvar(SPVAR_23,pval_data);
pval_data = pack_int8_to_int16(ActivateHoldBtnIdx[6],ActivatePressBtnIdx [6]);     
set_pvar(SPVAR_24,pval_data);
pval_data = pack_int8_to_int16(ActivateHoldBtnIdx[7],ActivatePressBtnIdx [7]);     
set_pvar(SPVAR_25,pval_data);
pval_data = pack_int8_to_int16(ActivatePressBtnIdx1[8],ActivatePressBtnIdx[8]);     
set_pvar(SPVAR_26,pval_data)

set_pvar(SPVAR_27,BurstFireHold);
set_pvar(SPVAR_28,BurstFireWait)
set_pvar(SPVAR_29,BurstFireRelease);
set_pvar(SPVAR_30,StrafeShotTime);
set_pvar(SPVAR_31,StrafeActiveTime);
set_pvar(SPVAR_32,MaxReloadTime);  
set_pvar(SPVAR_33,PingDelay);
set_pvar(SPVAR_34,HandGunVertical);
set_pvar(SPVAR_35,GeneralSens    ); 
set_pvar(SPVAR_36,AdsSens        ); 
set_pvar(SPVAR_37,FireSens       ); 
set_pvar(SPVAR_38,AdsFireSens    ); 

pval_data = pack_int8_to_int16(HorizontalStart,HorizontalEnd);    
set_pvar(SPVAR_39,pval_data);
pval_data = pack_int8_to_int16(FireType[0],FireType[1]);    
set_pvar(SPVAR_40,pval_data); 
pval_data = pack_int8_to_int16(FireType[2],FireType[3]);    
set_pvar(SPVAR_41,pval_data); 

} 


 
 
 
 

 
 
 
 
  