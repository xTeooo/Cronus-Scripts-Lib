/*


  DayZ Lock Bruteforce v1.0.0
  
  By Fadexz

  Setup: Set all switches to '0' and move to the last switch, DOWN to start and stop the script, hold UP to reset count


*/



int code[4];
int toggle;



main {


  if(event_press(PS4_DOWN))
    toggle = !toggle;

  if(event_release(PS4_UP) && get_ptime(PS4_UP) >= 500) {
    code[0] = 0;
    code[1] = 0;
    code[2] = 0;
    code[3] = 0;
  }

  if(toggle) {
    if(code[0] < 10)
      combo_run(Singles);
    else if(code[1] < 9)
      combo_run(Tenth);
    else if(code[2] < 9)
      combo_run(Hundredth);
    else if(code[3] < 9)
      combo_run(Thousandth);
    else toggle = FALSE;
  }

  set_val(TRACE_1,code[0]);
  set_val(TRACE_2,code[1]);
  set_val(TRACE_3,code[2]);
  set_val(TRACE_4,code[3]);


}



combo Singles {
  set_val(PS4_SQUARE,100);
  wait(840);
  set_val(PS4_SQUARE,100);
  code[0] ++;
}



combo Tenth {
  wait(300);
  set_val(PS4_SQUARE,100);
  wait(40);
  wait(300);
  set_val(PS4_SQUARE,100);
  wait(40);
  wait(300);
  set_val(PS4_SQUARE,100);
  wait(40);
  wait(300);
  set_val(PS4_SQUARE,100);
  wait(840);
  wait(300);
  set_val(PS4_SQUARE,100);
  wait(40);
  wait(300);
  code[0] = 0;
  code[1] ++;
}



combo Hundredth {
  wait(300);
  set_val(PS4_SQUARE,100);
  wait(840);
  wait(300);
  set_val(PS4_SQUARE,100);
  wait(40);
  wait(300);
  set_val(PS4_SQUARE,100);
  wait(40);
  wait(300);
  set_val(PS4_SQUARE,100);
  wait(840);
  wait(300);
  set_val(PS4_SQUARE,100);
  wait(40);
  wait(300);
  set_val(PS4_SQUARE,100);
  wait(40);
  wait(300);
  code[0] = 0;
  code[1] = 0;
  code[2] ++;
}



combo Thousandth {
  wait(300);
  set_val(PS4_SQUARE,100);
  wait(840);
  wait(300);
  set_val(PS4_SQUARE,100);
  wait(40);
  wait(300);
  set_val(PS4_SQUARE,100);
  wait(840);
  wait(300);
  set_val(PS4_SQUARE,100);
  wait(40);
  wait(300);
  set_val(PS4_SQUARE,100);
  wait(40);
  wait(300);
  set_val(PS4_SQUARE,100);
  wait(40);
  wait(300);
  code[0] = 0;
  code[1] = 0;
  code[2] = 0;
  code[3] ++;
}
