
// This is not your ZEN MASTER Shitty combo script. You can configure this to any gun any setting any attachment. The timing will need to be changed per gun.



/* 
	Currently I have it set up for an AK with a holo with the following in Game Values  70x , 70y, 40ADS, 40 1x, 10 deadzone for left and right.
    I have the ballpark values in it. It needs fine tuning . Read instructions below.
*/   



define Ads      = PS4_L2; // DO NOT TOUCH
define Fire     = PS4_R2; // DO NOT TOUCH




define Deadzone = 7; /* DO NOT SET YOUR IN GAME VALUE TO THIS. 
					    THIS IS VERY IMPORTANT!!! This allows you to remove stick drift from the script. Move your right stick around and find the highest value in device manager.  
					    See what your MAX INPUT is for your left stick X and Y when you dont touch it.
					    I recomend moving it around a little bit and see where it falls.
					    Mine was 7. It does not matter if it is positive or negative.
					    Your stick drift cannot exceed a value for the anti recoil below. 
					 */

/* Values below are for the recoil pattern. You can adjust each bullet. I have a ballpark number it it. You need to fine tune it.
   I recommend changing values only by increasing or decreasing the value by 1 at a time. Max 2 at a time.
   X is Horzontal
   Y is Vertical 
*/

int X1  =   0; 			//Bullet 1 Leave at 0
int X2  = -20;			//Bullet 2
int X3  = -10;			//Bullet 3
int X4  = -25;			//Bullet 4
int X5  = -18;			//Bullet 5
int X6  =   8;			//Bullet 6
int X7  =  12;			//Bullet 7
int X8  =  32; 			//Bullet 8
int X9  =  23;			//Bullet 9
int X10 =  23;			//Bullet 10
int X11 =  23;			//Bullet 11
int X12 =  24;			//Bullet 12
int X13 =  23;			//Bullet 13
int X14 = -16;			//Bullet 14
int X15 = -16;			//Bullet 15
int X16 = -16;			//Bullet 16
int X17 = -16;			//Bullet 17
int X18 = -22;			//Bullet 18
int X19 = -22;			//Bullet 19
int X20 = -26;			//Bullet 20
int X21 = -26;			//Bullet 21
int X22 = -26;			//Bullet 22
int X23 = -26;			//Bullet 23
int X24 =  18;			//Bullet 24
int X25 =  18;			//Bullet 25
int X26 =  18;			//Bullet 26
int X27 =  18;			//Bullet 27
int X28 =  18;			//Bullet 28
int X29 =  18;			//Bullet 29
int X30 =   0;			//Bullet 30

int Y1  =   0;			//Bullet 1
int Y2  =  46;			//Bullet 2
int Y3  =  46;			//Bullet 3
int Y4  =  46;			//Bullet 4
int Y5  =  46;			//Bullet 5
int Y6  =  46;			//Bullet 6
int Y7  =  27;			//Bullet 7
int Y8  =  27;			//Bullet 8 
int Y9  =  27;			//Bullet 9
int Y10 =  27;			//Bullet 10
int Y11 =  27;			//Bullet 11
int Y12 =  27;			//Bullet 12
int Y13 =  27;			//Bullet 13
int Y14 =  36;			//Bullet 14
int Y15 =  36;			//Bullet 15
int Y16 =  36;			//Bullet 16
int Y17 =  36;			//Bullet 17
int Y18 =  36;			//Bullet 18
int Y19 =  36;			//Bullet 19
int Y20 =  36;			//Bullet 20
int Y21 =  36;			//Bullet 21
int Y22 =  36;			//Bullet 22
int Y23 =  36;			//Bullet 23
int Y24 =  36;			//Bullet 24
int Y25 =  34;			//Bullet 25
int Y26 =  34;			//Bullet 26
int Y27 =  34;			//Bullet 27
int Y28 =  34;			//Bullet 28
int Y29 =  34;			//Bullet 29
int Y30 =   0;			//Bullet 30


int AntiRecoil_Y; // vertical antirecoil
int AntiRecoil_X; // horizontal antirecoil

// DO NOT CHANGE ANYTHING BELOW. Unless you are configuring for a different weapon. You will need to change the value after get_ptime.

main {
 
   

  if(isqrt(pow(abs(get_ival(PS4_LX)),2) + pow(abs(get_ival(PS4_LY)),2)) <= Deadzone) {
    set_val(PS4_LX,0);
    set_val(PS4_LY,0);
  }

  if(isqrt(pow(abs(get_ival(PS4_RX)),2) + pow(abs(get_ival(PS4_RY)),2)) <= Deadzone) {
    set_val(PS4_RX,0);
    set_val(PS4_RY,0);
  }
   
   
   if(get_val(Fire) && get_val(Ads))
    {
        AntiRecoil_Y = Y1; 
        AntiRecoil_X = X1; 
      
        if(get_ptime(Fire) >= 130)   // Bullet 2 
        {
            AntiRecoil_Y = Y2; 
            AntiRecoil_X = X2; 
        }
        
        if(get_ptime(Fire) >= 260)  // Bullet 3
        {
            AntiRecoil_Y = Y3; 
            AntiRecoil_X = X3; 
        }
        
        if(get_ptime(Fire) >= 390)  // Bullet 4
        {
            AntiRecoil_Y = Y4; 
            AntiRecoil_X = X4; 
        }
        
        
        if(get_ptime(Fire) >= 520)  // Bullet 5
        {
            AntiRecoil_Y = Y5; 
            AntiRecoil_X = X5; 
        }
        
        
        if(get_ptime(Fire) >= 650)  // Bullet 6
        {
            AntiRecoil_Y = Y6; 
            AntiRecoil_X = X6; 
        }
        
        
        if(get_ptime(Fire) >= 780)  // Bullet 7
        {
            AntiRecoil_Y = Y7; 
            AntiRecoil_X = X7; 
        }
        
        
        if(get_ptime(Fire) >= 910)  // Bullet 8
        {
            AntiRecoil_Y = Y8; 
            AntiRecoil_X = X8; 
        }
        
        
        if(get_ptime(Fire) >= 1040)  // Bullet 9
        {
            AntiRecoil_Y = Y9; 
            AntiRecoil_X = X9; 
        }
        
        
        if(get_ptime(Fire) >= 1170)  // Bullet 10
        {
            AntiRecoil_Y = Y10; 
            AntiRecoil_X = X10; 
        }
        
        
        if(get_ptime(Fire) >= 1300)  // Bullet 11
        {
            AntiRecoil_Y = Y11; 
            AntiRecoil_X = X11; 
        }
        
        
        if(get_ptime(Fire) >= 1430)  // Bullet 12
        {
            AntiRecoil_Y = Y12; 
            AntiRecoil_X = X12; 
        }
        
        
        if(get_ptime(Fire) >= 1560)  // Bullet 13
        {
            AntiRecoil_Y = Y13; 
            AntiRecoil_X = X13; 
        }
        
        
        if(get_ptime(Fire) >= 1690)  // Bullet 14
        {
            AntiRecoil_Y = Y14; 
            AntiRecoil_X = X14; 
        }
        
        
        if(get_ptime(Fire) >= 1820)  // Bullet 15
        {
            AntiRecoil_Y = Y15; 
            AntiRecoil_X = X15; 
        }
        
        
        if(get_ptime(Fire) >= 1950)  // Bullet 16
        {
            AntiRecoil_Y = Y16; 
            AntiRecoil_X = X16; 
        }
        
        
        if(get_ptime(Fire) >= 2080)  // Bullet 17
        {
            AntiRecoil_Y = Y17; 
            AntiRecoil_X = X17; 
        }
        
        
        if(get_ptime(Fire) >= 2210)  // Bullet 18
        {
            AntiRecoil_Y = Y18; 
            AntiRecoil_X = X18; 
        }
        
        
        if(get_ptime(Fire) >= 2340)  // Bullet 19
        {
            AntiRecoil_Y = Y19; 
            AntiRecoil_X = X19; 
        }
        
        
        if(get_ptime(Fire) >= 2470)  // Bullet 20
        {
            AntiRecoil_Y = Y20; 
            AntiRecoil_X = X20; 
        }
        
        
        if(get_ptime(Fire) >= 2600)  // Bullet 21
        {
            AntiRecoil_Y = Y21; 
            AntiRecoil_X = X21; 
        }
        
        
        if(get_ptime(Fire) >= 2730)  // Bullet 22
        {
            AntiRecoil_Y = Y22; 
            AntiRecoil_X = X22; 
        }
        
        
        if(get_ptime(Fire) >= 2860)  // Bullet 23
        {
            AntiRecoil_Y = Y23; 
            AntiRecoil_X = X23; 
        }
        
        
        if(get_ptime(Fire) >= 2990)  // Bullet 24
        {
            AntiRecoil_Y = Y24; 
            AntiRecoil_X = X24; 
        }
        
        
        if(get_ptime(Fire) >= 3120)  // Bullet 25
        {
            AntiRecoil_Y = Y25; 
            AntiRecoil_X = X25; 
        }
        
        
        if(get_ptime(Fire) >= 3250)  // Bullet 26
        {
            AntiRecoil_Y = Y26; 
            AntiRecoil_X = X26; 
        }
        
        
        if(get_ptime(Fire) >= 3380)  // Bullet 27
        {
            AntiRecoil_Y = Y27; 
            AntiRecoil_X = X27; 
        }
        
        
        if(get_ptime(Fire) >= 3510)  // Bullet 28
        {
            AntiRecoil_Y = Y28; 
            AntiRecoil_X = X28; 
        }
        
        
        if(get_ptime(Fire) >= 3640)  // Bullet 29
        {
            AntiRecoil_Y = Y29; 
            AntiRecoil_X = X29; 
        }
        
        
        if(get_ptime(Fire) >= 3770)  // Bullet 30
        {
            AntiRecoil_Y = Y30; 
            AntiRecoil_X = X30; 
        }

        if(get_ptime(Fire) >= 4000)  // Bullet 30
        {
            AntiRecoil_Y = 0; 
            AntiRecoil_X = 0; 
        }
		 
        
          
        
        
        set_val(PS4_RY, SmartSens(AntiRecoil_Y, PS4_RY));
        set_val(PS4_RX, SmartSens(AntiRecoil_X, PS4_RX));
    
        
    }
    
    
}


int SmartSens;

function SmartSens(f_val, f_axis) { 

    SmartSens = ( (f_val * ( 100 - abs( get_val(f_axis) ) ) ) / 100); 

    return clamp(get_val(f_axis) + SmartSens, -100, 100);
}

