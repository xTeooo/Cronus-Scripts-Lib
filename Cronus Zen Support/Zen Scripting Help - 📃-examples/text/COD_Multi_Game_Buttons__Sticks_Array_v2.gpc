/*


		 	 	A  G P C  P O W E R  S C R I P T  F O R  C R O N U S  Z E N  B Y   			
				 _______  ______ _______ _______ _______ _______ __   _ _______
				 |       |_____/ |______ |______ |       |______ | \  | |______
				 |_____  |    \_ |______ ______| |_____  |______ |  \_| ______| 
				 				  	   __ __     _ ______                                    
									   __) _)   |_) |  |                                     
									   __)/__   |_)_|_ |                                                                                     
				 	 |_  _ _|_ _     _  __ _ __     _ __  _        _  _ __ 
					 |_)(/_ |_(_| o (_  | (_)| ||_|_> |||(_|><  o (_ (_)|||	
					    
					 https://bit.ly/zen32bit  ||  https://beta.cronusmax.com			
		          ___      _   _                 __       ___ _   _    _              
		         | _ )_  _| |_| |_ ___ _ _  ___ / _|___  / __| |_(_)__| |__ ___       
		         | _ \ || |  _|  _/ _ \ ' \(_-< > _|_ _| \__ \  _| / _| / /(_-<       
		  ___    |___/\_,_|\__|\__\___/_||_/__/ \_____|  |___/\__|_\__|_\_\/__/       
		 |_  )__ __| (_)_ __  ___ _ _  __(_)___ _ _  __ _| |  __ _ _ _ _ _ __ _ _  _  
		  / /___/ _` | | '  \/ -_) ' \(_-< / _ \ ' \/ _` | | / _` | '_| '_/ _` | || | 
		 /___|  \__,_|_|_|_|_\___|_||_/__/_\___/_||_\__,_|_| \__,_|_| |_| \__,_|\_, | 
		                                                                        |__/  

Are you building scripts for Call of Duty and do you want to create an universal, cross platform script 
that works for all button lay outs and that plays on Cold War, Modern Warfar & VanGuard? 
YES - YOU CAN! And this will get you going. I left some hints and instructions in here and also added
a user created function that leaves you with endless possibilties to create a razor sharp COD
script that players will love and celebrate. 
				  	

*/
define /*Bu*/ttons = 23;
define /*St*/icks = 0;
/*
				Do you play COLDWAR?  â–ºâ–º  			 	 								 
																						 
	 	   b â–ºâ–º	COLDWAR:									 							 
	   	   u	BUMPER_PING=12,					BUMPER_PING_TACTICAL=13, 				 
		   t	BUMPER_PING_SWAPPED=20,			BUMPER_PING_TACTICAL_SWAPPED=21,		 
	   	   t	DEFAULT=22, 					TACTICAL=23, 							 
	   	   o	LEFTY=24,						N0M4D_CHARLIE=25, 						 				 
		   n	BUMPER_JUMPER=26,				BUMPER_JUMPER_TACTICAL =27,				  
		   s	ONE_HAND_GUNSLINGER =28,		STICK_AND_MOVE=29,						 
				BRAWLER=30, 					DEFAULT_SWAPPED=31,			 			 		
	   	  	 	BUMPER_JUMPER_SWAPPED=33, 		BUMPER_JUMPER_TACTICAL_SWAPPED=34, 		 
	  			TACTICAL_SWAPPED =32, 			STICK_AND_MOVE_SWAPPED=35. 			 	 
	   									 												 
		        Do you play VANGUARD / MW WARFARE? â–ºâ–º						 			 
			   																			 
		   b â–ºâ–º	VANGUARD / MW WARFARE: 													 
		   u	DEFAULT=0, 						BUMPER_JUMPER_TACTICAL =7,				 
		   t	TACTICAL=1, 					ONE_HAND_GUNSLINGER =8,					 
		   t	LEFTY=2, 						STICK_AND_MOVE=9, 						 
		   t	N0M4D_CHARLIE=3, 				BRAWLER=10,								 
		   o	N0M4D_CHARLIE_TACTICAL=4,		BEASTY=11, 		 						 
		   n	N0M4D_CHARLIE_LEFTY=5, 			BUMPER_PING=12,							 
		   s	BUMPER_JUMPER=6,  				BUMPER_PING_TACTICAL=13,	 			 
	        	DEFAULT_SWAPPED=14, 			TACTICAL_SWAPPED =15,					 
	  		  	BUMPER_JUMPER_SWAPPED=16,		BUMPER_JUMPER_TACTICAL_SWAPPED=17,		 
	   			STICK_AND_MOVE_SWAPPED=18, 		BEASTY_SWAPPED=19, 		 				 
	   			BUMPER_PING_SWAPPED=20,			BUMPER_PING_TACTICAL_SWAPPED=21. 		 
	    		
	    		Sticks are the same for all three games â–ºâ–º
	    		
           s â–ºâ–º	VANGUARD / MW WARFARE / COLDWAR	STICKS:	        					   	 
  		   t	DEFAULT= 0 															     
  		   i	LEGACY= 2 															   	 
           c	SOUTHPAW= 1	 				     										 
  		   k	LEGACY SOUTHPAW= 3	 												      
 		   s
 		   
 /*
The colours below and data string have nothing to do with the button arrays, 
they are just there for your convience in case you want to use the LED function*/

define 	LedOff= 13, Blue= 0, Red= 1, Green= 2, Lavender= 3, White= 4, Yellow= 5, 
		SkyBlue= 6, Neon= 7, Lilac= 8, Pink= 9, Pinkish= 10, Orange= 11, Emerald= 12;
data( 
/* 0		1		  2		  3		   4	    5		 6
 Blue      Red 	   Green   Lavender	 White	 Yellow   SkyBlue*/
1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1, 1,1,1,0, 0,1,1,0, 1,0,1,0,
/* 7		8		 9		 10  	   11      12       13       
 Neon 	  Lilac    Pink    Pinkish   Orange  Emerald    Off*/
3,1,0,0, 2,3,0,0, 1,3,0,0, 1,3,1,0, 0,3,1,0, 1,1,2,0, 0,0,0,0); 

int data_idx;
function Led(color) {  
    for(data_idx = 0; data_idx <= 3; data_idx++) {
        set_led(data_idx,duint8 ((color * 4) + data_idx));
    }
}
/*
Button array 
const int8 Bu[row#][column#] */
const int8 Bu[][]={/*all button layouts supported
 0 1 2 3  4  5 6 7  8  9 10 11 12 13 14 15 16 17 â†’ [column#] */
{4,7,3,6,19,18,5,8,20,17,13,0, 1, 2, 14,16,13,15},//0
{4,7,3,6,19,5,18,8,20,17,13,0, 1, 2, 14,16,13,15},//1
{7,4,6,3,19,18,8,5,20,17,13,0, 1, 2, 14,16,13,15},//2
{4,3,7,6,19,18,5,8,20,17,13,0, 1, 2, 14,16,13,15},//3
{4,3,7,6,19,5,18,8,20,17,13,0, 1, 2, 14,16,13,15},//4
{7,6,4,3,19,18,8,5,20,17,13,0, 1, 2, 14,16,13,15},//5
{4,7,3,19,6,18,5,8,20,17,13,0, 1, 2, 14,16,13,15},//6
{4,7,3,19,6,5,18,8,20,17,13,0, 1, 2, 14,16,13,15},//7
{6,7,4,3,19,18,5,8,20,17,13,0, 1, 2, 14,16,13,15},//8
{4,7,3,6,5,18,19,8,20,17,13,0, 1, 2, 14,16,13,15},//9
{4,7,3,6,19,18,5,8,20,17,13,0, 1, 2, 14,16,13,15},//10
{4,7,5,19,6,18,3,8,20,17,13,0, 1, 2, 14,16,13,15},//11
{4,7,3,3,19,18,5,8,20,17,6, 0, 1, 2, 14,16,13,15},//12
{4,7,3,3,19,5,18,8,20,17,6, 0, 1, 2, 14,16,13,15},//13
{3,6,4,7,19,18,5,8,20,17,13,0, 1, 2, 14,16,13,15},//14
{3,6,4,7,19,5,18,8,20,17,13,0, 1, 2, 14,16,13,15},//15
{3,6,4,19,7,18,5,8,20,17,13,0, 1, 2, 14,16,13,15},//16
{3,6,4,19,7,5,18,8,20,17,13,0, 1, 2, 14,16,13,15},//17
{3,6,4,7,5,18,19,8,20,17,13,0, 1, 2, 14,16,13,15},//18
{3,6,5,19,6,18,3,8,20,17,13,0, 1, 2, 14,16,13,15},//19
{3,6,4,4,19,18,5,8,20,17,7, 0, 1, 2, 14,16,13,15},//20
{3,6,4,4,19,5,18,8,20,17,7, 0, 1, 2, 14,16,13,15},//21
{4,7,3,6,19,18,5,8,20,17,15,0, 1, 2, 14,16,13,15},//22
{4,7,3,6,19,5,18,8,20,17,15,0, 1, 2, 14,16,13,15},//23
{7,4,6,3,19,18,8,5,20,17,15,0, 1, 2, 14,16,13,15},//24
{4,3,7,6,19,18,5,8,20,17,15,0, 1, 2, 14,16,13,15},//25
{4,7,3,19,6,18,5,8,20,17,15,0, 1, 2, 14,16,13,15},//26
{4,7,3,19,6,5,18,8,20,17,15,0, 1, 2, 14,16,13,15},//27
{6,7,4,3,19,18,5,8,20,17,15,0, 1, 2, 14,16,13,15},//28
{4,7,3,6,5,18,19,8,20,17,15,0, 1, 2, 14,16,13,15},//29
{4,7,3,6,19,18,5,8,20,17,15,0, 1, 2, 14,16,13,15},//30
{3,6,4,7,19,18,5,8,20,17,15,0, 1, 2, 14,16,13,15},//31
{3,6,4,7,19,5,18,8,20,17,15,0, 1, 2, 14,16,13,15},//32
{3,6,4,19,7,18,5,8,20,17,15,0, 1, 2, 14,16,13,15},//33
{3,6,4,19,7,5,18,8,20,17,15,0, 1, 2, 14,16,13,15},//34
{3,6,4,7,5,18,19,8,20,17,15,0, 1, 2, 14,16,13,15} //35
};/*											   â†“												   
												 [row#]
*/													
const int8 St[][]={/*sticks*/
{12,11,9,10},
{10,9,11,12},
{12,9,11,10},
{10,11,9,12}
};

/* 		You can leave this or remove this. I left it in case you want to build an OLED menu. This will get you started with string lables. 
define 	S_DEFAULT=0,S_SOUTHPAW=1,S_LEGACY=2,S_LEGACY_SOUTHPAW=3;
define 	DEFAULT=0, TACTICAL=1, LEFTY=2, N0M4D_CHARLIE=3, N0M4D_CHARLIE_TACTICAL=4, N0M4D_CHARLIE_LEFTY=5, BUMPER_JUMPER=6, 
	   	BUMPER_JUMPER_TACTICAL =7, ONE_HAND_GUNSLINGER =8, STICK_AND_MOVE=9, BRAWLER=10, BEASTY=11, BUMPER_PING=12,
	   	BUMPER_PING_TACTICAL=13, DEFAULT_SWAPPED=14, TACTICAL_SWAPPED =15, BUMPER_JUMPER_SWAPPED=16, BUMPER_JUMPER_TACTICAL_SWAPPED=17,
	   	STICK_AND_MOVE_SWAPPED=18, BEASTY_SWAPPED=19, BUMPER_PING_SWAPPED=20, BUMPER_PING_TACTICAL_SWAPPED=21,
	   	/coldwar/CW_DEFAULT=22, CW_TACTICAL=23, CW_LEFTY=24, CW_N0M4D_CHARLIE=25,  CW_BUMPER_JUMPER=26, 
	   	CW_BUMPER_JUMPER_TACTICAL =27, CW_ONE_HAND_GUNSLINGER =28, CW_STICK_AND_MOVE=29, CW_BRAWLER=30,  
	   	CW_DEFAULT_SWAPPED=31, CW_TACTICAL_SWAPPED =32, CW_BUMPER_JUMPER_SWAPPED=33, CW_BUMPER_JUMPER_TACTICAL_SWAPPED=34,
	   	CW_STICK_AND_MOVE_SWAPPED=35;*/ 
	   
define 	Off= -1, On= 1;	 
int 	WALK, STRAFE, AIM_H, AIM_V, FIRE, ADS, LETHAL, TAC_G, JUMP, CROUCH, MELEE, SPRINT, RELOAD, SWAP, 
		PING, HOME, SHOW, MENU, DOWN, RIGHT, UP, LEFT; 
int 	ib, Pressed, Btn, hue;
int 	enemy_ping= Off;

main {

 Led (Blue);

/*-->Lables like FIRE, PING & JUMP will now be regognized correctly on every console with every button & stick layout.
For example: if you press FIRE, PING, JUMP or double tap ADS you will see in TRACE_1 a timer counting down from 3000ms 
You can also try out the enemy ping mod that I added as an example.*/

set_val(TRACE_1, Pressed);

if(get_lval(FIRE) || get_ival(PING) || event_press (JUMP) || get_ival(ADS) && get_brtime(ADS) <= 200 || event_release (LEFT))
																												{
																												checkifpressed();
																												} 
//count down from 3000ms
 if (Pressed) 
 			{	 
 			rainbow ();
        	Pressed -= get_rtime();
 			if (Pressed < 0) Pressed= 0; 
 			}
 			
/*
When I press JUMP (19. XB1_A / 19. PS4_CROSS) in TRACE_2 below Btn will be 4. Why?

set_val(TRACE_2, Btn);

Because "Btn" is defined by the function "checkifpressed" and by what you defined above
under "define Buttons". For example: Cold War Tactical = 23. 
In array "const int8 Bu" on row 23 JUMP is on column 4. 

					 â”Œâ”€  define /*Bu/ttons = 23;  â”€â”					 						    
	  const int8 Bu[row][column]  â†”  const int8 Bu[23][4]
	  					   â†“					   	   â†“
	  					  JUMP					 	  JUMP
	  					
	 					
TIP: if you want to check all lables below in device monitor remove the two slashes 
you see below in front of checkifpressed();*/

// checkifpressed();

set_val(TRACE_2, Btn);

WALK = St[icks][0]; STRAFE = St[icks][1]; AIM_H = St[icks][2]; AIM_V = St[icks][3]; 
FIRE = Bu[ttons][0]; ADS = Bu[ttons][1]; LETHAL = Bu[ttons][2]; TAC_G = Bu[ttons][3]; 
JUMP = Bu[ttons][4]; CROUCH = Bu[ttons][5]; MELEE = Bu[ttons][6]; SPRINT = Bu[ttons][7];
RELOAD = Bu[ttons][8]; SWAP = Bu[ttons][9]; PING = Bu[ttons][10]; HOME = Bu[ttons][11];
SHOW = Bu[ttons][12]; MENU = Bu[ttons][13]; DOWN = Bu[ttons][14]; RIGHT = Bu[ttons][15];
UP = Bu[ttons][16]; LEFT = Bu[ttons][17];

/*

                      â•”â•â•—â•¦ â•¦â•”â•¦â•—â•”â•â•—   â•”â•â•—â•¦â•”â•—â•”â•”â•â•—                  
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â• â•â•£â•‘ â•‘ â•‘ â•‘ â•‘â”€â”€â”€â• â•â•â•‘â•‘â•‘â•‘â•‘ â•¦â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                      â•© â•©â•šâ•â• â•© â•šâ•â•   â•©  â•©â•â•šâ•â•šâ•â•                  

*/	

if(enemy_ping  >= 1)
	{
		if(enemy_ping == 1)
		{
			if(event_press(ADS))
				combo_run(AUTO_PING); 
		}
      	if(enemy_ping == 2)
		{
			if(event_press(FIRE))
				combo_run(AUTO_PING); 
		}
		if(enemy_ping == 3)
		{
			if(get_ival(ADS) && event_press(FIRE))
				combo_run(AUTO_PING); 
		}		
	}

}//--end of main

combo AUTO_PING {
wait (50);
set_val(PING,100);
wait(20);
set_val(PING,0);
wait(20);
set_val(PING,100);
wait(20);
set_val(PING,0);
}
  
  function checkifpressed (){  
    for(ib = 0; ib < 18; ib++){
    	if(event_press (Bu[ttons][ib])|| event_release (Bu[ttons][ib])){ 
    		Btn = ib;
        	Pressed = 3000; 
        	}
		}
	}/* 
Tip: the function above could be extremely usefull in combination with a screen saver for your OLED display. You could for example instruct 
the ZEN to clear the OLED after a certain button is released. The time is now set to 3000 and will reset if you use the same button or buttons.
That makes this function also ideal for kill switches and auto close & auto save configuration menus-> for example after XXXXms of inactivity
close the edit menu and save values.*/ 	
function rainbow () {
	hue++;
	if (hue == 360) hue = 0; set_hsb(hue, 100, 100);
	} úÃ÷ÅôÄòËýÊþÉÿÍúÎ